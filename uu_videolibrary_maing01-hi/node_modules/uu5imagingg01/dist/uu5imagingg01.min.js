/*!
 * UAF Licence for the uu5Imaging software.
 * 
 * Copyright (c) 2016-present, Unicorn a.s.
 * All rights reserved.
 * 
 * Definitions
 * -----------
 * This licence agreement is based on the original "BSD Licence" published by
 * the Regents of the University of California in 1990.
 * 
 * The term "Software" means the uu5 package, its modules, components,
 * all program files, source code, examples, media, and documentation which are part
 * of the Software package, as well as any portion of them. The term "Author" means
 * Unicorn a.s. and all its subsidiaries and/or affiliates.
 * 
 * Licence Agreement
 * -----------------
 * 
 * Redistribution and use of this Software in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 
 * 3. All derivative products containing user interface must display the following
 *    acknowledgement in the appropriate "About window" or website section accessible
 *    by all users of the product:
 * 
 *      This product includes following software developed by
 *      <a href="https://unicorn.com">Unicorn a.s.</a>:
 *      <a href="https://uuapp.plus4u.net/uu-bookkit-maing01/86b4d5a4a030400784764ebdb972bbda/book">UAF</a>,
 *      <a href="https://docs.plus4u.net/uaf/uuapp/uu5">uu5</a>.
 * 
 * 4. All derivative products must not block the default uu5 browser console message containing
 *    Software version information and copyright notice of the Author.
 * 
 * 5. The use of any portion of this Software is not allowed in the products
 *    that fully or partially resemble the functionality of the Software
 *    or otherwise compete with the Software unless they are licenced under the same licence
 *    conditions and provided free of charge. Specific prior written permission is required otherwise.
 * 
 * 6. Neither the name of the Author nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 * 
 * Disclaimer
 * ----------
 * THIS SOFTWARE IS PROVIDED BY AUTHOR "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AUTHOR BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(e,t){
"object"==typeof exports&&"object"==typeof module?module.exports=t(require("uu5g04"),require("uu5g04-bricks"),require("uu5g04-forms"),require("module"),require("react"),require("prop-types")):"function"==typeof define&&define.amd?define("uu5imagingg01",["uu5g04","uu5g04-bricks","uu5g04-forms","module","react","prop-types"],t):"object"==typeof exports?exports.uu5imagingg01=t(require("uu5g04"),require("uu5g04-bricks"),require("uu5g04-forms"),require("module"),require("react"),require("prop-types")):(e.UU5=e.UU5||{},
e.UU5.Imaging=t(e.UU5,e.UU5.Bricks,e.UU5.Forms,e[void 0],e.React,e.PropTypes))}(window,(function(e,t,n,i,r,a){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,
l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){
"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),
8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),
2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e}
;return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(t,n){t.exports=e},function(e,t,n){"use strict";e.exports=function(e){var t=[]
;return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(o=i,
s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),a=i.sources.map((function(e){
return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([r]).join("\n")}var o,s,u;return[n].join("\n")}(t,e)
;return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0]
;null!=o&&(r[o]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t){function n(e){
var t=document.head||document.body;e.setAttribute("data-owner","uu5imagingg01/uu5imagingg01@1.9.4"),e.setAttribute("data-emotion","uu-imaging"),e.setAttribute("data-tech","less")
;for(var n=t.querySelectorAll('style[data-emotion="uu-imaging"]'),i=n.length-1;i>=0;i--){var r=n[i];if("less"===r.getAttribute("data-tech"))return void r.parentNode.insertBefore(e,r.nextSibling)}
for(var a=0;a<n.length;a++){var o=n[a];if("less"!==o.getAttribute("data-tech"))return void o.parentNode.insertBefore(e,o)}var s=document.querySelector("[data-uu-app-styles-insert-before]")
;s?s.parentNode.insertBefore(e,s):t.appendChild(e)}var i={appendChild:n,insertBefore:n,insertAfter:n};e.exports=function(){return i}},function(e,t,n){var i,r,a={},o=(i=function(){
return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},u=function(e){
var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var i=s.call(this,e,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{
i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),l=null,c=0,p=[],h=n(12);function g(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=a[i.id];if(r){r.refs++
;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(y(i.parts[o],t))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(y(i.parts[o],t));a[i.id]={id:i.id,
refs:1,parts:s}}}}function m(e,t){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[o]?i[o].parts.push(s):n.push(i[o]={id:o,parts:[s]
})}return n}function d(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.")
;var i=p[p.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),
p.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{
if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n")
;var r=u(e.insertAt.before,n);n.insertBefore(t,r)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function b(e){
var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return n.nc}();i&&(e.attrs.nonce=i)}return v(t,e.attrs),d(e,t),t}
function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,i,r,a;if(t.transform&&e.css){
if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var o=c++;n=l||(l=b(t)),i=w.bind(null,n,o,!1),r=w.bind(null,n,o,!0)
}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){
var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),d(e,t),t}(t),i=I.bind(null,n,t),r=function(){f(n),
n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),i=_.bind(null,n),r=function(){f(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}
e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment")
;(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=m(e,t)
;return g(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var o=n[r];(s=a[o.id]).refs--,i.push(s)}e&&g(m(e,t),t);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){
for(var u=0;u<s.parts.length;u++)s.parts[u]();delete a[s.id]}}}};var x,C=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function w(e,t,n,i){var r=n?"":i.css
;if(e.styleSheet)e.styleSheet.cssText=C(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function _(e,t){
var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}
function I(e,t,n){var i=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(i=h(i)),
r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),
s&&URL.revokeObjectURL(s)}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){var i;"undefined"!=typeof self&&self,i=function(e,t){return function(e){var t={};function n(i){
if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{
configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){
return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.containCrop=t.makeAspectCrop=t.getPixelCrop=t.Component=t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,
"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){
var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{
if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(1),s=l(o),u=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return h=!0,!0}}))}catch(e){}function g(e){
var t=void 0,n=void 0;if(e.touches){var i=a(e.touches,1)[0];t=i.pageX,n=i.pageY}else t=e.pageX,n=e.pageY;return{x:t,y:n}}function m(e,t,n){return Math.min(Math.max(e,t),n)}function d(e){
return e&&e.width&&e.height&&!isNaN(e.width)&&!isNaN(e.height)}function f(e){var t=void 0
;return"n"===e?t="s":"ne"===e?t="sw":"e"===e?t="w":"se"===e?t="nw":"s"===e?t="n":"sw"===e?t="ne":"w"===e?t="e":"nw"===e&&(t="se"),t}function b(e,t){
if(isNaN(e.aspect)||isNaN(t))return console.warn("`crop.aspect` and `imageAspect` need to be numbers in order to make an aspect crop",e),e;var n=r({x:0,y:0},e)
;return e.width&&(n.height=e.width/e.aspect*t),e.height&&(n.width=(n.height||e.height)*(e.aspect/t)),e.y+(n.height||e.height)>100&&(n.height=100-e.y,n.width=n.height*e.aspect/t),
e.x+(n.width||e.width)>100&&(n.width=100-e.x,n.height=n.width/e.aspect*t),n}function v(e,t){return e&&e.aspect&&function(e,t,n){
return!!(!e.width&&e.height||e.width&&!e.height)||!(!e.width||!e.height||Math.round(n*(e.height/100)*e.aspect)===Math.round(t*(e.width/100)))
}(e,t.naturalWidth,t.naturalHeight)?b(e,t.naturalWidth/t.naturalHeight):e}function y(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!t)return null
;var i=n?e.naturalWidth:e.width,r=n?e.naturalHeight:e.height,a=Math.round(i*(t.x/100)),o=Math.round(r*(t.y/100)),s=Math.round(i*(t.width/100)),u=Math.round(r*(t.height/100));return{x:a,y:o,
width:m(s,0,i-a),height:m(u,0,r-o)}}function x(e,t,n){var i=r({},t);t.aspect&&e.x>t.x&&t.height+t.y>=100&&(i.x=e.x);var a=!1;i.x+i.width>100?(i.width=t.width+(100-(t.x+t.width)),
i.x=t.x+(100-(t.x+i.width)),a=!0):i.x<0&&(i.width=t.x+t.width,i.x=0,a=!0),a&&t.aspect&&(i.height=i.width/t.aspect*n,e.y>i.y&&(i.y=t.y+(t.height-i.height)));var o=!1
;return i.y+i.height>100?(i.height=t.height+(100-(t.y+t.height)),i.y=t.y+(100-(t.y+i.height)),o=!0):i.y<0&&(i.height=t.y+t.height,i.y=0,o=!0),o&&t.aspect&&(i.width=i.height*t.aspect/n,
i.x<t.x&&(i.x=t.x+(t.width-i.width))),i}var C=function(e){function t(){var e,n,i;c(this,t);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o]
;return n=i=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.window=window,i.document=document,i.state={},i.onCropMouseTouchDown=function(e){var t=i.props,n=t.crop
;if(!t.disabled){e.preventDefault();var r=g(e);i.componentRef.focus({preventScroll:!0});var a=e.target.dataset.ord,o="nw"===a||"w"===a||"sw"===a,s="nw"===a||"n"===a||"ne"===a,u=void 0
;n.aspect&&(u=i.getElementOffset(i.cropSelectRef)),i.evData={clientStartX:r.x,clientStartY:r.y,cropStartWidth:n.width,cropStartHeight:n.height,cropStartX:o?n.x+n.width:n.x,
cropStartY:s?n.y+n.height:n.y,xInversed:o,yInversed:s,xCrossOver:o,yCrossOver:s,startXCrossOver:o,startYCrossOver:s,isResize:e.target.dataset.ord,ord:a,cropOffset:u},i.mouseDownOnCrop=!0,i.setState({
cropIsActive:!0})}},i.onComponentMouseTouchDown=function(e){var t=i.props,n=t.crop,r=t.disabled,a=t.locked,o=t.keepSelection,s=t.onChange,u=t.useNaturalImageDimensions
;if(e.target===i.imageRef&&!(r||a||o&&d(n))){e.preventDefault();var l=g(e);i.componentRef.focus({preventScroll:!0})
;var c=i.getElementOffset(i.imageRef),p=(l.x-c.left)/i.imageRef.width*100,h=(l.y-c.top)/i.imageRef.height*100,m={aspect:n?n.aspect:void 0,x:p,y:h,width:0,height:0};i.evData={clientStartX:l.x,
clientStartY:l.y,cropStartWidth:m.width,cropStartHeight:m.height,cropStartX:m.x,cropStartY:m.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,
ord:"nw"},i.mouseDownOnCrop=!0,s(m,y(i.imageRef,m,u)),i.setState({cropIsActive:!0})}},i.onDocMouseTouchMove=function(e){var t=i.props,n=t.crop,r=t.disabled,a=t.onChange,o=t.onDragStart
;if(!r&&i.mouseDownOnCrop){e.preventDefault(),i.dragStarted||(i.dragStarted=!0,o());var s=i.evData,u=g(e);s.isResize&&n.aspect&&s.cropOffset&&(u.y=i.straightenYPath(u.x));var l=u.x-s.clientStartX
;s.xDiffPc=l/i.imageRef.width*100;var c=u.y-s.clientStartY;s.yDiffPc=c/i.imageRef.height*100;var p=void 0;(p=s.isResize?i.resizeCrop():i.dragCrop())!==n&&a(p,y(i.imageRef,p))}},
i.onComponentKeyDown=function(e){var n=i.props,r=n.crop,a=n.disabled,o=n.onChange,s=n.onComplete,u=n.useNaturalImageDimensions;if(!a){var l=e.which,c=!1;if(d(r)){var p=i.makeNewCrop()
;l===t.arrowKey.left?(p.x-=t.nudgeStep,c=!0):l===t.arrowKey.right?(p.x+=t.nudgeStep,c=!0):l===t.arrowKey.up?(p.y-=t.nudgeStep,c=!0):l===t.arrowKey.down&&(p.y+=t.nudgeStep,c=!0),c&&(e.preventDefault(),
p.x=m(p.x,0,100-p.width),p.y=m(p.y,0,100-p.height),o(p,y(i.imageRef,p,u)),s(p,y(i.imageRef,p,u)))}}},i.onDocMouseTouchEnd=function(){
var e=i.props,t=e.crop,n=e.disabled,r=e.onComplete,a=e.onDragEnd,o=e.useNaturalImageDimensions;n||i.mouseDownOnCrop&&(i.mouseDownOnCrop=!1,i.dragStarted=!1,a(),r(t,y(i.imageRef,t,o)),i.setState({
cropIsActive:!1}))},p(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{
key:"componentDidMount",value:function(){var e=!!h&&{passive:!1};if(this.document.addEventListener("mousemove",this.onDocMouseTouchMove,e),
this.document.addEventListener("touchmove",this.onDocMouseTouchMove,e),this.document.addEventListener("mouseup",this.onDocMouseTouchEnd,e),
this.document.addEventListener("touchend",this.onDocMouseTouchEnd,e),this.document.addEventListener("touchcancel",this.onDocMouseTouchEnd,e),
this.imageRef.complete||this.imageRef.readyState)if(0===this.imageRef.naturalWidth){var t=this.imageRef.src;this.imageRef.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",
this.imageRef.src=t}else this.onImageLoad(this.imageRef)}},{key:"componentWillUnmount",value:function(){this.document.removeEventListener("mousemove",this.onDocMouseTouchMove),
this.document.removeEventListener("touchmove",this.onDocMouseTouchMove),this.document.removeEventListener("mouseup",this.onDocMouseTouchEnd),
this.document.removeEventListener("touchend",this.onDocMouseTouchEnd),this.document.removeEventListener("touchcancel",this.onDocMouseTouchEnd)}},{key:"onImageLoad",value:function(e){
var t=this.props,n=t.crop,i=t.onComplete,r=t.onChange,a=t.onImageLoaded,o=t.useNaturalImageDimensions,s=v(n,e);!1!==a(e,y(e,s,o))&&s!==n&&(r(s,y(e,s,o)),i(s,y(e,s,o)))}},{key:"getElementOffset",
value:function(e){var t=e.getBoundingClientRect(),n=this.document.documentElement;return{top:t.top+this.window.pageYOffset-n.clientTop,left:t.left+this.window.pageXOffset-n.clientLeft}}},{
key:"getCropStyle",value:function(){var e=this.props.crop;return{top:e.y+"%",left:e.x+"%",width:e.width+"%",height:e.height+"%"}}},{key:"getNewSize",value:function(){
var e=this.props,t=e.crop,n=e.minWidth,i=e.maxWidth,r=e.minHeight,a=e.maxHeight,o=this.evData,s=this.imageRef.width/this.imageRef.height,u=o.cropStartWidth+o.xDiffPc;o.xCrossOver&&(u=Math.abs(u)),
u=m(u,n,i);var l=void 0;return l=t.aspect?u/t.aspect*s:o.cropStartHeight+o.yDiffPc,o.yCrossOver&&(l=Math.min(Math.abs(l),o.cropStartY)),l=m(l,r,a),t.aspect&&(u=m(l*t.aspect/s,0,100)),{width:u,height:l
}}},{key:"dragCrop",value:function(){var e=this.makeNewCrop(),t=this.evData;return e.x=m(t.cropStartX+t.xDiffPc,0,100-e.width),e.y=m(t.cropStartY+t.yDiffPc,0,100-e.height),e}},{key:"resizeCrop",
value:function(){var e=this.makeNewCrop(),n=this.evData,i=this.props,r=i.crop,a=i.minWidth,o=i.minHeight,s=n.ord,u=this.imageRef.width/this.imageRef.height
;n.xInversed&&(n.xDiffPc-=2*n.cropStartWidth),n.yInversed&&(n.yDiffPc-=2*n.cropStartHeight);var l=this.getNewSize(),c=n.cropStartX,p=n.cropStartY;n.xCrossOver&&(c=e.x+(e.width-l.width)),
n.yCrossOver&&(p=!1===n.lastYCrossover?e.y-l.height:e.y+(e.height-l.height));var h=x(this.props.crop,{x:c,y:p,width:l.width,height:l.height,aspect:e.aspect},u)
;return e.aspect||t.xyOrds.indexOf(s)>-1?(e.x=h.x,e.y=h.y,e.width=h.width,e.height=h.height):t.xOrds.indexOf(s)>-1?(e.x=h.x,e.width=h.width):t.yOrds.indexOf(s)>-1&&(e.y=h.y,e.height=h.height),
n.lastYCrossover=n.yCrossOver,this.crossOverCheck(),a&&e.width<a||o&&e.height<o?r:e}},{key:"straightenYPath",value:function(e){
var t=this.evData,n=t.ord,i=t.cropOffset,r=t.cropStartWidth/100*this.imageRef.width,a=t.cropStartHeight/100*this.imageRef.height,o=void 0,s=void 0;return"nw"===n||"se"===n?(o=a/r,
s=i.top-i.left*o):(o=-a/r,s=i.top+(a-i.left*o)),o*e+s}},{key:"createCropSelection",value:function(){var e=this,t=this.props,n=t.disabled,i=t.locked,r=t.renderSelectionAddon,a=this.getCropStyle()
;return s.default.createElement("div",{ref:function(t){e.cropSelectRef=t},style:a,className:"ReactCrop__crop-selection",onMouseDown:this.onCropMouseTouchDown,onTouchStart:this.onCropMouseTouchDown,
role:"presentation"},!n&&!i&&s.default.createElement("div",{className:"ReactCrop__drag-elements"},s.default.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"
}),s.default.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),s.default.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"
}),s.default.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw"
}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne"
}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se"
}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s"}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw"
}),s.default.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w"})),r&&r(this.state))}},{key:"makeNewCrop",value:function(){return r({},t.defaultCrop,this.props.crop)}},{
key:"crossOverCheck",value:function(){var e=this.evData;(!e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc>=0||e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc<=0)&&(e.xCrossOver=!e.xCrossOver),
(!e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc>=0||e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc<=0)&&(e.yCrossOver=!e.yCrossOver)
;var t=e.xCrossOver!==e.startXCrossOver,n=e.yCrossOver!==e.startYCrossOver;e.inversedXOrd=!!t&&f(e.ord),e.inversedYOrd=!!n&&f(e.ord)}},{key:"render",value:function(){
var e=this,t=this.props,n=t.children,i=t.className,r=t.crossorigin,a=t.crop,o=t.disabled,u=t.locked,l=t.imageAlt,c=t.onImageError,p=t.src,h=t.style,g=t.imageStyle,m=this.state.cropIsActive,f=void 0
;d(a)&&(f=this.createCropSelection());var b=["ReactCrop"];return m&&b.push("ReactCrop--active"),a&&(a.aspect&&b.push("ReactCrop--fixed-aspect"),
!m||a.width&&a.height||b.push("ReactCrop--crop-invisible")),o&&b.push("ReactCrop--disabled"),u&&b.push("ReactCrop--locked"),i&&b.push.apply(b,function(e){if(Array.isArray(e)){
for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.split(" "))),s.default.createElement("div",{ref:function(t){e.componentRef=t},className:b.join(" "),style:h,
onTouchStart:this.onComponentMouseTouchDown,onMouseDown:this.onComponentMouseTouchDown,role:"presentation",tabIndex:1,onKeyDown:this.onComponentKeyDown},s.default.createElement("img",{ref:function(t){
e.imageRef=t},crossOrigin:r,className:"ReactCrop__image",style:g,src:p,onLoad:function(t){return e.onImageLoad(t.target)},onError:c,alt:l}),n,f)}}]),t}(o.PureComponent);C.xOrds=["e","w"],
C.yOrds=["n","s"],C.xyOrds=["nw","ne","se","sw"],C.arrowKey={left:37,up:38,right:39,down:40},C.nudgeStep=.2,C.defaultCrop={x:0,y:0,width:0,height:0},C.propTypes={className:u.default.string,
crossorigin:u.default.string,children:u.default.oneOfType([u.default.arrayOf(u.default.node),u.default.node]),crop:u.default.shape({aspect:u.default.number,x:u.default.number,y:u.default.number,
width:u.default.number,height:u.default.number}),disabled:u.default.bool,locked:u.default.bool,imageAlt:u.default.string,imageStyle:u.default.shape({}),keepSelection:u.default.bool,
minWidth:u.default.number,minHeight:u.default.number,maxWidth:u.default.number,maxHeight:u.default.number,onChange:u.default.func.isRequired,onImageError:u.default.func,onComplete:u.default.func,
onImageLoaded:u.default.func,onDragStart:u.default.func,onDragEnd:u.default.func,src:u.default.string.isRequired,style:u.default.shape({}),renderSelectionAddon:u.default.func},C.defaultProps={
className:void 0,crop:void 0,crossorigin:void 0,disabled:!1,locked:!1,imageAlt:"",maxWidth:100,maxHeight:100,minWidth:0,minHeight:0,keepSelection:!1,onComplete:function(){},onImageError:function(){},
onImageLoaded:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0,style:void 0,imageStyle:void 0,renderSelectionAddon:void 0,useNaturalImageDimensions:!0},t.default=C,
t.Component=C,t.getPixelCrop=y,t.makeAspectCrop=b,t.containCrop=x},function(t,n){t.exports=e},function(e,n){e.exports=t}])},e.exports=i(n(29),n(30))},function(e,t,n){e.exports=n(8)},function(e,t,n){
var i=n(9),r="undefined"!=typeof document,a=((i?i.uri:r&&(document.currentScript||Array.prototype.slice.call(document.getElementsByTagName("script"),-1)[0]||{}).src)||"").toString()
;"/1.0.0/"===(a=a.split(/\//).slice(0,-1).join("/")+"/").substr(-"/1.0.0/".length)&&(a=a.substr(0,a.length-"/1.0.0/".length)+"/1.9.4/"),n.p=a,e.exports=n(35)},function(e,t){e.exports=i
},function(e,t,n){var i=n(11);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){
(t=n(1)(!1)).push([e.i,".uu5-imaging-lightbox-body{position:absolute;width:100%;height:100%}.uu5-imaging-lightbox-body-preload-image{width:1px;height:1px;position:absolute;top:-10px;left:-10px;opacity:0;pointer-events:none}.uu5-imaging-lightbox-body-content{text-align:center;overflow:hidden;position:absolute;height:100%;width:100%}.uu5-imaging-lightbox-body-vertical-align-helper{display:inline-block;height:100%;vertical-align:middle}.uu5-imaging-lightbox-body-header{position:absolute;top:0;left:0;width:100%;height:40px;z-index:1;text-align:right;font-size:24px;padding:8px;display:flex;align-items:center;background-image:linear-gradient(0deg,transparent,rgba(0,0,0,.54))}.uu5-imaging-lightbox .uu5-bricks-modal-body{padding:0}.uu5-imaging-lightbox .uu5-bricks-modal-dialog{margin:0;max-height:100%;height:100%;width:100%}.uu5-imaging-lightbox-body-navigation-arrow{background:transparent;width:48px;height:48px;position:absolute;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;font-size:48px;color:#fff;text-shadow:0 1px 4px rgba(0,0,0,.87)}.uu5-imaging-lightbox-body-navigation-arrow-right{margin:auto 0 auto auto}.uu5-imaging-lightbox-body-navigation-arrow-left{margin:auto auto auto 0}.uu5-imaging-lightbox-body-white-color{color:#fff}.uu5-imaging-lightbox-body-gray-color,.uu5-imaging-lightbox-body-white-color:hover{color:grey}.uu5-imaging-lightbox-body-gray-color:hover{color:#fff}.uu5-imaging-lightbox-body-counter-white{color:#fff}.uu5-imaging-lightbox-body-counter-gray,.uu5-imaging-lightbox-body-counter-white{display:inline;vertical-align:middle;padding-left:16px;font-size:14px;text-shadow:0 1px 2px rgba(0,0,0,.87)}.uu5-imaging-lightbox-body-counter-gray{color:grey}.uu5-imaging-lightbox-body-control-white{font-size:20px;line-height:20px;text-shadow:0 1px 2px rgba(0,0,0,.87);color:#fff}.uu5-imaging-lightbox-body-control-white:hover{color:grey}.uu5-imaging-lightbox-body-control-gray{font-size:20px;line-height:20px;text-shadow:0 1px 2px rgba(0,0,0,.87);color:grey}.uu5-imaging-lightbox-body-control-gray:hover{color:#fff}a.uu5-imaging-lightbox-body-nodecoration:hover{text-decoration:none}",""]),
e.exports=t},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e
;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){
var r,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}))
;return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){
var i=n(14);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){
(t=n(1)(!1)).push([e.i,"",""]),e.exports=t},function(e,t,n){var i=n(16);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,r)
;i.locals&&(e.exports=i.locals)},function(e,t,n){
(t=n(1)(!1)).push([e.i,'.uu5-imaging-image{overflow:hidden;position:relative;width:100%;max-width:100%;display:inline-block;transform:translateZ(0);outline:none}.uu5-imaging-image.uu5-imaging-image-fit-width{width:auto}.uu5-imaging-image:focus .uu5-imaging-image-focus-wrapper{outline:none;box-shadow:inset 0 0 0 2px #a6c8ff;padding:2px}.uu5-imaging-image-original-dimensions-width{width:auto}.uu5-imaging-image-focus-wrapper{position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none}.uu5-imaging-image-crop:before{content:"";display:block;float:left;padding-top:100%}.uu5-imaging-image-shape-rect4x3:before,.uu5-imaging-image-shape-rect:before{content:"";display:block;float:left;padding-top:75%}.uu5-imaging-image-shape-rect3x2:before{content:"";display:block;float:left;padding-top:66.66%}.uu5-imaging-image-shape-rect5x4:before{content:"";display:block;float:left;padding-top:80%}.uu5-imaging-image-shape-rect2x1:before{content:"";display:block;float:left;padding-top:50%}.uu5-imaging-image-shape-rect3x1:before{content:"";display:block;float:left;padding-top:33.33%}.uu5-imaging-image-shape-rect4x1:before{content:"";display:block;float:left;padding-top:25%}.uu5-imaging-image-shape-rect45x10:before{content:"";display:block;float:left;padding-top:22.22%}.uu5-imaging-image-shape-rect16x9:before{content:"";display:block;float:left;padding-top:56.25%}.uu5-imaging-image-shape-rect16x10:before{content:"";display:block;float:left;padding-top:62.5%}.uu5-imaging-image-shape-rect3x4:before{content:"";display:block;float:left;padding-top:133.33%}.uu5-imaging-image-shape-rect4x5:before{content:"";display:block;float:left;padding-top:125%}.uu5-imaging-image-shape-rect2x3:before{content:"";display:block;float:left;padding-top:150%}.uu5-imaging-image-shape-rect1x2:before{content:"";display:block;float:left;padding-top:200%}.uu5-imaging-image-img{position:relative;display:block}.uu5-imaging-image-auto-width{height:100%;width:auto}.uu5-imaging-image-auto-height{width:100%;height:auto}.uu5-imaging-image-landscape,.uu5-imaging-image-portrait{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.uu5-imaging-image-landscape{height:100%;width:auto}.uu5-imaging-image-portrait{width:100%;height:auto}.uu5-imaging-image-fit-covernoscaleup{width:100%;height:100%;left:0;top:0;right:0;bottom:0;object-fit:cover;transform:none}.uu5-imaging-image-fit-covernoscaleup-center{object-fit:none}.uu5-imaging-image-shape-rounded{border-radius:1em}.uu5-imaging-image-shape-circle{border-radius:50%}.uu5-imaging-image-effect-zoom .uu5-imaging-image-img{transition:all .2s ease}.uu5-imaging-image-effect-grayscale .uu5-imaging-image-img:hover{transition:all .5s ease;filter:url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale");-webkit-filter:grayscale(100%);filter:grayscale(100%);-webkit-filter:grey;filter:gray}.uu5-imaging-image-effect-grayscale .uu5-imaging-image-img{-webkit-filter:none;filter:none}.uu5-imaging-image-effect-sepia .uu5-imaging-image-img:hover{transition:all .5s ease;-webkit-filter:sepia(100%);filter:sepia(100%)}.uu5-imaging-image-effect-invert .uu5-imaging-image-img:hover{transition:all .5s ease;-webkit-filter:invert(100%);filter:invert(100%)}.uu5-imaging-image-effect-sepia .uu5-imaging-image-img{-webkit-filter:none;filter:none}.uu5-imaging-image-effect-blur .uu5-imaging-image-img{transition:all .3s ease}.uu5-imaging-image-effect-blur:hover .uu5-imaging-image-img{-webkit-filter:blur(5px) brightness(120%);filter:blur(5px) brightness(120%)}.uu5-imaging-image-effect-tilt{transition:all .3s ease}.uu5-imaging-image-effect-tilt:hover{z-index:100;transform:rotate(-10deg)}.uu5-imaging-image-effect-morph{transition:all .5s ease;transform:rotate(0)}.uu5-imaging-image-effect-morph:hover{border-radius:50%;transform:rotate(1turn)}.uu5-imaging-image-effect-morph:hover img{border-radius:50%;transition:border-radius .5s ease}.uu5-imaging-image-effect-blur .uu5-imaging-image-effect-caption{transition:.5s ease;opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.uu5-imaging-image-effect-blur:hover .uu5-imaging-image-effect-caption{opacity:1}.uu5-imaging-image-effect-zoom:hover .uu5-imaging-image-img{transform:scale(1.15)}.uu5-imaging-image-effect-zoom:hover .uu5-imaging-image-img.uu5-imaging-image-landscape,.uu5-imaging-image-effect-zoom:hover .uu5-imaging-image-img.uu5-imaging-image-portrait{transform:translate(-50%,-50%) scale(1.15)}.uu5-imaging-image-effect-zoom:hover .uu5-imaging-image-img.uu5-imaging-image-landscape.uu5-imaging-image-fit-covernoscaleup,.uu5-imaging-image-effect-zoom:hover .uu5-imaging-image-img.uu5-imaging-image-portrait.uu5-imaging-image-fit-covernoscaleup{transform:scale(1.15)}.uu5-imaging-image-effect-zoom:hover.uu5-imaging-image-crop>.uu5-imaging-image-img{position:absolute}.uu5-imaging-image-effect-zoom:hover.uu5-imaging-image-crop>.uu5-imaging-image-landscape,.uu5-imaging-image-effect-zoom:hover.uu5-imaging-image-crop>.uu5-imaging-image-portrait{left:0;top:0}.uu5-imaging-image-loading{width:1px;height:1px;position:absolute;top:-1px;left:-1px;opacity:0}.uu5-imaging-image-loading-animation{position:absolute;left:0;right:0;top:0;bottom:0;z-index:1;background:linear-gradient(100deg,hsla(0,0%,100%,0) 30%,hsla(0,0%,100%,.7) 50%,hsla(0,0%,100%,0) 70%,hsla(0,0%,100%,0)) no-repeat 0 0;background-size:80px 100%;animation:loading-image-animation 1.2s linear infinite}@keyframes loading-image-animation{0%{transform:translateX(-80px)}40%{transform:translateX(100%)}to{transform:translateX(100%)}}',""]),
e.exports=t},function(e,t,n){var i=n(18);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,r);i.locals&&(e.exports=i.locals)
},function(e,t,n){
(t=n(1)(!1)).push([e.i,".uu5-imaging-thumbnail-list .uu5-bricks-column{display:inline-block;padding:2px;float:none;vertical-align:top}.uu5-imaging-thumbnail-list-mode-track{vertical-align:top;display:inline-block;overflow:hidden}.uu5-imaging-thumbnail-list-body-placeholder{background:#e0e0e0}",""]),
e.exports=t},function(e,t,n){var i=n(20);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,r);i.locals&&(e.exports=i.locals)
},function(e,t,n){(t=n(1)(!1)).push([e.i,".uu5-imaging-input{position:relative}",""]),e.exports=t},function(e,t,n){var i=n(22);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,
insertInto:function(){return n(2)()}};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){
(t=n(1)(!1)).push([e.i,".uu5-imaging-image-input-wrapper{margin-top:8px}.uu5-imaging-image-input-message-line{margin:6px 0 0}.uu5-imaging-image-input-message-line-feedback-error{background-color:#d50000}.uu5-imaging-image-input-message-line-feedback-warning{background-color:#ff9800}.uu5-imaging-image-input-message-line-feedback-success{background-color:#4faf50}.uu5-imaging-image-input-message-line-feedback-initial{background-color:rgba(0,0,0,.34)}",""]),
e.exports=t},function(e,t,n){var i=n(24);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,r);i.locals&&(e.exports=i.locals)
},function(e,t,n){
(t=n(1)(!1)).push([e.i,".uu5-imaging-image-input{position:relative;line-height:1.42857143;background-color:#fff;background-image:none;border:1px dashed #bdbdbd;border-radius:4px;outline:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;display:flex;flex-direction:column;align-items:normal;justify-content:space-around;color:rgba(0,0,0,.87);cursor:pointer;width:100%}.uu5-imaging-image-input .uu5-bricks-icon{left:0;top:0;right:auto;color:rgba(0,0,0,.54);vertical-align:baseline;display:inline-flex;align-items:center;justify-content:center;position:absolute;vertical-align:middle;text-align:center;height:100%}.uu5-imaging-image-input.uu5-common-bg-style-underline{border-width:0 0 1px;border-radius:0}.uu5-imaging-image-input.uu5-common-bg-style-filled,.uu5-imaging-image-input.uu5-common-bg-style-transparent{border-width:0}.uu5-forms-input-read-only .uu5-imaging-image-input{cursor:default}.uu5-imaging-image-input:hover{background-color:#e0e0e0;border-color:#bdbdbd}.uu5-imaging-image-input.uu5-imaging-image-input-dragover,.uu5-imaging-image-input:focus{background-color:#e3f2fd;border-color:#2196f3}.uu5-imaging-image-input-placeholder{display:inline-block}.uu5-imaging-image-input-file-input{position:absolute;visibility:hidden;height:0;width:0}.uu5-forms-input-s .uu5-imaging-image-input{min-height:24px}.uu5-forms-input-s .uu5-imaging-image-input .uu5-bricks-icon{padding:4px;font-size:16px}.uu5-forms-input-s .uu5-imaging-image-input-placeholder{font-size:12px;margin-left:28px}.uu5-forms-input-m .uu5-imaging-image-input{min-height:32px}.uu5-forms-input-m .uu5-imaging-image-input .uu5-bricks-icon{padding:6px;font-size:20px}.uu5-forms-input-m .uu5-imaging-image-input-placeholder{font-size:14px;margin-left:34px}.uu5-forms-input-l .uu5-imaging-image-input{min-height:40px}.uu5-forms-input-l .uu5-imaging-image-input .uu5-bricks-icon{padding:7px;font-size:26px}.uu5-forms-input-l .uu5-imaging-image-input-placeholder{font-size:16px;margin-left:41px}.uu5-forms-input-xl .uu5-imaging-image-input{min-height:48px}.uu5-forms-input-xl .uu5-imaging-image-input .uu5-bricks-icon{padding:7px;font-size:34px}.uu5-forms-input-xl .uu5-imaging-image-input-placeholder{font-size:18px;margin-left:49px}",""]),
e.exports=t},function(e,t,n){var i=n(26);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,r);i.locals&&(e.exports=i.locals)
},function(e,t,n){
(t=n(1)(!1)).push([e.i,".uu5-imaging-image-input-item{position:relative;display:inline-block;width:100px;max-width:100%;vertical-align:top}.uu5-imaging-image-input-item-button-bar{position:absolute;top:4px;right:4px;z-index:1}.uu5-imaging-image-input-item-button-bar>.uu5-bricks-button{width:24px;height:24px;min-height:24px;padding:0;background-color:hsla(0,0%,100%,.8);box-shadow:0 2px 4px 0 rgba(0,0,0,.5);border-radius:4px}.uu5-imaging-image-input-item-button-bar>.uu5-bricks-button:not(:last-child){margin-right:4px}.uu5-imaging-image-input-item-button-bar>.uu5-bricks-button>.uu5-bricks-icon{font-size:20px;margin:0;padding:0;color:rgba(0,0,0,.54);left:0;right:0;top:0;bottom:0}.uu5-imaging-image-input-item:not(:last-child){margin-right:8px}.uu5-imaging-image-input-item-image-wrapper{position:relative;display:inline-block}.uu5-imaging-image-input-item-image{vertical-align:top}.uu5-imaging-image-input-item-loading-component{position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);pointer-events:none}.uu5-imaging-image-input-item-loading>.uu5-imaging-image-input-item-image,.uu5-imaging-image-input-item-loading>.uu5-imaging-image-input-item-name{opacity:.42}.uu5-imaging-image-input-item-error{position:absolute;left:0;top:0;right:0;bottom:0;text-align:center;background:rgba(0,0,0,.12);border:2px solid #d50000;color:#d50000;border-radius:2px;pointer-events:none}.uu5-imaging-image-input-item-error>.uu5-imaging-image-input-item-error-icon{position:static}.uu5-imaging-image-input-item-name{font-size:10px;color:rgba(0,0,0,.87);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.uu5-imaging-image-input-item-name-error{color:rgba(213,0,0,.87)}",""]),
e.exports=t},function(e,t,n){var i=n(28);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,r);i.locals&&(e.exports=i.locals)
},function(e,t,n){(t=n(1)(!1)).push([e.i,".uu5-imaging-upload-input{position:relative}",""]),e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t,n){var i=n(32)
;"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){
(t=n(1)(!1)).push([e.i,'.ReactCrop{position:relative;display:inline-block;cursor:crosshair;overflow:hidden;max-width:100%;background-color:#000}.ReactCrop:focus{outline:none}.ReactCrop--disabled,.ReactCrop--locked{cursor:inherit}.ReactCrop__image{display:block;max-width:100%;max-height:-webkit-fill-available;max-height:-moz-available;max-height:fill-available}.ReactCrop--crop-invisible .ReactCrop__image{opacity:.5}.ReactCrop__crop-selection{position:absolute;top:0;left:0;transform:translateZ(0);box-sizing:border-box;cursor:move;box-shadow:0 0 0 9999em rgba(0,0,0,.5);border:1px solid;border-image-source:url("data:image/gif;base64,R0lGODlhCgAKAJECAAAAAP///////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEI5RDc5MTFDNkE2MTFFM0JCMDZEODI2QTI4MzJBOTIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEI5RDc5MTBDNkE2MTFFM0JCMDZEODI2QTI4MzJBOTIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuZGlkOjAyODAxMTc0MDcyMDY4MTE4MDgzQzNDMjA5MzREQ0ZDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAyODAxMTc0MDcyMDY4MTE4MDgzQzNDMjA5MzREQ0ZDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEBQoAAgAsAAAAAAoACgAAAhWEERkn7W3ei7KlagMWF/dKgYeyGAUAIfkEBQoAAgAsAAAAAAoACgAAAg+UYwLJ7RnQm7QmsCyVKhUAIfkEBQoAAgAsAAAAAAoACgAAAhCUYgLJHdiinNSAVfOEKoUCACH5BAUKAAIALAAAAAAKAAoAAAIRVISAdusPo3RAzYtjaMIaUQAAIfkEBQoAAgAsAAAAAAoACgAAAg+MDiem7Q8bSLFaG5il6xQAIfkEBQoAAgAsAAAAAAoACgAAAg+UYRLJ7QnQm7SmsCyVKhUAIfkEBQoAAgAsAAAAAAoACgAAAhCUYBLJDdiinNSEVfOEKoECACH5BAUKAAIALAAAAAAKAAoAAAIRFISBdusPo3RBzYsjaMIaUQAAOw==");border-image-slice:1;border-image-repeat:repeat}.ReactCrop--disabled .ReactCrop__crop-selection{cursor:inherit}.ReactCrop__drag-handle{position:absolute;width:9px;height:9px;background-color:rgba(0,0,0,.2);border:1px solid hsla(0,0%,100%,.7);box-sizing:border-box;outline:1px solid transparent}.ReactCrop .ord-nw{left:0;cursor:nw-resize}.ReactCrop .ord-n,.ReactCrop .ord-nw{top:0;margin-top:-5px;margin-left:-5px}.ReactCrop .ord-n{left:50%;cursor:n-resize}.ReactCrop .ord-ne{top:0;cursor:ne-resize}.ReactCrop .ord-e,.ReactCrop .ord-ne{right:0;margin-top:-5px;margin-right:-5px}.ReactCrop .ord-e{top:50%;cursor:e-resize}.ReactCrop .ord-se{bottom:0;right:0;margin-bottom:-5px;margin-right:-5px;cursor:se-resize}.ReactCrop .ord-s{left:50%;cursor:s-resize}.ReactCrop .ord-s,.ReactCrop .ord-sw{bottom:0;margin-bottom:-5px;margin-left:-5px}.ReactCrop .ord-sw{left:0;cursor:sw-resize}.ReactCrop .ord-w{top:50%;left:0;margin-top:-5px;margin-left:-5px;cursor:w-resize}.ReactCrop__disabled .ReactCrop__drag-handle{cursor:inherit}.ReactCrop__drag-bar{position:absolute}.ReactCrop__drag-bar.ord-n{top:0;left:0;width:100%;height:6px;margin-top:-3px}.ReactCrop__drag-bar.ord-e{right:0;top:0;width:6px;height:100%;margin-right:-3px}.ReactCrop__drag-bar.ord-s{bottom:0;left:0;width:100%;height:6px;margin-bottom:-3px}.ReactCrop__drag-bar.ord-w{top:0;left:0;width:6px;height:100%;margin-left:-3px}.ReactCrop--fixed-aspect .ReactCrop__drag-bar,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-e,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-n,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-s,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-w,.ReactCrop--new-crop .ReactCrop__drag-bar,.ReactCrop--new-crop .ReactCrop__drag-handle{display:none}@media (max-width:768px),(pointer:coarse){.ReactCrop__drag-handle{width:17px;height:17px}.ReactCrop .ord-n,.ReactCrop .ord-nw{margin-top:-9px;margin-left:-9px}.ReactCrop .ord-e,.ReactCrop .ord-ne{margin-top:-9px;margin-right:-9px}.ReactCrop .ord-se{margin-bottom:-9px;margin-right:-9px}.ReactCrop .ord-s,.ReactCrop .ord-sw{margin-bottom:-9px;margin-left:-9px}.ReactCrop .ord-w{margin-top:-9px;margin-left:-9px}.ReactCrop__drag-bar.ord-n{height:14px;margin-top:-7px}.ReactCrop__drag-bar.ord-e{width:14px;margin-right:-7px}.ReactCrop__drag-bar.ord-s{height:14px;margin-bottom:-7px}.ReactCrop__drag-bar.ord-w{width:14px;margin-left:-7px}}',""]),
e.exports=t},function(e,t,n){var i=n(34);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,r);i.locals&&(e.exports=i.locals)
},function(e,t,n){
(t=n(1)(!1)).push([e.i,'.uu5-common-temp-textarea{opacity:0;position:absolute;left:-1000px;top:-1000px}.uu5-imaging-thumbnail-generator{padding:8px;display:flex;justify-content:flex-start;flex-direction:column}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator{display:inline-flex;flex-direction:row;flex-wrap:wrap}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area{background-color:#e5e5e5;width:100%;height:240px;position:relative;display:flex;border:2px dashed #cacaca;overflow:hidden}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area.set{border:none}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area{width:520px;height:344px}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-imaging-thumbnail-generator-upload-text{width:100%;position:absolute;left:50%;top:auto;bottom:15%;transform:translateX(-50%);text-align:center}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-imaging-thumbnail-generator-upload-text{bottom:20%}}@media screen and (min-width:481px){.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-imaging-thumbnail-generator-upload-text .uu5-bricks-header{font-size:30px;line-height:40px}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-imaging-thumbnail-generator-upload-text .uu5-bricks-header{color:rgba(0,0,0,.36)}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-imaging-thumbnail-generator-upload-text .uu5-bricks-p{font-size:16px;line-height:21px;color:rgba(0,0,0,.36)}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file{height:100%;width:100%;margin:0}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file:not([class^=color-schema-]):not([class*=" color-schema-"]):not(.uu5-forms-file-selected):not(.uu5-common-disabled):not(.uu5-forms-input-read-only) .uu5-forms-items-input:hover:not(:focus):not(:active){background-color:transparent;border:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-input-wrapper{margin:0}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-file-input-row{height:100%}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-items-input{background-color:transparent;width:100%;height:100%;border:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-items-input:focus{background-color:transparent!important}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-items-input .uu5-bricks-icon.mdi.mdi-cloud-upload{padding:0;height:auto;left:50%;top:10%;transform:translateX(-50%)}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-items-input .uu5-bricks-icon.mdi.mdi-cloud-upload:before{font-size:70px;color:rgba(0,0,0,.36)}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-items-input .uu5-bricks-icon.mdi.mdi-cloud-upload{top:25%}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop{vertical-align:top}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop img{max-width:100%;max-height:240px}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop img{max-width:520px;max-height:344px}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection{border:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection:after{width:100%;content:" ";display:block;border:2px dashed #fff;height:100%;transform:scale(1.01)}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection .ReactCrop__drag-elements .ReactCrop__drag-handle{margin:0;background:none;outline:none;border:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection .ReactCrop__drag-elements .ord-ne,.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection .ReactCrop__drag-elements .ord-nw,.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection .ReactCrop__drag-elements .ord-sw{display:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection .ReactCrop__drag-elements .ord-se{width:0;height:0;border-bottom:10px solid #fff;border-left:10px solid transparent;z-index:9}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop.avatar .ReactCrop__crop-selection,.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop.avatar .ReactCrop__crop-selection:after{border-radius:50%}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-img-align{margin:auto;align-self:center;max-width:100%;flex:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items{width:100%;padding-top:8px;align-self:flex-start;display:flex;flex-wrap:wrap;justify-content:center}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items{padding-top:0;padding-left:16px;width:152px;justify-content:flex-start}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-mask-item{width:64px;height:80px;position:relative;margin-right:4px;margin-bottom:8px}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-mask-item:last-child{margin-right:0}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-mask-item.selected{box-shadow:0 0 0 2px #3991e1;border-radius:4px}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-mask-item .uu5-imaging-thumbnail-generator-area-item{margin:0;border:none;cursor:pointer;background-color:#e5e5e5;background-size:100% 100%;background-repeat:no-repeat;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-mask-item p{position:absolute;left:50%;top:auto;bottom:0;transform:translateX(-50%);margin:0;font-size:10px;line-height:14px;color:#303030}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-button-control{display:flex;flex-wrap:nowrap;justify-content:center;width:100%}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-button-control{padding-top:16px;flex-wrap:wrap}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-button-control a{display:block;padding-right:16px;color:#d0021b;font-size:12px;line-height:16px}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-button-control a{padding:8px 0}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-button-control a:last-child{padding-right:0}',""]),
e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"Imaging",(function(){return i}));var i={};n.r(i),n.d(i,"Lightbox",(function(){return y})),n.d(i,"Image",(function(){return _})),
n.d(i,"ThumbnailList",(function(){return F})),n.d(i,"ImageRow",(function(){return te})),n.d(i,"ImageColumn",(function(){return ge})),n.d(i,"Carousel",(function(){return Be})),
n.d(i,"Input",(function(){return It})),n.d(i,"UploadInput",(function(){return Rt})),n.d(i,"Adjustment",(function(){return Ve})),n.d(i,"ThumbnailGenerator",(function(){return Bt}))
;var r=n(0),a=n.n(r),o="UU5.Imaging.",s="uu5-imaging-";n(10);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var g=a.a.Common.VisualComponent.create({mixins:[a.a.Common.BaseMixin,a.a.Common.SwipeMixin],statics:{
tagName:o+"Lightbox.Body",classNames:{main:s+"lightbox-body",verticalAlign:s+"lightbox-body-vertical-align-helper",header:s+"lightbox-body-header",bodyContent:s+"lightbox-body-content",
white:s+"lightbox-body-white-color",gray:s+"lightbox-body-gray-color",counterWhite:s+"lightbox-body-counter-white",counterGray:s+"lightbox-body-counter-gray",
controlWhite:s+"lightbox-body-control-white",controlGray:s+"lightbox-body-control-gray",noDecoration:s+"lightbox-body-nodecoration",navigationArrow:s+"lightbox-body-navigation-arrow",
navigationArrowLeft:s+"lightbox-body-navigation-arrow-left",navigationArrowRight:s+"lightbox-body-navigation-arrow-right",preloadImage:s+"lightbox-body-preload-image"}},propTypes:{
getOption:a.a.PropTypes.func,setOption:a.a.PropTypes.func},getDefaultProps:function(){return{getOption:null,setOption:null}},getInitialState:function(){
var e=Object.assign({},this.props),t=this.props.getOptions();return{data:(e=Object.assign(e,t)).data,index:e.index,isLoaded:e.isLoaded,zoom:e.zoom,blackBackground:e.blackBackground,open:!1}},
componentWillReceiveProps:function(e){var t=Object.assign({},e),n=e.getOptions();return t=Object.assign(t,n),this.setData(t),this},componentDidMount:function(){this._mounted=!0,
this._checkImageLoaded()},componentWillMount:function(){this._bodyContent&&this._bodyContent.removeEventListener("wheel",this._mouseWheel,{passive:!1})},componentDidUpdate:function(){
this._checkImageLoaded()},onCloseModal:function(){return document.body.className=document.body.className.replace(new RegExp("modal-open","g"),"").trim(),
window.removeEventListener("keydown",this._keyPress),this._isOpen=!1,this},onOpenModal:function(){return window.addEventListener("keydown",this._keyPress),this._isOpen=!0,this},isOpen:function(){
return this._isOpen},setData:function(e,t){return this.setState({data:e.data,index:e.index,isLoaded:e.isLoaded,zoom:e.zoom,blackBackground:e.blackBackground},t),this},_checkImageLoaded:function(){
if(!this.state.isLoaded&&this._mainImage){var e=this._mainImage.findDOMNode();e.complete&&this._setImageLoaded(this.state.index,e)}},_allowZoom:function(){var e=this.state,t=e.index,n=e.data
;if(document.getElementById("lightbox-body")){var i=document.getElementById("lightbox-body").getBoundingClientRect(),r=n[t];return r.height>i.height||r.width>i.width}return!1},_toggleZoom:function(){
var e=this,t=this.state.zoom;t=!t,this.setState({zoom:t},(function(){e._bodyContent&&(e._bodyContent.scrollTop=0,e._bodyContent.scrollLeft=0)}))},_toggleBackground:function(){
var e=this.state.blackBackground;e=!e,this.setState({blackBackground:e}),this.props.setOptions({blackBackground:e})},_previousImage:function(){var e=this.state,t=e.index,n=(e.isLoaded,e.data)
;t=--t<0?n.length-1:t,this.setState({index:t,isLoaded:!1,zoom:!1}),this.props.setOptions({index:t})},_nextImage:function(){var e=this.state,t=e.index,n=e.data;e.isLoaded;t++,t%=n.length,
this.setState({index:t,isLoaded:!1,zoom:!1}),this.props.setOptions({index:t})},_getNavigationClassName:function(e){
var t=this.getClassName().navigationArrow,n=e?this.getClassName().navigationArrowRight:this.getClassName().navigationArrowLeft,i=this.state.blackBackground?this.getClassName().white:this.getClassName().gray
;return t.concat(" ",n," ",i)},_mouseWheel:function(e){(e.preventDefault(),this._allowZoom())&&(e.deltaY<0!==this.state.zoom&&this._toggleZoom())},_mouseDown:function(e){e.preventDefault(),
0===e.button&&this._handleStart(e.clientX,e.clientY)},_touchStart:function(e){this.swipeOnTouchStart(e),this._handleStart(e.touches[0].clientX,e.touches[0].clientY)},_handleStart:function(e,t){
this.state.zoom&&this.setState({startX:e,startY:t,mouseDrag:!0})},_mouseMove:function(e){e.preventDefault(),this._handleMove(e,e.clientX,e.clientY)},_touchMove:function(e){this.swipeOnTouchMove(e),
this._handleMove(e,e.touches[0].clientX,e.touches[0].clientY)},_handleMove:function(e,t,n){if(this.state.mouseDrag){var i=this.state,r=i.startX,a=i.startY;e.target.parentElement.scrollTop+=a-n,
e.target.parentElement.scrollLeft+=r-t,this.setState({startX:t,startY:n})}},_mouseUp:function(e){e.preventDefault(),this.state.mouseDrag&&this.setState({mouseDrag:!1})},_touchEnd:function(e){
this.swipeOnTouchEnd(e),this.state.mouseDrag?this.setState({mouseDrag:!1
}):this.isSwipedRightLong()&&this.getSwipeLength()>69?this._previousImage():this.isSwipedLeftLong()&&this.getSwipeLength()>69&&this._nextImage()},_keyPress:function(e){
"ArrowLeft"===e.code?this._previousImage():"ArrowRight"===e.code?this._nextImage():"Escape"===e.code&&this.props.closeModal()},_setImageLoaded:function(e,t){var n=t.naturalWidth,i=t.naturalHeight
;this.setState((function(t){var r=t.data;return{isLoaded:!0,data:r=[].concat(p(r.slice(0,e)),[l(l({},r[e]),{},{width:n,height:i})],p(r.slice(e+1)))}}))},_setImageError:function(e,t){this.setState({
isLoaded:!0})},_getHeader:function(){var e=this.state,t=e.index,n=e.data,i=this._allowZoom();return a.a.Common.Element.create(a.a.Bricks.Div,{className:this.getClassName().header
},a.a.Common.Element.create(a.a.Bricks.Text,{className:this.state.blackBackground?this.getClassName().counterWhite:this.getClassName().counterGray
},n.length>1?t+1+"/"+n.length:null),a.a.Common.Element.create(a.a.Bricks.Span,{style:{marginLeft:"auto",marginRight:"10px"}},i&&a.a.Common.Element.create(a.a.Bricks.Link,{onClick:this._toggleZoom,
className:this.getClassName("noDecoration")},a.a.Common.Element.create(a.a.Bricks.Icon,{icon:this.state.zoom?"mdi-magnify-minus-outline":"mdi-magnify-plus-outline",style:{marginRight:"6px"},
className:this.state.blackBackground?this.getClassName().controlWhite:this.getClassName().controlGray})),a.a.Common.Element.create(a.a.Bricks.Link,{onClick:this._toggleBackground,
className:this.getClassName("noDecoration")},a.a.Common.Element.create(a.a.Bricks.Icon,{icon:"mdi-contrast-box",style:{marginRight:"12px"},
className:this.state.blackBackground?this.getClassName().controlWhite:this.getClassName().controlGray})),a.a.Common.Element.create(a.a.Bricks.Link,{onClick:this.props.closeModal,
className:this.getClassName("noDecoration")},a.a.Common.Element.create(a.a.Bricks.Icon,{icon:"mdi-close",
className:this.state.blackBackground?this.getClassName().controlWhite:this.getClassName().controlGray}))))},_setMainImageRef:function(e){this._mainImage=e,e&&this._mounted&&this._checkImageLoaded()},
_setBodyDivRef:function(e){this._bodyContent&&this._bodyContent.removeEventListener("wheel",this._mouseWheel,{passive:!1}),e?(this._bodyContent=e.findDOMNode(),
this._bodyContent.addEventListener("wheel",this._mouseWheel,{passive:!1})):this._bodyContent=null},render:function(){
var e=this,t=this.state,n=t.data,i=t.index,r=n[i],o=(i+1)%n.length,s=0===i?n.length-1:i-1,u=this.getMainPropsToPass();u.style=u.style||{},u.style.background=this.state.blackBackground?"black":"white"
;var l=this.state.isLoaded?void 0:this.getClassName("preloadImage");return this.state.blackBackground?l+=" "+this.getClassName("white"):l+=" "+this.getClassName("grey"),
a.a.Common.Element.create(a.a.Bricks.Div,u,this._getHeader(!1,!1),a.a.Common.Element.create(a.a.Bricks.Div,{id:"lightbox-body",className:this.getClassName().bodyContent,ref_:this._setBodyDivRef,
mainAttrs:{onMouseMove:this._mouseMove,onMouseDown:this._mouseDown,onMouseUp:this._mouseUp,onTouchStart:this._touchStart,onTouchMove:this._touchMove,onTouchEnd:this._touchEnd}
},!this.state.zoom&&this.state.data.length>1&&a.a.Common.Element.create(a.a.Bricks.Link,{onClick:this._previousImage,className:this.getClassName("noDecoration")
},a.a.Common.Element.create(a.a.Bricks.Icon,{className:this._getNavigationClassName(!1),icon:"mdi-chevron-left"})),!this.state.zoom&&a.a.Common.Element.create(a.a.Bricks.Span,{
className:this.getClassName().verticalAlign}),!this.state.isLoaded&&a.a.Common.Element.create(a.a.Bricks.Loading,{style:{display:"inline-block"}}),a.a.Common.Element.create(a.a.Bricks.Image,{
ref_:this._setMainImageRef,responsive:!1,className:l,src:r.src,alt:r.alt,authenticate:r.authenticate,style:this.state.zoom?{maxWidth:"none",cursor:"move"}:{maxWidth:"100%",maxHeight:"100%"},
mainAttrs:{onLoad:function(t){return e._setImageLoaded(i,t.target)},onError:function(t){return e._setImageError(i,t.target)}}
}),!this.state.zoom&&this.state.data.length>1&&a.a.Common.Element.create(a.a.Bricks.Link,{onClick:this._nextImage,className:this.getClassName("noDecoration")
},a.a.Common.Element.create(a.a.Bricks.Icon,{icon:"mdi-chevron-right",className:this._getNavigationClassName(!0)})),o!==i&&a.a.Common.Element.create(a.a.Bricks.Image,{
className:this.getClassName("preloadImage"),responsive:!1,alt:n[o].alt,src:n[o].src,authenticate:n[o].authenticate}),s!==i&&s!==o&&a.a.Common.Element.create(a.a.Bricks.Image,{
className:this.getClassName("preloadImage"),responsive:!1,src:n[s].src,alt:n[s].alt,authenticate:n[s].authenticate})))}});n(13);function m(){return(m=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))
}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v,y=a.a.Common.VisualComponent.create({
mixins:[a.a.Common.BaseMixin],statics:{tagName:o+"Lightbox",classNames:{main:s+"lightbox"},defaults:{key:"general"}},propTypes:{data:a.a.PropTypes.array,blackBackground:a.a.PropTypes.bool,
name:a.a.PropTypes.string},getDefaultProps:function(){return{data:[],blackBackground:!0}},componentWillMount:function(){var e=this,t=this.props.name||this.getDefault("key")
;a.a.Environment.Lightboxes=a.a.Environment.Lightboxes||{},a.a.Environment.Lightboxes[t]=a.a.Environment.Lightboxes[t]||[],a.a.Environment.Lightboxes[t].push(this),this._options={}
;var n=this.props.data&&this.props.data.map((function(t){return f(f({},t),{},{sourceLightbox:e})})),i={blackBackground:this.props.blackBackground,index:0,data:n};if(this._setOptions(i),
!this._isTargetLightbox()&&n){var r=this._getTargetLightbox();n.forEach((function(t){r._addImage(t.src,t.id,t.authenticate,t.sourceComponent,e,null,t.alt)}))}},componentWillUnmount:function(){
this._unregisterLightbox()},componentWillReceiveProps:function(e){var t,n=this;if(this._isTargetLightbox()){if(this.props.name!==e.name){var i=e.name||this.getDefault("key")
;a.a.Environment.Lightboxes=a.a.Environment.Lightboxes||{},this._unregisterLightbox(),a.a.Environment.Lightboxes[i]=a.a.Environment.Lightboxes[i]||[],a.a.Environment.Lightboxes[i].push(this)}t={
blackBackground:e.blackBackground}}if(this.props.data!==e.data){var r=[this];this._isTargetLightbox()||r.push(this._getTargetLightbox()),r.forEach((function(t){n.props.data.forEach((function(e){
t._options.data=t._options.data.filter((function(t){return!(t===e||t.id===(e.id||e.src))}))})),(e.data&&e.data.map((function(e){return f(f({},e),{},{sourceLightbox:n})}))).forEach((function(e){
t._addImage(e.src,e.id,e.authenticate,e.sourceComponent,n,!0,e.alt)}))}))}t&&this._setOptions(t)},addImage:function(e,t,n,i,r){return void 0===t&&(t=e),
this._isTargetLightbox()?this._addImage(e,t,n,i,this,null,r):this._getTargetLightbox()._addImage(e,t,n,i,this,null,r),this},removeImage:function(e){if(this._isTargetLightbox()){
var t=this._findIndex(e);this._options.data.splice(t,1)}else this._getTargetLightbox().removeImage(e);return this},replaceImage:function(e,t){if(this._isTargetLightbox()){void 0===t&&(t=e)
;var n=this._findIndex(t);this._options.data[n].src=e}else this._getTargetLightbox().replaceImage(e,t);return this},getImages:function(){
return this._isTargetLightbox()?this._options.data:this._getTargetLightbox().getImages()},getImage:function(e){if(this._isTargetLightbox()){var t=this._findIndex(e);return this._options.data[t]}
this._getTargetLightbox().getImage(e)},getImageBySrc:function(e){if(this._isTargetLightbox()){var t=this._findIndexBySrc(e);return this._options.data[t]}this._getTargetLightbox().getImageBySrc(e)},
open:function(e,t){var n=this;if(this._isTargetLightbox()){if(this._options.data.length){if(this._options.data.sort((function(e,t){var n;if(e.sourceComponent===t.sourceComponent)n=0;else{
var i=e.sourceComponent?e.sourceComponent.findDOMNode():null,r=t.sourceComponent?t.sourceComponent.findDOMNode():null
;if(i&&r)n=i.compareDocumentPosition(r)&document.DOCUMENT_POSITION_FOLLOWING?-1:1;else n=i?-1:1}return n})),void 0!==e){var i
;if(-1===(i="number"==typeof e?e:"string"==typeof e?this._findIndex(e):0))return void a.a.Common.Tools.warning("Target Lightbox can't find the image that you are trying to open.");this._setOptions({
index:i})}this._modal.open({content:this._getBody()},(function(){n._onOpen(),"function"==typeof t&&t()}))}}else this._getTargetLightbox().open(e,t);return this},close:function(e){
return this._isTargetLightbox()?this._onClose({component:this._modal,callback:e}):this._getTargetLightbox().close(e),this},_addImage:function(e,t,n,i){
var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;return void 0===t&&(t=e),
a||this._isTargetLightbox()?this._options.data.push({id:t,src:e,authenticate:n,sourceComponent:i,sourceLightbox:r,alt:o}):this._getTargetLightbox()._addImage(e,t,n,i,r,o),this},
_getTargetLightbox:function(){var e=this.props.name||this.getDefault("key");return a.a.Environment.Lightboxes[e][0]},_unregisterLightbox:function(){
var e=this,t=this.props.name||this.getDefault("key"),n=a.a.Environment.Lightboxes[t][0];a.a.Environment.Lightboxes[t].forEach((function(n,i){return n===e?a.a.Environment.Lightboxes[t].splice(i,1):null
}));var i=a.a.Environment.Lightboxes[t][0];n!==i&&i&&(this._options.data=this._options.data.filter((function(t){return t.sourceLightbox!==e})),i._setOptions(this._options),i.forceUpdate())},
_findIndexByType:function(e,t){if("function"==typeof this._options.data.findIndex)return this._options.data.findIndex((function(n){return n[e]===t}))
;for(var n=0;n<this._options.data.length;n++)if(this._options.data[n][e]===t)return n},_findIndex:function(e){return this._findIndexByType("id",e)},_findIndexBySrc:function(e){
return this._findIndexByType("src",e)},_isTargetLightbox:function(){return this._getTargetLightbox().getId()===this.getId()},_setOptions:function(e){return e&&e.data&&e.data.forEach((function(e){
void 0===e.id&&(e.id=e.src)})),Object.assign(this._options,e),this},_getOptions:function(){return this._options},_onOpen:function(){return this._lightboxBody&&this._lightboxBody.onOpenModal(),this},
_onClose:function(e){return this._lightboxBody&&this._lightboxBody.onCloseModal(),e.component.close(!1,e.callback),this},_getBody:function(){var e=this;return a.a.Common.Element.create(g,{
ref_:function(t){return e._lightboxBody=t},setOptions:this._setOptions,getOptions:this._getOptions,closeModal:function(){return e._onClose({component:e._modal})}})},render:function(){var e=this
;return this._isTargetLightbox()?a.a.Common.Element.create(a.a.Bricks.Modal,m({},this.getMainPropsToPass(),{ref_:function(t){return e._modal=t},onClose:function(t){return e._onClose(t)},
forceRender:!0,registerToModalBus:!1,location:"portal"})):null}}),x=y;n(4),n(15);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}var _=r.Common.VisualComponent.create({mixins:[r.Common.BaseMixin,r.Common.ElementaryMixin,r.Common.PureRenderMixin],statics:{tagName:o+"Image",classNames:{
main:s+"image",effectCaption:s+"image-effect-caption",img:s+"image-img",landscape:s+"image-landscape",portrait:s+"image-portrait",effect:s+"image-effect-",shape:s+"image-shape-",fit:s+"image-fit-",
originalDimensionsWidth:s+"image-original-dimensions-width",fitCoverNoScaleUpCenter:s+"image-fit-covernoscaleup-center",crop:s+"image-crop",loading:s+"image-loading",
loadingAnimation:s+"image-loading-animation",fitWidth:s+"image-fit-width",autoWidth:s+"image-auto-width",autoHeight:s+"image-auto-height",focusWrapper:function(e){
return s+"image-focus-wrapper "+r.Common.Css.css(v||(t=["\n      && {\n        border-radius: ",";\n      }\n  "],n||(n=t.slice(0)),v=Object.freeze(Object.defineProperties(t,{raw:{
value:Object.freeze(n)}}))),e.borderRadius);var t,n}},opt:{pureRender:!0}},propTypes:{src:r.PropTypes.string,loadingSrc:r.PropTypes.string,thumb:r.PropTypes.string,caption:r.PropTypes.string,
fit:r.PropTypes.oneOf(["default","coverNoScaleUp"]),effect:r.PropTypes.oneOf(["none","zoom","grayscale","blur","sepia","invert","tilt","morph"]),
shape:r.PropTypes.oneOf(["default","rounded","square","roundedSquare","circle","rect","rect4x3","rect3x2","rect5x4","rect2x1","rect3x1","rect4x1","rect45x10","rect16x9","rect16x10","rect3x4","rect4x5","rect2x3","rect1x2","roundedRect","roundedRect4x3","roundedRect3x2","roundedRect5x4","roundedRect2x1","roundedRect3x1","roundedRect4x1","roundedRect45x10","roundedRect16x9","roundedRect16x10","roundedRect3x4","roundedRect4x5","roundedRect2x3","roundedRect1x2"]),
width:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string]),height:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string]),onClick:r.PropTypes.func,
lightbox:r.PropTypes.oneOfType([r.PropTypes.bool,r.PropTypes.string]),authenticate:r.PropTypes.bool,alt:r.PropTypes.string,originalDimensions:r.PropTypes.bool,aspectRatio:r.PropTypes.string},
getDefaultProps:function(){return{src:"",loadingSrc:"",thumb:"",caption:"",fit:"default",effect:"none",shape:"default",width:null,height:null,onClick:null,lightbox:null,authenticate:!1,alt:void 0,
originalDimensions:!1,aspectRatio:null}},getInitialState:function(){return{orientation:"default",loading:!!this.props.loadingSrc,imageWidth:0,imageHeight:0,originalWidth:0,originalHeight:0,
aspectRatioWidth:0,aspectRatioHeight:0}},componentWillMount:function(){this._setOrientation(this.props)},componentWillUnmount:function(){
r.Environment.EventListener.removeWindowEvent("keyup",this.getId()),this._lb&&this._lb.removeImage(this.getId())},componentDidMount:function(){
this._lb&&this._lb.addImage(this.props.src,this.getId(),this.props.authenticate,this,this.props.alt,this.props.borderRadius)},componentWillReceiveProps:function(e){
e.loadingSrc&&this._getSrc(e)!==this._getSrc(this.props)&&this.setState({loading:!0}),e.controlled&&this._setOrientation(e),
e.id===this.props.id&&e.src===this.props.src||!this._lb||this._lb.replaceImage(e.src,this.getId())},componentDidUpdate:function(e,t){
((this.props.width!==e.width||this.props.height!==e.height||this.props.aspectRatio!==e.aspectRatio)&&this.props.aspectRatio||this.props.shape!==e.shape||this.props.fit!==e.fit||"coverNoScaleUp"===this.props.fit&&(this.props.width!==e.width||this.props.height!==e.height))&&this._onLoad()
},_getDimension:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=1,n=1,i=e.match(/[Rr]ect(?:(\d+)x(\d+))?$/);return i&&(t=i[1]?+i[1]:4,n=i[2]?+i[2]:3),{x:t,y:n}},
_getOrientation:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=t.shape||"default";switch(/[Rr]ect/.test(n)&&(n="rect"),n){case"square":case"roundedSquare":
case"circle":e="landscape";break;case"rect":var i=this._getDimension(t.shape);if(this._img){var r=this._img.findDOMNode(),a={height:r.naturalHeight,width:r.naturalWidth}
;void 0!==a.width&&void 0!==a.height||(a=r.getBoundingClientRect()),e=a.height/a.width>=i.y/i.x?"portrait":"landscape"}else e=i.x>i.y?"landscape":"portrait";break;default:e="default"}return e},
_setOrientation:function(e){this.setState({orientation:this._getOrientation(e)})},_getShape:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=this.getClassName("shape")+e.toLowerCase();if(-1===["default","rounded"].indexOf(e)){t+=" "+this.getClassName("crop"),
/^rounded/.test(e)&&(t+=" "+this.getClassName("shape")+"rounded");var n=e.match(/Rect(\d+x\d+)?$/);n&&(t+=" "+this.getClassName("shape")+"rect"+(n[1]?n[1]:""))}return t},_getEffect:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.getClassName("effect")+e},_getFit:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=""
;return("default"!==this.state.orientation||this.props.width&&this.props.height)&&(t=this.getClassName("fit")+e.toLowerCase(),
"coverNoScaleUp"===e&&!1!==this.state.fitCoverNoScaleUpCenter&&(t+=" "+this.getClassName("fitCoverNoScaleUpCenter"))),t},_getAspectRatioDimension:function(){
var e=this.props.aspectRatio.split(/:|x|\//),t=e[0],n=e[1],i=null,r=null;this.props.width&&!this.props.height&&(r=n/t*(i=parseInt(this.props.width))),
this.props.height&&!this.props.width&&(i=t/n*(r=parseInt(this.props.height))),this.setState({aspectRatioWidth:i,aspectRatioHeight:r})},_getFrameDiv:function(e){var t=this.getMainPropsToPass()
;if((this.props.width||this.props.height)&&(t.style=t.style||{},this.props.width&&(t.style.width=/\d+$/.test(this.props.width)?this.props.width+"px":this.props.width),
this.props.height&&(t.style.height=/\d+$/.test(this.props.height)?this.props.height+"px":this.props.height)),t.className+=" "+this._getShape(this.props.shape)+" "+this._getEffect(this.props.effect),
this.props.originalDimensions&&(t.className+=" "+this.getClassName("originalDimensionsWidth")),this.props.height&&!this.props.width)if(t.className+=" "+this.getClassName("fitWidth"),
"default"!==this.props.shape&&"rounded"!==this.props.shape){var n=this._getDimension(this.props.shape),i=parseFloat(this.props.height);t.style.width=i*(n.x/n.y)+"px"
}else if(!this.state.loading&&this.state.imageWidth&&this.state.imageHeight){var a=parseFloat(this.props.height);t.style.width=a*(this.state.imageWidth/this.state.imageHeight)+"px"}
var o=this.props.loadingSrc&&this.state.loading&&r.Common.Element.create("div",{className:this.getClassName("loadingAnimation")});if(!this.state.loading){var s=function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){w(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))
}return e}({},t.mainAttrs);s.tabIndex="0",s.onFocus=this._onFocus,s.onBlur=this._onBlur,t.mainAttrs=s}
return r.Common.Element.create(r.Bricks.Div,t,o,this.state.loading&&this.props.loadingSrc&&r.Common.Element.create(r.Bricks.Image,{authenticate:this.props.authenticate,key:"loading",
src:this.props.loadingSrc,className:this._getImageClassName(),alt:this.props.alt,borderRadius:this.props.borderRadius}),e,"blur"===this.props.effect&&r.Common.Element.create(r.Bricks.Div,{
className:this.getClassName("effectCaption"),content:this.props.caption}),r.Common.Element.create("div",{className:this.getClassName("focusWrapper")}))},_getSrc:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.thumb||e.src},_getImageClassName:function(){var e=this.getClassName("img");switch(this.state.orientation){
case"portrait":e+=" "+this.getClassName("portrait");break;case"landscape":e+=" "+this.getClassName("landscape")}return e+=" "+this._getFit(this.props.fit),
this.props.height&&!this.props.width?e+=" "+this.getClassName("autoWidth"):e+=" "+this.getClassName("autoHeight"),e},_getImage:function(){
var e=this,t=this._getSrc(),n=this.state.loading&&this.props.loadingSrc?this.getClassName("loading"):this._getImageClassName(),i=null,a=null
;return this.props.aspectRatio&&(i=this.state.aspectRatioWidth,a=this.state.aspectRatioHeight),this.props.originalDimensions&&(i=this.state.originalWidth,a=this.state.originalHeight),
r.Common.Element.create(r.Bricks.Image,{name:this.getName(),src:t,alt:this.props.alt,borderRadius:this.props.borderRadius,ref_:function(t){return e._img=t},width:i,height:a,className:n,responsive:!1,
mainAttrs:{onLoad:this._onLoad,onError:this._onError},authenticate:this.props.authenticate})},_getThumbnail:function(){var e=this;return[r.Common.Element.create(r.Bricks.Link,{key:"1",
onClick:this.props.onClick||this._showLightbox},this._getImage()),r.Common.Element.create(x,{key:"2",ref_:function(t){return e._lb=t},name:!0===this.props.lightbox?"":this.props.lightbox})]},
_showLightbox:function(){this._lb.open(this.getId())},_onFocus:function(){var e=this;r.Environment.EventListener.addWindowEvent("keyup",this.getId(),(function(t){
13===t.which&&!e.isDisabled()&&e._showLightbox()}))},_onBlur:function(){r.Environment.EventListener.removeWindowEvent("keyup",this.getId())},_onLoad:function(e){var t={loading:!1}
;e&&(t.imageWidth=e.target.naturalWidth,t.imageHeight=e.target.naturalHeight,this.setState({originalWidth:e.target.naturalWidth}),this.setState({originalHeight:e.target.naturalHeight}))
;var n=t.imageWidth||this.state.imageWidth,i=t.imageHeight||this.state.imageHeight;if(this.props.aspectRatio&&this._getAspectRatioDimension(),
"default"!==this.state.orientation&&(t.orientation=this._getOrientation()),"coverNoScaleUp"===this.props.fit){
var a=r.Common.DOM.findNode(),o=a?a.getBoundingClientRect().width:parseFloat(this.props.width),s=a?a.getBoundingClientRect().height:parseFloat(this.props.height);t.fitCoverNoScaleUpCenter=n<o||i<s}
this.setState(t)},_onError:function(e){this.setState({loading:!1})},render:function(){
return this._getFrameDiv(!1!==this.props.lightbox?this._getThumbnail():r.Common.Element.create(r.Bricks.Span,null,this._getImage()))}}),I=_;function O(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){k(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))
}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){
return void n(e)}s.done?t(u):Promise.resolve(u).then(i,r)}var R,A,S={fileExtension:/^[\w,\s-]+\.[A-Za-z]{3}$/},E={fetchAuthenticatedImage:(R=regeneratorRuntime.mark((function e(t,n){var i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.Common.Tools.getAuthenticatedHeaders(t,n);case 2:return i=e.sent,
e.abrupt("return",a.a.Common.Request.get(t,null,{headers:P({Accept:"image/*,*/*;q=0.8"},i)}));case 4:case"end":return e.stop()}}),e)})),A=function(){var e=this,t=arguments
;return new Promise((function(n,i){var r=R.apply(e,t);function a(e){T(r,n,i,a,o,"next",e)}function o(e){T(r,n,i,a,o,"throw",e)}a(void 0)}))},function(e,t){return A.apply(this,arguments)})}
;function j(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e
}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}
s.done?t(u):Promise.resolve(u).then(i,r)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){B(a,i,r,o,s,"next",e)}function s(e){
B(a,i,r,o,s,"throw",e)}o(void 0)}))}}var W=a.a.Common.VisualComponent.create({mixins:[a.a.Common.BaseMixin,a.a.Common.ElementaryMixin],statics:{tagName:o+"ThumbnailListBody",classNames:{
main:s+"thumbnail-list-body",mode:s+"thumbnail-list-mode-",placeholder:s+"thumbnail-list-body-placeholder"},defaults:{padding:2},imageCache:{}},propTypes:{path:a.a.PropTypes.string,
data:a.a.PropTypes.arrayOf(a.a.PropTypes.oneOfType([a.a.PropTypes.string,a.a.PropTypes.shape({src:a.a.PropTypes.string.isRequired,thumb:a.a.PropTypes.string,alt:a.a.PropTypes.string})])).isRequired,
mode:a.a.PropTypes.oneOf(["default","track"]),colWidth:a.a.PropTypes.string,shape:a.a.PropTypes.string,effect:a.a.PropTypes.string,thumbSuffix:a.a.PropTypes.string,
lightbox:a.a.PropTypes.oneOf(["local","global","none"]),rowMaxHeight:a.a.PropTypes.number,rowMinHeight:a.a.PropTypes.number,lastRowMaxHeight:a.a.PropTypes.number,rowWidth:a.a.PropTypes.number,
session:a.a.PropTypes.object},getDefaultProps:function(){return{path:"",data:[],mode:"default",colWidth:"xs-6 s-3 m-2 l-1 xl-1",shape:void 0,effect:void 0,thumbSuffix:"_th",lightbox:"local",
rowMaxHeight:160,rowMinHeight:100,lastRowMaxHeight:void 0,rowWidth:void 0,session:void 0}},getInitialState:function(){
return void 0!==this.props.globalLightbox&&a.a.Common.Tools.warning('Property "globalLightbox" is deprecated! Use "globalLightbox" property instead.'),{index:0,imgList:[],
pendingLoadCount:this.props.data.length,boundingRect:null}},componentDidMount:function(){this.props.data.length>0&&this._loadImages()},componentWillReceiveProps:function(e){
e.controlled&&!a.a.Common.Tools.deepEqual(this.props.data,e.data)&&this._loadImages(e)},_loadImages:function(){var e=arguments,t=this;return U(regeneratorRuntime.mark((function n(){var i,r,a,o,s,u
;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:t.props,t._dataChangeId=Math.random(),r=[],a=t._dataChangeId,o=i.data.length,s=0
;case 6:if(!(s<i.data.length)){n.next=18;break}return n.next=9,t._loadImage(i.data[s],i.authenticate,i.session);case 9:if(u=n.sent,a===t._dataChangeId){n.next=12;break}return n.abrupt("return")
;case 12:o--,u&&r.push(u),t.setAsyncState({imgList:r,pendingLoadCount:o});case 15:s++,n.next=6;break;case 18:t.setAsyncState({imgList:r,pendingLoadCount:o});case 19:case"end":return n.stop()}}),n)
})))()},_loadImage:function(e,t,n){var i=this;"string"==typeof e&&(e={src:e}),this.props.path&&(e.src=this.props.path+e.src,e.thumb&&(e.thumb=this.props.path+e.thumb))
;var r,o=e.thumb||this._getThumbnail(e.src),s=this.constructor.imageCache[o]
;return s?r=s:t&&(n=n||a.a.Environment.getSession())&&n.isAuthenticated()&&a.a.Environment.isTrustedDomain(o)&&(r=new Promise((function(t){var r=function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){M(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))
}return e}({},e);E.fetchAuthenticatedImage(o,n).then((function(e){r.thumb=URL.createObjectURL(e.data),t(i._getImageData(r,o))}),(function(a){E.fetchAuthenticatedImage(e.src,n).then((function(n){
r.thumb=URL.createObjectURL(n.data),t(i._getImageData(r,e.src))}),(function(e){r.thumb="data:image/gif;base64,ZZZZZZZZ",t(i._getImageData(r,o))}))}))}))),r||(r=this._getImageData(e,o)),r},
_getImageData:function(e,t){var n=this;return new Promise((function(i){var r,a;e&&"object"===D(e)?(r=e.src,a=e.thumb||e.lightboxSrc):r=e,a=a||n._getThumbnail(r);var o=new window.Image,s=!0
;o.onload=function(){var u={lightboxSrc:r,thumb:s?a:r,width:o.width,height:o.height,alt:e.alt||""};n.constructor.imageCache[t]=u,i(u)},o.onerror=function(){if(s)return s=!1,o.src=r,
void(o.alt=e.alt||"");i(null)},o.src=a}))},_getThumbnail:function(e){var t,n=e.lastIndexOf(".");if(-1!==n){var i=e.substr(0,n),r=e.substr(n+1)
;S.fileExtension.test(r)&&(t=i+this.props.thumbSuffix+"."+r)}return t||(t=e+this.props.thumbSuffix),t},_getLightbox:function(){
return"global"===this.props.lightbox?null:"none"!==this.props.lightbox&&(!0===this.props.globalLightbox?null:this.getId())},_getRowItems:function(e,t){var n=2*this.getDefault().padding
;return(t-=(e.length-1)*n)/e.reduce((function(e,t){return e+1*t.width/t.height}),0)},_setHeight:function(e,t,n,i){var r=[],a=i;if(1===e.length)r.push({lightboxSrc:e[0].lightboxSrc,thumb:e[0].thumb,
alt:e[0].alt,caption:e[0].caption,width:Math.floor(100*Math.min(a,n*e[0].width/e[0].height))/100,height:n,column:0,row:t,placeholder:e[0].placeholder});else for(var o=0;o<e.length;o++)r.push({
column:o,row:t,lightboxSrc:e[o].lightboxSrc,thumb:e[o].thumb,caption:e[o].caption,alt:e[o].alt,width:Math.floor(n*e[o].width/e[o].height*100)/100,height:n,left:0===o?0:this.getDefault().padding,
right:o===e.length-1?0:this.getDefault().padding,placeholder:e[o].placeholder});return r},_getTrackGrid:function(e,t,n,i,r,a){n=n||[160],i=i||100;var o=0===a;Array.isArray(n)||(n=[n])
;for(var s=0,u=-1,l=[];s<e.length;){var c=n[++u%n.length],p=this._computeTrackRow(e,i,c,u,t,s),h=p[0].height;if(!(h<=c||s+p.length<e.length)){var g=h,m=s,d=j(l),f=e.slice(s)
;if(o)for(var b=l.length-1;b>=0&&f.length>0;b--){var v=l[b].length;s-=v;var y=e.slice(s,s+v).concat(f),x=void 0;for(f=[];(x=this._getRowItems(y,t))<i&&(f.push(y.shift()),!(y.length<=1)););
l[b]=this._setHeight(y,b,x,t)}if(f.length){l=d;var C=a>0?c:"number"!=typeof r?1.6*c:r,w=this._setHeight(e.slice(m),u,g<=C?g:c,t);l.push(w)}break}s+=p.length,l.push(p)}if(a>0&&l.length){
for(var _=l.pop(),I=n[_[0].row%n.length],O=[4,3],P=j(e),k=0;k<a;k++)P.push({height:O[1]*I,width:O[0]*I,placeholder:!0});var T,R=_[0].row,A=e.length-_.length,S=Math.max(i,Math.floor((i+I)/2))
;if(_[0].height>S){var E,L=0;for(E=A;E<P.length;E++){var D=P[E];L+=D.width*S/D.height,E>A&&(L+=2*this.getDefault().padding);var N=t-L-2*this.getDefault().padding;if(E>=e.length-1){if(O[1]*N<1*S)break
;if(O[1]*N<(O[0]+1)*S&&E<P.length-1){(T=this._setHeight(P.slice(A,E+2),R,S,t))[T.length-1].width=N;break}}}}else T=_;for(T&&(A+=T.length,R++,l.push(T));A<P.length;){
var M=n[R%n.length],B=this._computeTrackRow(P,i,M,R,t,A);if(B[0].height>M&&A+B.length>=P.length){var U=Math.max(i,Math.floor((i+I)/2));B=this._setHeight(P.slice(A),R,U,t)}R++,A+=B.length,l.push(B)}}
return l},_computeTrackRow:function(e,t,n,i,r){for(var a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=e[o].height,u=0,l=o;l<e.length;l++){var c=e.slice(o,l+1);if(u=s,
(s=this._getRowItems(c,r))<=n){s<t&&l>o&&(c=e.slice(o,l),s=u),a=this._setHeight(c,i,s,r);break}}return a||(a=this._setHeight(e.slice(o),i,s,r)),a},_getChildrenDefault:function(){var e=this
;return a.a.Common.Element.create(a.a.Bricks.Row,null,this.state.imgList.map((function(t,n){var i=e.props.colWidth&&e.props.colWidth.trim();return a.a.Common.Element.create(a.a.Bricks.Column,{
colWidth:i,key:n},a.a.Common.Element.create(I,{src:t.lightboxSrc,thumb:t.thumb,alt:t.alt,caption:t.caption,effect:e.props.effect,shape:e.props.shape,lightbox:e._getLightbox(),
authenticate:e.props.authenticate}))})))},_getChildren:function(){var e;switch(this.props.mode){case"track":e=this._getChildrenTrack();break;default:e=this._getChildrenDefault()}return e||null},
_getChildrenTrack:function(){
for(var e=this.props.rowWidth,t=this._getTrackGrid(this.state.imgList,e,this.props.rowMaxHeight,this.props.rowMinHeight,this.props.lastRowMaxHeight,this.state.pendingLoadCount),n=[],i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++){
var o=t[i][r];n.push(a.a.Common.Element.create("div",{key:i+"-"+r,className:this.getClassName("mode")+this.props.mode+(o.placeholder?" "+this.getClassName("placeholder"):""),style:{width:o.width,
height:o.height,marginTop:i?this.getDefault().padding:0,marginBottom:i===t.length-1?0:this.getDefault().padding,marginLeft:o.left,marginRight:o.right}},a.a.Common.Element.create(I,{thumb:o.thumb,
src:o.lightboxSrc,alt:o.alt,caption:o.caption,effect:this.props.effect,lightbox:this._getLightbox(),height:o.height,authenticate:this.props.authenticate})))}return n},render:function(){
return this._getChildren()}});n(17);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var H={data:!0,effect:!0,shape:!0,thumbSuffix:!0,lightbox:!0,rowMaxHeight:!0,rowMinHeight:!0,
lastRowMaxHeight:!0,colWidth:!0,alignment:!0,rowWidth:!0,session:!0,authenticate:!0,mode:!0,path:!0},F=a.a.Common.VisualComponent.create({mixins:[a.a.Common.BaseMixin,a.a.Common.ElementaryMixin],
statics:{tagName:o+"ThumbnailList",classNames:{main:s+"thumbnail-list",mode:s+"thumbnail-list-mode-"}},propTypes:{data:a.a.PropTypes.any,authenticate:a.a.PropTypes.bool,mode:a.a.PropTypes.string},
getDefaultProps:function(){return{data:[],authenticate:!1,mode:"default"}},_renderResizeBody:function(e){var t=e.width,n=e.height;return 0===t&&0===n?null:this._renderBody(t)},_renderBody:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.props.data||[],n={};for(var i in H)n[i]=this.props[i]
;return n.authenticate?a.a.Common.Element.create(a.a.Common.SessionContext.Consumer,null,(function(i){return a.a.Common.Element.create(W,z({},n,{rowWidth:e,data:t,session:i?i.session:void 0}))
})):a.a.Common.Element.create(W,z({},n,{data:t,rowWidth:e}))},render:function(){
return"track"===this.props.mode?a.a.Common.Element.create(a.a.Bricks.Resize,this.getMainPropsToPass(),this._renderResizeBody):a.a.Common.Element.create(a.a.Bricks.Div,this.getMainPropsToPass(),this._renderBody())
}});function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}
s.done?t(u):Promise.resolve(u).then(i,r)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Y(a,i,r,o,s,"next",e)}function s(e){
Y(a,i,r,o,s,"throw",e)}o(void 0)}))}}function X(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)
}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var J,K=a.a.Common.VisualComponent.create({mixins:[a.a.Common.BaseMixin,a.a.Common.ElementaryMixin],statics:{
tagName:o+"ImageRowBody",classNames:{main:s+"image-row-body",imageWrapper:function(){return a.a.Common.Css.css("\n        & + & {\n          margin-left: 4px;\n        }\n      ")}},imageCache:{}},
propTypes:{data:a.a.PropTypes.arrayOf(a.a.PropTypes.oneOfType([a.a.PropTypes.string,a.a.PropTypes.shape({src:a.a.PropTypes.string.isRequired,thumb:a.a.PropTypes.string,alt:a.a.PropTypes.string
})])).isRequired,effect:a.a.PropTypes.string,thumbSuffix:a.a.PropTypes.string,lightbox:a.a.PropTypes.oneOf(["local","global","none"]),authenticate:a.a.PropTypes.bool,
minHeight:a.a.PropTypes.oneOfType([a.a.PropTypes.number,a.a.PropTypes.string]),maxHeight:a.a.PropTypes.oneOfType([a.a.PropTypes.number,a.a.PropTypes.string]),alignment:a.a.PropTypes.string,
rowWidth:a.a.PropTypes.number,session:a.a.PropTypes.object},getDefaultProps:function(){return{data:null,effect:void 0,thumbSuffix:"_th",lightbox:"local",minHeight:100,maxHeight:160,alignment:"block",
rowWidth:void 0,session:void 0,authenticate:!1}},getInitialState:function(){return{imgList:[]}},componentDidMount:function(){this._loadImages()},componentWillReceiveProps:function(e){
e.controlled&&!a.a.Common.Tools.deepEqual(this.props.data,e.data)?e.data.length?this._loadImages(e):this.setState({imgList:[]
}):this.props.rowWidth===e.rowWidth&&this.props.minHeight===e.minHeight&&this.props.maxHeight===e.maxHeight||this._loadImages(e)},_getRowItems:function(e,t,n){var i=[],r=n;if(1===e.length)i.push({
lightboxSrc:e[0].lightboxSrc,thumb:e[0].thumb,alt:e[0].alt,caption:e[0].caption,width:Math.min(r,t*e[0].width/e[0].height),height:t,column:0});else for(var a=0;a<e.length;a++)i.push({column:a,
lightboxSrc:e[a].lightboxSrc,thumb:e[a].thumb,caption:e[a].caption,alt:e[a].alt,width:t*e[a].width/e[a].height,height:t,left:0===a?0:2,right:a===e.length-1?0:2});return i},_getHeight:function(e,t){
return(t-=4*(e.length-1))/e.reduce((function(e,t){return e+1*t.width/t.height}),0)},_getRowImages:function(e,t,n,i){n=n||160,i=i||100;for(var r=[[]],a=0;a<e.length;a++){
var o=e.slice(0,a+1),s=this._getHeight(o,t);if(s<=n){if(s<i&&a>0)break;r=[o,s,t]}else r=[o,s=Math.min(s,n),t]}return this._getRowItems.apply(this,X(r))},_loadImages:function(){var e=arguments,t=this
;return G(regeneratorRuntime.mark((function n(){var i,r,a,o,s,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:t.props,
t._dataChangeId=Math.random(),r=[],a=t._dataChangeId,o=0;case 5:if(!(o<i.data.length)){n.next=21;break}return n.next=8,t._loadImage(i.data[o],i.authenticate,i.session);case 8:if(s=n.sent,
a===t._dataChangeId){n.next=11;break}return n.abrupt("return");case 11:if(!s){n.next=18;break}if((u=t._getRowImages([].concat(X(r),[s]),i.rowWidth,i.maxHeight,i.minHeight)).length!==r.length){
n.next=17;break}return n.abrupt("break",21);case 17:r=u;case 18:o++,n.next=5;break;case 21:t.setAsyncState({imgList:r});case 22:case"end":return n.stop()}}),n)})))()},_loadImage:function(e,t,n){
var i=this;"string"==typeof e&&(e={src:e});var r,o=e.thumb||this._getThumbnail(e.src),s=this.constructor.imageCache[o]
;return s?r=s:t&&(n=n||a.a.Environment.getSession())&&n.isAuthenticated()&&a.a.Environment.isTrustedDomain(o)&&(r=new Promise((function(t){var r=function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Z(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))
}return e}({},e);E.fetchAuthenticatedImage(o,n).then((function(e){r.thumb=URL.createObjectURL(e.data),t(i._getImageData(r,o))}),(function(a){E.fetchAuthenticatedImage(e.src,n).then((function(n){
r.thumb=URL.createObjectURL(n.data),t(i._getImageData(r,e.src))}),(function(e){r.thumb="data:image/gif;base64,ZZZZZZZZ",t(i._getImageData(r,o))}))}))}))),r||(r=this._getImageData(e,o)),r},
_getImageData:function(e,t){var n=this;return new Promise((function(i){var r,a;e&&"object"===V(e)?(r=e.src,a=e.thumb||e.lightboxSrc):r=e,a=a||n._getThumbnail(r);var o=new window.Image,s=!0
;o.onload=function(){var u={lightboxSrc:r,thumb:s?a:r,width:o.width,height:o.height,alt:e.alt||""};n.constructor.imageCache[t]=u,i(u)},o.onerror=function(){if(s)return s=!1,o.src=r,
void(o.alt=e.alt||"");i(null)},o.src=a}))},_getThumbnail:function(e){var t,n=e.lastIndexOf(".");if(-1!==n){var i=e.substr(0,n),r=e.substr(n+1)
;S.fileExtension.test(r)&&(t=i+this.props.thumbSuffix+"."+r)}return t||(t=e+this.props.thumbSuffix),t},_getLightbox:function(){
return"global"===this.props.lightbox?null:"none"!==this.props.lightbox&&this.getId()},_renderImages:function(){var e=this;return this.state.imgList.map((function(t,n){
return a.a.Common.Element.create(I,{key:n,src:t.lightboxSrc,alt:t.alt,thumb:t.thumb,caption:t.caption,effect:e.props.effect,shape:e.props.shape,lightbox:e._getLightbox(),className:"".concat((i=t,
r=i.width,o=i.height,a.a.Common.Css.css("\n    && {\n      width: ".concat(r,"px;\n      height: ").concat(o,"px;\n    }\n  ")))," ").concat(e.getClassName("imageWrapper")),
authenticate:e.props.authenticate});var i,r,o}))},render:function(){return this._renderImages()}});function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ee={data:!0,effect:!0,thumbSuffix:!0,lightbox:!0,minHeight:!0,
maxHeight:!0,alignment:!0,rowWidth:!0,session:!0,authenticate:!0},te=a.a.Common.VisualComponent.create({mixins:[a.a.Common.BaseMixin,a.a.Common.ElementaryMixin,a.a.Common.NestingLevelMixin],statics:{
tagName:o+"ImageRow",nestingLevelList:a.a.Environment.getNestingLevelList("bigBoxCollection","box"),classNames:{main:function(e){
return s+"image-row "+a.a.Common.Css.css(J||(n=["\n        display: flex;\n        ","\n      "],i||(i=n.slice(0)),J=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}
}))),"center"===(t=e.alignment)?"justify-content: center;":"left"===t?"justify-content: flex-start;":"right"===t?"justify-content: flex-end;":"justify-content: space-between;");var t,n,i}},opt:{
nestingLevelWrapper:!0}},propTypes:{data:a.a.PropTypes.any,alignment:a.a.PropTypes.string,authenticate:a.a.PropTypes.bool},getDefaultProps:function(){return{data:null,alignment:"block",authenticate:!1
}},_renderBody:function(e){var t=e.width,n=e.height;if(0===t&&0===n)return null;var i=this.props.data||[],r={};for(var o in ee)r[o]=this.props[o]
;return r.authenticate?a.a.Common.Element.create(a.a.Common.SessionContext.Consumer,null,(function(e){return a.a.Common.Element.create(K,$({},r,{rowWidth:t,data:i,session:e?e.session:void 0}))
})):a.a.Common.Element.create(K,$({},r,{data:i,rowWidth:t}))},render:function(){
return this.getNestingLevel()?a.a.Common.Element.create(a.a.Bricks.Resize,this.getMainPropsToPass(),this._renderBody):null}});function ne(e){
return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function re(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}
s.done?t(u):Promise.resolve(u).then(i,r)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){ae(a,i,r,o,s,"next",e)}
function s(e){ae(a,i,r,o,s,"throw",e)}o(void 0)}))}}function se(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var le,ce=a.a.Common.VisualComponent.create({mixins:[a.a.Common.BaseMixin,a.a.Common.ElementaryMixin],
statics:{tagName:o+"ImageColumnBody",classNames:{main:s+"image-column-body",imageWrapper:function(){return a.a.Common.Css.css("\n        & + & {\n          margin-top: 4px;\n        }\n      ")}},
imageCache:{}},propTypes:{data:a.a.PropTypes.arrayOf(a.a.PropTypes.oneOfType([a.a.PropTypes.string,a.a.PropTypes.shape({src:a.a.PropTypes.string.isRequired,thumb:a.a.PropTypes.string,
alt:a.a.PropTypes.string})])).isRequired,effect:a.a.PropTypes.string,thumbSuffix:a.a.PropTypes.string,lightbox:a.a.PropTypes.oneOf(["local","global","none"]),authenticate:a.a.PropTypes.bool,
minWidth:a.a.PropTypes.oneOfType([a.a.PropTypes.number,a.a.PropTypes.string]),maxWidth:a.a.PropTypes.oneOfType([a.a.PropTypes.number,a.a.PropTypes.string]),alignment:a.a.PropTypes.string,
session:a.a.PropTypes.object},getDefaultProps:function(){return{data:null,effect:void 0,thumbSuffix:"_th",lightbox:"local",minWidth:100,maxWidth:160,height:null,alignment:"block",session:void 0,
authenticate:!1}},getInitialState:function(){return{imgList:[]}},componentDidMount:function(){this._loadImages()},componentWillReceiveProps:function(e){
e.controlled&&!a.a.Common.Tools.deepEqual(this.props.data,e.data)?e.data.length?this._loadImages(e):this.setState({imgList:[]
}):this.props.height===e.height&&this.props.minWidth===e.minWidth&&this.props.maxWidth===e.maxWidth||this._loadImages(e)},_getColItems:function(e,t,n){var i=[],r=n;if(1===e.length)i.push({
lightboxSrc:e[0].lightboxSrc,thumb:e[0].thumb,alt:e[0].alt,caption:e[0].caption,height:Math.min(r,t*e[0].height/e[0].width),width:t,column:0});else for(var a=0;a<e.length;a++)i.push({column:a,
lightboxSrc:e[a].lightboxSrc,thumb:e[a].thumb,alt:e[a].alt,caption:e[a].caption,height:t*e[a].height/e[a].width,width:t,left:0===a?0:2,right:a===e.length-1?0:2});return i},_getWidth:function(e,t){
return(t-=4*(e.length-1))/e.reduce((function(e,t){return e+1*t.height/t.width}),0)},_getColImages:function(e,t,n,i){n=n||160,i=i||100;var r=[[]];if(t)for(var a=0;a<e.length;a++){
var o=e.slice(0,a+1),s=this._getWidth(o,t);if(s<=n){if(s<i&&a>0)break;r=[o,s,t]}else r=[o,s=Math.min(s,n),t]}else r=[e,n,1/0];return this._getColItems.apply(this,se(r))},_loadImages:function(){
var e=arguments,t=this;return oe(regeneratorRuntime.mark((function n(){var i,r,a,o,s,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:
i=e.length>0&&void 0!==e[0]?e[0]:t.props,t._dataChangeId=Math.random(),r=[],a=t._dataChangeId,o=0;case 5:if(!(o<i.data.length)){n.next=21;break}return n.next=8,
t._loadImage(i.data[o],i.authenticate,i.session);case 8:if(s=n.sent,a===t._dataChangeId){n.next=11;break}return n.abrupt("return");case 11:if(!s){n.next=18;break}
if((u=t._getColImages([].concat(se(r),[s]),i.height,i.maxWidth,i.minWidth)).length!==r.length){n.next=17;break}return n.abrupt("break",21);case 17:r=u;case 18:o++,n.next=5;break;case 21:
t.setAsyncState({imgList:r});case 22:case"end":return n.stop()}}),n)})))()},_loadImage:function(e,t,n){var i=this;"string"==typeof e&&(e={src:e})
;var r,o=e.thumb||this._getThumbnail(e.src),s=this.constructor.imageCache[o]
;return s?r=s:t&&(n=n||a.a.Environment.getSession())&&n.isAuthenticated()&&a.a.Environment.isTrustedDomain(o)&&(r=new Promise((function(t){var r=function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){re(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))
}))}return e}({},e);E.fetchAuthenticatedImage(o,n).then((function(e){r.thumb=URL.createObjectURL(e.data),t(i._getImageData(r,o))}),(function(a){E.fetchAuthenticatedImage(e.src,n).then((function(n){
r.thumb=URL.createObjectURL(n.data),t(i._getImageData(r,e.src))}),(function(e){r.thumb="data:image/gif;base64,ZZZZZZZZ",t(i._getImageData(r,o))}))}))}))),r||(r=this._getImageData(e,o)),r},
_getImageData:function(e,t){var n=this;return new Promise((function(i){var r,a;e&&"object"===ne(e)?(r=e.src,a=e.thumb||e.lightboxSrc):r=e,a=a||n._getThumbnail(r);var o=new window.Image,s=!0
;o.onload=function(){var u={lightboxSrc:r,thumb:s?a:r,width:o.width,height:o.height,alt:e.alt||""};n.constructor.imageCache[t]=u,i(u)},o.onerror=function(){if(s)return s=!1,o.src=r,
void(o.alt=e.alt||"");i(null)},o.src=a}))},_getThumbnail:function(e){var t,n=e.lastIndexOf(".");if(-1!==n){var i=e.substr(0,n),r=e.substr(n+1)
;S.fileExtension.test(r)&&(t=i+this.props.thumbSuffix+"."+r)}return t||(t=e+this.props.thumbSuffix),t},_getLightbox:function(){
return"global"===this.props.lightbox?null:"none"!==this.props.lightbox&&this.getId()},_renderImages:function(){var e=this;return this.state.imgList.map((function(t,n){
return a.a.Common.Element.create(I,{key:n,src:t.lightboxSrc,alt:t.alt,thumb:t.thumb,caption:t.caption,effect:e.props.effect,shape:e.props.shape,lightbox:e._getLightbox(),className:"".concat((i=t,
r=i.width,o=i.height,a.a.Common.Css.css("\n    && {\n      width: ".concat(r,"px;\n      height: ").concat(o,"px;\n    }\n  ")))," ").concat(e.getClassName("imageWrapper")),
authenticate:e.props.authenticate});var i,r,o}))},render:function(){return this._renderImages()}});function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var he={data:!0,effect:!0,thumbSuffix:!0,lightbox:!0,minWidth:!0,maxWidth:!0,
height:!0,alignment:!0,rowWidth:!0,session:!0,authenticate:!0};var ge=a.a.Common.VisualComponent.create({mixins:[a.a.Common.BaseMixin,a.a.Common.ElementaryMixin,a.a.Common.NestingLevelMixin],statics:{
tagName:o+"ImageColumn",nestingLevelList:a.a.Environment.getNestingLevelList("bigBoxCollection","box"),classNames:{main:function(e){
return s+"image-column "+a.a.Common.Css.css(le||(n=["\n        ","\n        display: inline-flex;\n        flex-direction: column;\n        ","\n      "],i||(i=n.slice(0)),
le=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(i)}
}))),e.height?"height: ".concat(a.a.Common.Tools.fillUnit(e.height),";"):"","center"===(t=e.alignment)?"justify-content: center;":"top"===t?"justify-content: flex-start;":"bottom"===t?"justify-content: flex-end;":"justify-content: space-between;")
;var t,n,i}},opt:{nestingLevelWrapper:!0}},propTypes:{data:a.a.PropTypes.any,alignment:a.a.PropTypes.string,authenticate:a.a.PropTypes.bool},getDefaultProps:function(){return{data:null,
alignment:"block",authenticate:!1}},_renderBody:function(){var e=this.props.data||[],t={};for(var n in he)t[n]=this.props[n]
;return t.authenticate?a.a.Common.Element.create(a.a.Common.SessionContext.Consumer,null,(function(n){return a.a.Common.Element.create(ce,pe({},t,{data:e,session:n?n.session:void 0}))
})):a.a.Common.Element.create(ce,pe({},t,{data:e}))},render:function(){return this.getNestingLevel()?a.a.Common.Element.create("div",this.getMainAttrs(),this._renderBody()):null}});function me(e,t){
if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var de=function(e,t){var n;void 0===t&&(t=me);var i,r=[],a=!1;return function(){
for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,r)||(i=e.apply(this,o),a=!0,n=this,r=o),i}};function fe(){return(fe=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}
var be=a.a.Common.Context.create(),ve=be,ye=function(e){if(!a.a.Common.Context.isSupported())return e;var t=a.a.Common.Reference.forward((function(t,n){
return a.a.Common.Element.create(be.Consumer,null,(function(i){return a.a.Common.Element.create(e,fe({},i,t,{ref:n}))}))}));return t.isUu5PureComponent=!0,
t.displayName="forwardRef(".concat(e.displayName||e.name||"Component",")"),t.tagName=e.tagName,t}(a.a.Common.Reference.forward((function(e,t){var n=e.getImageProps(e.id)
;return n?a.a.Common.Element.create(I,n):null})));ye.isUu5PureComponent=!0,ye.displayName="UU5.Bricks.CarouselItem",ye.tagName="UU5.Bricks.CarouselItem";var xe,Ce,we,_e,Ie=ye;function Oe(){
return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}
function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Te(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Se(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}
s.done?t(u):Promise.resolve(u).then(i,r)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Se(a,i,r,o,s,"next",e)}
function s(e){Se(a,i,r,o,s,"throw",e)}o(void 0)}))}}function je(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Le,De={hideControls:!0,
hideIndicators:!0,activeIndex:!0,nextIcon:!0,prevIcon:!0,displayedItems:!0,type:!0,interval:!0,stepByOne:!0,ref_:!0},Ne=a.a.Common.VisualComponent.create({mixins:[a.a.Common.BaseMixin],statics:{
tagName:o+"CarouselBody",classNames:{main:function(e){
return s+"carousel-body "+a.a.Common.Css.css(xe||(xe=je(["\n        && {\n          text-align: center;\n          width: ",";\n        }\n    "])),a.a.Common.Tools.fillUnit(e.width))},
carouselItem:function(e){
return a.a.Common.Css.css(Ce||(Ce=je(["\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: ",";\n    "])),a.a.Common.Tools.fillUnit(e.height))},
image:function(e){
return a.a.Common.Css.css(we||(we=je(["\n        && {\n          & > .uu5-bricks-link {\n            display: inline-block;\n          }\n\n          img.uu5-bricks-image {\n            height: ",";\n            width: ",";\n            max-width: 100%;\n            object-fit: ",";\n          }\n\n          &:focus .uu5-imaging-image-focus-wrapper {\n            box-shadow: none;\n          }\n        }\n\n      "])),"contain"===e.fit?a.a.Common.Tools.fillUnit(e.height):"100%","contain"===e.fit?"auto":"100%",e.fit)
},errorImage:a.a.Common.Css.css(_e||(_e=je(["\n        &&& img.uu5-bricks-image {\n          height: auto;\n        }\n      "])))},opt:{hoc:!0},imageCache:{}},propTypes:{
data:a.a.PropTypes.arrayOf(a.a.PropTypes.oneOfType([a.a.PropTypes.string,a.a.PropTypes.shape({src:a.a.PropTypes.string.isRequired})])).isRequired,authenticate:a.a.PropTypes.bool,
session:a.a.PropTypes.object,width:a.a.PropTypes.oneOfType([a.a.PropTypes.number,a.a.PropTypes.string]),height:a.a.PropTypes.number,hideControls:a.a.PropTypes.bool,hideIndicators:a.a.PropTypes.bool,
activeIndex:a.a.PropTypes.number,nextIcon:a.a.PropTypes.string,prevIcon:a.a.PropTypes.string,displayedItems:a.a.PropTypes.number,type:a.a.PropTypes.oneOf(["circular","final","rewind"]),
interval:a.a.PropTypes.number,stepByOne:a.a.PropTypes.bool,fit:a.a.PropTypes.oneOf(["cover","contain"])},getDefaultProps:function(){return{data:null,session:void 0,authenticate:!1,width:null,
height:500,hideControls:!1,hideIndicators:!1,activeIndex:0,nextIcon:"mdi-chevron-right",prevIcon:"mdi-chevron-left",displayedItems:1,type:"final",interval:5e3,stepByOne:!1,fit:"cover"}},
getInitialState:function(){return this._renderImages=de(this._renderImages),{imgList:[],activeIndex:this.props.activeIndex}},componentDidMount:function(){this._loadedIndexes=[],this._loadImages()},
componentWillReceiveProps:function(e){
a.a.Common.Tools.deepEqual(this.props.data,e.data)&&e.activeIndex===this.props.activeIndex&&e.displayedItems===this.props.displayedItems&&e.stepByOne===this.props.stepByOne&&e.type===this.props.type||(this._loadedIndexes=[],
e.data.length?this._loadImages(e):this.setState({imgList:[]}))},_loadImages:function(){var e=arguments,t=this;return Ee(regeneratorRuntime.mark((function n(){var i,r,a,o,s,u,l,c,p,h
;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:t.props,r=e.length>1?e[1]:void 0,a=e.length>2?e[2]:void 0,
!(t._loadedIndexes.length<i.data.length)){n.next=32;break}r="number"==typeof r?r:i.activeIndex,i.stepByOne||(r*=i.displayedItems),t._dataChangeId=Math.random(),o=i.data.map((function(){return null})),
s=t._dataChangeId,u=1===i.displayedItems||i.stepByOne?1:i.displayedItems,Re(new Array(u)).reverse().forEach((function(e,n){var i=r-(n+1);-1===t._loadedIndexes.indexOf(i)&&t._loadedIndexes.push(i)})),
Re(new Array(i.displayedItems)).forEach((function(e,n){var i=r+n;-1===t._loadedIndexes.indexOf(i)&&t._loadedIndexes.push(i)})),Re(new Array(u)).forEach((function(e,n){var a=r+i.displayedItems-1+(n+1)
;-1===t._loadedIndexes.indexOf(a)&&t._loadedIndexes.push(a)})),t._loadedIndexes.forEach((function(e,n){var r=e<0,a=e>o.length-1
;"final"===i.type&&(r||a)?t._loadedIndexes[n]=null:r?t._loadedIndexes[n]=o.length+e:a&&(t._loadedIndexes[n]=e-o.length)})),
"circular"!==i.type&&r+u>o.length&&Re(new Array(o.length-r+u)).forEach((function(e,n){var i=r-(n+1);-1===t._loadedIndexes.indexOf(i)&&t._loadedIndexes.push(i)})),
t._loadedIndexes=t._loadedIndexes.filter((function(e){return null!==e})),l=0;case 17:if(!(l<t._loadedIndexes.length)){n.next=29;break}if("number"!=typeof(c=t._loadedIndexes[l])){n.next=26;break}
return n.next=22,t._loadImage(i.data[c],i.authenticate,i.session);case 22:if(p=n.sent,s===t._dataChangeId){n.next=25;break}return n.abrupt("return");case 25:p&&(o[c]=p);case 26:l++,n.next=17;break
;case 29:h={imgList:o},"number"==typeof r&&(h.activeIndex=r),t.setAsyncState(h,a);case 32:case"end":return n.stop()}}),n)})))()},_loadImage:function(e,t,n){var i=this;"string"==typeof e&&(e={src:e})
;var r,o=e.src,s=this.constructor.imageCache[o];return s?r=s:t&&(n=n||a.a.Environment.getSession())&&n.isAuthenticated()&&a.a.Environment.isTrustedDomain(o)&&(r=new Promise((function(t){
var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Te(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))
}))}return e}({},e);E.fetchAuthenticatedImage(o,n).then((function(e){r.src=URL.createObjectURL(e.data),t(i._getImageData(r,o))}),(function(e){r.src="data:image/gif;base64,ZZZZZZZZ",
t(i._getImageData(r,o))}))}))),r||(r=this._getImageData(e,o)),r},_getImageData:function(e,t){var n=this;return new Promise((function(i){var r;r=e&&"object"===Pe(e)?e.src:e;var a=new window.Image
;a.onload=function(){var e={src:r,width:a.width,height:a.height,alt:a.alt||"",error:!1};n.constructor.imageCache[t]=e,i(e)},a.onerror=function(){var e={src:"data:image/gif;base64,ZZZZZZZZ",
alt:a.alt||"",error:!0};i(e)},a.alt=e.alt||"",a.src=r}))},_onIndexChange:function(e){var t=e.activeIndex;this._loadImages(this.props,t)},_getImageProps:function(e){var t=this.state.imgList[e];if(t){
var n=this.getClassName("image");return t.error&&(n+=" "+this.getClassName("errorImage")),{src:t.src,caption:t.caption,alt:t.alt,lightbox:!1,authenticate:this.props.authenticate,
width:"contain"===this.props.fit?"auto":"100%",height:"contain"===this.props.fit?"auto":"100%",className:n}}return null},_renderImages:function(e){var t=this
;return Re(new Array(e)).map((function(e,n){return a.a.Common.Element.create(a.a.Bricks.Carousel.Item,{key:n,className:t.getClassName("carouselItem")},a.a.Common.Element.create(Ie,{id:n+""}))}))},
render:function(){var e={};for(var t in De)e[t]=this.props[t];return a.a.Common.Element.create(ve.Provider,{value:{getImageProps:this._getImageProps}
},a.a.Common.Element.create(a.a.Bricks.Carousel,Oe({},this.getMainPropsToPass(),e,{displayedItems:e.displayedItems||1,onIndexChange:this._onIndexChange
}),this._renderImages(this.state.imgList.length)))}});function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Be=a.a.Common.VisualComponent.create({
mixins:[a.a.Common.BaseMixin,a.a.Common.NestingLevelMixin],statics:{tagName:o+"Carousel",nestingLevelList:a.a.Environment.getNestingLevelList("BigBoxCollection","box"),classNames:{main:function(e){
var t,n,i=[s+"carousel"];return e.height&&i.push(a.a.Common.Css.css(Le||(t=["\n            && {\n              height: ",";\n            }\n          "],n||(n=t.slice(0)),
Le=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),a.a.Common.Tools.fillUnit(e.height))),i.join(" ")}},opt:{hoc:!0,nestingLevelWrapper:!0}},propTypes:{data:a.a.PropTypes.any,
authenticate:a.a.PropTypes.bool},getDefaultProps:function(){return{data:null,authenticate:!1}},_renderResizeBody:function(e,t){var n=e.width;return 0===n?null:this._renderBody(n,t)},
_renderBody:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.width,n=arguments.length>1?arguments[1]:void 0,i=this.props.data||[]
;return this.props.authenticate?a.a.Common.Element.create(a.a.Common.SessionContext.Consumer,null,(function(r){return a.a.Common.Element.create(Ne,Me({},e.props,e._getMainPropsToPass(n),{data:i,
width:t,session:r?r.session:void 0}))})):a.a.Common.Element.create(Ne,Me({},this.props,this._getMainPropsToPass(n),{data:i,width:t,parent:null,nestingLevel:void 0}))},_getMainPropsToPass:function(e){
var t=this.getMainPropsToPass();return e&&(delete t.parent,delete t.nestingLevel),t},_getChildren:function(e){var t=this
;return this.props.width?this._renderBody(void 0,e):a.a.Common.Element.create(a.a.Bricks.Resize,Me({},this._getMainPropsToPass(e),{nestingLevel:void 0,ref_:null,parent:null}),(function(n){
return t._renderResizeBody(n,e)}))},_getLsiLabel:function(){return a.a.Common.Element.create(a.a.Bricks.Lsi,{lsi:{cs:"Prezentace obrázků",en:"Show slideshow"}})},render:function(){
return this.getNestingLevel()?this._getChildren():a.a.Common.Element.create(a.a.Bricks.LinkModal,{component:this._getChildren(!0)},this._getLsiLabel())}});Be=a.a.Common.withVisibilityCheck(Be),n(5)
;function Ue(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return We(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){
return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){
n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function We(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ze(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}
s.done?t(u):Promise.resolve(u).then(i,r)}var He,Fe,Ve={OUTPUT_TYPES:["png","jpeg"]};function qe(e){var t=new DataView(e);if(65496!=t.getUint16(0,!1))return-2;for(var n=t.byteLength,i=2;i<n;){
if(t.getUint16(i+2,!1)<=8)return-1;var r=t.getUint16(i,!1);if(i+=2,65505==r){if(1165519206!=t.getUint32(i+=2,!1))return-1;var a=18761==t.getUint16(i+=6,!1);i+=t.getUint32(i+4,a);var o=t.getUint16(i,a)
;i+=2;for(var s=0;s<o;s++)if(274==t.getUint16(i+12*s,a))return t.getUint16(i+12*s+8,a)}else{if(65280!=(65280&r))break;i+=t.getUint16(i,!1)}}return-1}function Ze(e,t,n){return Ge(e,t,n)}
function Ye(e,t){return Ge(e,t)}function Ge(e,t,n){var i=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if("number"==typeof n){var a=n*(Math.PI/180),o=function(e,t){
return-t*Math.sin(a)+e*Math.cos(a)},s=function(e,t){return t*Math.cos(a)+e*Math.sin(a)
},u=Math.round(Math.min(0,o(i,0),o(i,r),o(0,r))),l=Math.round(Math.min(0,s(i,0),s(i,r),s(0,r))),c=Math.round(Math.max(0,o(i,0),o(i,r),o(0,r))),p=Math.round(Math.max(0,s(i,0),s(i,r),s(0,r)))
;He.width=c-u,He.height=p-l,Fe.translate(-u,-l),Fe.rotate(a)}else switch(t){case 2:He.width=i,He.height=r,Fe.translate(i,0),Fe.scale(-1,1);break;case 3:He.width=i,He.height=r,Fe.translate(i,r),
Fe.rotate(Math.PI);break;case 4:He.width=i,He.height=r,Fe.translate(0,r),Fe.scale(1,-1);break;case 5:He.width=r,He.height=i,Fe.rotate(.5*Math.PI),Fe.scale(1,-1);break;case 6:He.width=r,He.height=i,
Fe.rotate(.5*Math.PI),Fe.translate(0,-r);break;case 7:He.width=r,He.height=i,Fe.rotate(.5*Math.PI),Fe.translate(i,-r),Fe.scale(-1,1);break;case 8:He.width=r,He.height=i,Fe.rotate(-.5*Math.PI),
Fe.translate(-i,0);break;default:He.width=i,He.height=r}Fe.drawImage(e,0,0)}function Xe(e){He.width=e.naturalWidth||e.width,He.height=e.naturalHeight||e.height,Fe.globalCompositeOperation="copy",
Fe.drawImage(e,0,0);for(var t=Fe.getImageData(0,0,He.width,He.height).data,n=!1,i=4*He.width*He.height,r=3;r<i;r+=4)if(255!==t[r]){n=!0;break}return n}function Qe(){
He||Fe||((He=document.createElement("canvas")).style.display="none",document.body.appendChild(He),Fe=He.getContext("2d")),Fe.clearRect(0,0,He.width,He.height),Fe.restore(),Fe.save()}function Je(e,t){
return new Promise((function(n,i){Ke(URL.createObjectURL(e)).then((function(r){var a=t(r)||{},o=a.type,s=a.imageFile,u=a.quality;if(s)n({imageSrc:URL.createObjectURL(s),imageFile:s});else{
!o&&e.name&&(o=e.name.split(".").pop().toLowerCase(),nt(o)||(o=null)),o||(o=Ve.OUTPUT_TYPES[0]),o=et(o);var l=He,c=l.width,p=l.height;He.toBlob((function(t){
t?o&&t.type!==o?i(new Error("This browser doesn't support generating images of type '".concat(o,"'."))):(t.name=e.name,o&&(t.name=t.name.replace(/\.[^.]*$/,(function(e){
return"."+o.replace(/^image\//,"").replace(/^jpeg$/,"jpg")}))),n({imageSrc:URL.createObjectURL(t),imageFile:t
})):i(new Error("Image adjustment failed (unable to get result blob data). Result canvas size: ".concat(c,"x").concat(p)))}),o,u)}}),i)}))}function Ke(e){return new Promise((function(t,n){
var i=new Image;i.src=e,i.onload=function(){t(i)},i.onerror=function(){n(new Error("Image failed to load in <img> element."))}}))}function $e(e){return new Promise((function(t,n){var i=new FileReader
;i.onload=function(e){t(e.target.result)},i.onerror=function(){n(new Error("Reading image data failed."))},i.readAsArrayBuffer(e)}))}function et(e){return e&&!e.startsWith("image/")&&(e="image/"+e),
"image/jpg"===e&&(e="image/jpeg"),e||null}HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this.toDataURL(t,n).split(",")[1]
;setTimeout((function(){for(var n=atob(i),r=n.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=n.charCodeAt(o);e(new Blob([a],{type:t||"image/png"}))}))}}),Ve.resize=function(e,t,n){
return Je(e,(function(e){Qe();var i=e.naturalHeight||e.height,r=e.naturalWidth||e.width;"string"==typeof t&&t.match(/^\d+(\.\d+)?%$/)?t=parseFloat(t)*r/100:"string"==typeof t&&(t=Number(t)),
"string"==typeof n&&n.match(/^\d+(\.\d+)?%$/)?n=parseFloat(n)*i/100:"string"==typeof n&&(n=Number(n));var a=t,o=n;return t?n||(o=t/r*i):a=n/i*r,He.width=a,He.height=o,Fe.drawImage(e,0,0,a,o),{
quality:1}}))},Ve.resizeMax=function(e,t,n){return Je(e,(function(e){Qe();var i=e.naturalHeight||e.height,r=e.naturalWidth||e.width
;"string"==typeof t&&t.match(/^\d+(\.\d+)?%$/)?t=parseFloat(t)*r/100:"string"==typeof t&&(t=Number(t)),
"string"==typeof n&&n.match(/^\d+(\.\d+)?%$/)?n=parseFloat(n)*i/100:"string"==typeof n&&(n=Number(n));var a=t,o=n;return t?n?r/i<t/n?(o=Math.min(i,n),a=Math.min(r,o/i*r)):(a=Math.min(r,t),
o=Math.min(i,a/r*i)):o=t/r*i:a=n/i*r,(a>r||o>i)&&(a=r,o=i),He.width=Math.floor(a)>0?a:1,He.height=Math.floor(o)>0?o:1,Fe.drawImage(e,0,0,a,o),{quality:1}}))},Ve.changeType=function(e,t,n){
return nt(t)?Je(e,(function(e){Qe();var i=e.naturalWidth||e.width,r=e.naturalHeight||e.height;return He.width=i,He.height=r,Fe.drawImage(e,0,0,i,r),{type:t,quality:n}
})):Promise.reject(new Error("Output type '".concat(t,"' is not supported. Must be one of: ").concat(Ve.OUTPUT_TYPES,".")))},Ve.rotate=function(e,t){
var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return $e(n).then((function(n){return Je(e,(function(i){Qe();var r={quality:1},a=qe(n)
;return"number"==typeof t?Ze(i,a,t):"auto"===t&&a>0?Ye(i,a):r.imageFile=e,r}))}))},Ve.crop=function(e,t,n,i,r){return Je(e,(function(e){Qe()
;var a=e.naturalHeight||e.height,o=e.naturalWidth||e.width,s=Math.min(i,o-t),u=Math.min(r,a-n);return He.width=s,He.height=u,Fe.drawImage(e,t,n,s,u,0,0,He.width,He.height),{quality:1}}))},
Ve.cropRatio=function(e,t,n){return Je(e,(function(e){Qe();var i,r,a=e.naturalHeight||e.height,o=e.naturalWidth||e.width;return t/n<o/a?i=(r=a)*t/n:r=(i=o)*n/t,He.width=i,He.height=r,
Fe.drawImage(e,(o-i)/2,(a-r)/2,i,r,0,0,i,r),{quality:1}}))},Ve.getImageMetadata=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){
var a=e.apply(t,n);function o(e){ze(a,i,r,o,s,"next",e)}function s(e){ze(a,i,r,o,s,"throw",e)}o(void 0)}))}}(regeneratorRuntime.mark((function e(t){var n,i,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Element)){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,Ke(n=URL.createObjectURL(t))
;case 6:e.t0=e.sent;case 7:return i=e.t0,Qe(),r=Xe(i),n&&URL.revokeObjectURL(n),e.abrupt("return",{width:i.naturalWidth||i.width,height:i.naturalHeight||i.height,transparency:r});case 12:case"end":
return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var tt,nt=function(e){if(!tt){tt={};var t,n=Ue(Ve.OUTPUT_TYPES);try{for(n.s();!(t=n.n()).done;){var i=t.value
;tt[et(i)]=!0}}catch(e){n.e(e)}finally{n.f()}}return tt[et(e)]},it=Ve;n(19),n(21),n(23);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function at(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){ot(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))
}))}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=r.Common.VisualComponent.create({
mixins:[r.Common.BaseMixin,r.Common.ElementaryMixin],statics:{tagName:o+"ImageInput",classNames:{main:s+"image-input",input:s+"image-input-file-input",placeholder:s+"image-input-placeholder",
dragover:s+"image-input-dragover"}},propTypes:{onChange:r.PropTypes.func,placeholder:r.PropTypes.oneOfType([r.PropTypes.object,r.PropTypes.string]),multiple:r.PropTypes.bool,readOnly:r.PropTypes.bool,
loading:r.PropTypes.bool,inputWidth:r.PropTypes.string,borderRadius:r.PropTypes.string,bgStyle:r.PropTypes.oneOf(["filled","outline","transparent","underline"]),
elevation:r.PropTypes.oneOf(["-1","0","1","2","3","4","5",-1,0,1,2,3,4,5])},getDefaultProps:function(){return{onChange:null,placeholder:null,multiple:!1,readOnly:!1,loading:!1,inputWidth:null,
borderRadius:null,bgStyle:null,elevation:null}},getInitialState:function(){return{dragover:!1}},componentDidMount:function(){
this._visualInput&&(r.Environment.EventListener.addEvent(this._visualInput,"dragover",this.getId(),this._handleDragOver),
r.Environment.EventListener.addEvent(this._visualInput,"dragleave",this.getId(),this._handleDragLeave),
r.Environment.EventListener.addEvent(this._visualInput,"drop",this.getId(),this._handleFileSelect))},componentWillUnmount:function(){
this._visualInput&&(r.Environment.EventListener.removeEvent(this._visualInput,"dragover",this.getId()),r.Environment.EventListener.removeEvent(this._visualInput,"dragleave",this.getId()),
r.Environment.EventListener.removeEvent(this._visualInput,"drop",this.getId()),r.Environment.EventListener.removeWindowEvent("keyup",this.getId()))},_handleDragOver:function(e){e.stopPropagation(),
e.preventDefault(),e.dataTransfer.dropEffect="copy",this.setState({dragover:!0})},_handleDragLeave:function(e){e.stopPropagation(),e.preventDefault(),this.setState({dragover:!1})},
_handleFileSelect:function(e){var t=this;e.stopPropagation(),e.preventDefault(),e.dataTransfer.files&&this.setState({dragover:!1},(function(){return t._onChange(e.dataTransfer.files)}))},
_onFocus:function(){var e=this;r.Environment.EventListener.addWindowEvent("keyup",this.getId(),(function(t){13===t.which&&!e.isDisabled()&&e._open()}))},_onBlur:function(){
r.Environment.EventListener.removeWindowEvent("keyup",this.getId())},_onChange:function(e){if(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push({id:r.Common.Tools.generateUUID(),value:i,
name:i.name})}t.length&&(r.Environment.EventListener.removeWindowEvent("keyup",this.getId()),this.props.onChange(t))}},_open:function(){return this._input.click(),this},_getInputWidth:function(){
return"auto"===this.props.inputWidth?null:this.props.inputWidth},_getMainAttrs:function(){var e=this,t=this.getMainAttrs(),n=this.getClassName("main")
;return this.state.dragover&&(n+=" "+this.getClassName("dragover")),(t=Object.assign(t,{ref:function(t){return e._visualInput=t},className:n+(t.className?" "+t.className:""),
tabIndex:this.props.readOnly||this.props.disabled?null:"0",onClick:this.props.readOnly||this.props.disabled||this.props.loading?null:function(){return e._open()},onFocus:this._onFocus,
onBlur:this._onBlur})).style=at(at({},t.style),{borderRadius:this.props.borderRadius}),this.props.elevation&&(t.className+=" "+r.Common.ClassNames.elevation+this.props.elevation),
this.props.bgStyle&&(t.className+=" "+r.Common.ClassNames[this.props.bgStyle]),this.props.inputWidth&&(t=r.Common.Tools.mergeDeep(t,{style:{width:this._getInputWidth()}})),t},_getInput:function(){
var e=this,t={onChange:function(t){return e._onChange(t.target.files)},type:"file",accept:"image/*",key:Math.random(),id:this.getId()+"-hidden-input",className:this.getClassName("input"),
ref:function(t){return e._input=t},multiple:this.props.multiple,disabled:this.props.disabled||this.props.readOnly,files:null}
;return r.Common.Element.create("div",this._getMainAttrs(),r.Common.Element.create("span",{className:this.getClassName("placeholder")},this.props.placeholder),r.Common.Element.create(r.Bricks.Icon,{
icon:"mdi-image"}),r.Common.Element.create("input",t))},render:function(){return this._getInput()}});n(25);function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var lt=r.Common.VisualComponent.create({
mixins:[r.Common.BaseMixin,r.Common.ElementaryMixin,r.Common.PureRenderMixin],statics:{tagName:o+"ImageInputItem",classNames:{main:s+"image-input-item",image:s+"image-input-item-image",
imageWrapper:s+"image-input-item-image-wrapper",buttonBar:s+"image-input-item-button-bar",name:s+"image-input-item-name",nameError:s+"image-input-item-name-error",error:s+"image-input-item-error",
errorIcon:s+"image-input-item-error-icon",loading:s+"image-input-item-loading",loadingComponent:s+"image-input-item-loading-component"},defaults:{
aspectRatioShapesRegexp:/^((rounded)?square|circle|(rounded)?rect\d+x\d+)$/i},opt:{pureRender:!0}},propTypes:{imageSrc:r.PropTypes.string,imageName:r.PropTypes.string,imageId:r.PropTypes.string,
onRemove:r.PropTypes.func,onAbort:r.PropTypes.func,progress:r.PropTypes.number,readOnly:r.PropTypes.bool,error:r.PropTypes.any,previewWidth:r.PropTypes.number,previewHeight:r.PropTypes.number,
previewShape:r.PropTypes.string},getDefaultProps:function(){return{imageSrc:null,imageName:null,onRemove:null,onAbort:null,progress:null,readOnly:null,error:null,previewWidth:null,previewHeight:null,
previewShape:null}},_getButtonBar:function(){var e=this;return this.props.readOnly?null:r.Common.Element.create("div",{className:this.getClassName("buttonBar")
},r.Common.Element.create(r.Bricks.Button,{onClick:function(){return e.props.onRemove(e.props.imageId)},content:r.Common.Element.create(r.Bricks.Icon,{icon:"mdi-delete"})}))},_getLoading:function(){
return r.Common.Element.create(r.Bricks.Loading,{className:this.getClassName("loadingComponent")})},_getError:function(){return r.Common.Element.create("div",{className:this.getClassName("error")
},r.Common.Element.create(r.Bricks.Icon,{icon:"mdi-alert-circle",className:this.getClassName("errorIcon")}))},render:function(){
var e=this.props,t=e.imageSrc,n=e.progress,i=e.imageName,a=e.error,o=e.previewShape,s=!a&&"number"==typeof n&&n<100,u=this.getMainAttrs()
;s&&(u.className=(u.className||"")+" "+this.getClassName("loading"));var l=this.props.previewWidth,c=this.props.previewHeight
;return null==c&&o&&!o.match(this.getDefault("aspectRatioShapesRegexp"))&&(c=l),r.Common.Element.create("span",ut({},u,{style:{width:l}}),r.Common.Element.create("div",{
className:this.getClassName("imageWrapper")},(t||a)&&r.Common.Element.create(r.Imaging.Image,{authenticate:!0,blackBackground:!1,
src:t||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",className:this.getClassName("image"),width:l,height:c,shape:this.props.previewShape,fit:"coverNoScaleUp"
}),a&&this._getError(),this._getButtonBar(),s?this._getLoading():null),r.Common.Element.create("div",{className:this.getClassName("name")+(a?" "+this.getClassName("nameError"):""),title:i},i||" "))}})
;function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e
}).apply(this,arguments)}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?pt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
function mt(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(i,r)}var dt=r.Common.VisualComponent.create({
mixins:[r.Common.BaseMixin,r.Common.ElementaryMixin,r.Common.PureRenderMixin],statics:{tagName:o+"ImageInputAdjustment",classNames:{main:s+"image-input-adjustment",wrapper:s+"image-input-wrapper",
line:s+"image-input-message-line",lineFeedback:s+"image-input-message-line-feedback-"},errors:{
errorAdjusting:"Error while adjusting the image - check the adjustment settings and that the image file is not corrupted. Nested error: %s"},lsi:{imageError:{
cs:"Obrázek {0} není podporován nebo je poškozen.",en:"The image {0} is not supported or it is damaged.",sk:"Obrázok {0} nie je podporovaný alebo je poškodený."}},opt:{pureRender:!0}},propTypes:{
value:r.PropTypes.arrayOf(r.PropTypes.object),onChange:r.PropTypes.func,inputProps:r.PropTypes.object,lineProps:r.PropTypes.object,onRemove:r.PropTypes.func,onLoad:r.PropTypes.func,
width:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string]),height:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string]),type:r.PropTypes.string,
rotation:r.PropTypes.oneOfType([r.PropTypes.oneOf(["auto"]),r.PropTypes.number]),quality:r.PropTypes.number,previewWidth:r.PropTypes.number,previewHeight:r.PropTypes.number,
previewShape:r.PropTypes.string,cumulativeOnChange:r.PropTypes.bool},getDefaultProps:function(){return{value:null,onChange:null,inputProps:null,lineProps:null,onRemove:null,onLoad:null,width:null,
height:null,type:null,rotation:null,quality:null,previewWidth:null,previewHeight:null,previewShape:null,cumulativeOnChange:null}},componentDidMount:function(){
this.props.value&&this._readjustImages(this.props.value,this.props)},componentWillReceiveProps:function(e){
var t=e.rotation!=this.props.rotation||e.type!=this.props.type||e.quality!=this.props.quality||e.width!=this.props.width||e.height!=this.props.height,n=this._hasValueNewItems(e.value,this.props.value)
;(t||n)&&e.value&&"function"==typeof e.onChange&&this._readjustImages(e.value,e,t)},_hasValueNewItems:function(e,t){var n=!1;if(e){var i={};for(var r in t&&t.forEach((function(e){return i[e.id]=e})),
e)if(!(r in i)){n=!0;break}}return n},_readjustImages:function(e,t,n){var i=this;return function(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n)
;function o(e){mt(a,i,r,o,s,"next",e)}function s(e){mt(a,i,r,o,s,"throw",e)}o(void 0)}))}}(regeneratorRuntime.mark((function r(){var a,o,s,u;return regeneratorRuntime.wrap((function(r){
for(;;)switch(r.prev=r.next){case 0:return a=t.cumulativeOnChange,s=e.map((function(e){var r=e.originalValue||e.value
;if(r instanceof Blob&&(n||(null==e.originalValue||null==e.value)&&!e.error))return i._adjustImage(r,t).catch((function(e){i.isRendered()&&i.showError("errorAdjusting",[e])})).then((function(n){
if(i.isRendered()&&"function"==typeof t.onChange){var r;if(n){var s=n.imageFile,u=n.imageSrc;r={id:e.id,value:s,originalValue:e.originalValue||e.value,src:u,name:s.name}}else r={id:e.id,value:null,
originalValue:e.originalValue||e.value,src:null,error:i.getLsi("imageError"),name:e.name||(e.value||{}).name||(e.originalValue||{}).name};var l=gt({},r.id,r);if(a)o=ht(ht({},o),l);else{var c={
component:i,data:l};t.onChange(c)}}}))})),r.next=4,Promise.all(s.filter(Boolean));case 4:a&&i.isRendered()&&"function"==typeof t.onChange&&(u={component:i,data:o},t.onChange(u));case 5:case"end":
return r.stop()}}),r)})))()},_onChange:function(e){"function"==typeof this.props.onChange&&this._readjustImages(e,this.props)},_adjustImage:function(e,t){var n=Promise.resolve({
imageSrc:URL.createObjectURL(e),imageFile:e});return t.rotation&&(n=n.then((function(n){var i=n.imageFile,r=n.imageSrc;return URL.revokeObjectURL(r),it.rotate(i,t.rotation,e)}))),
(t.width||t.height)&&(n=n.then((function(e){var n=e.imageFile,i=e.imageSrc;return URL.revokeObjectURL(i),it.resize(n,t.width,t.height)}))),t.type&&(n=n.then((function(e){var n=e.imageFile,i=e.imageSrc
;return URL.revokeObjectURL(i),it.changeType(n,t.type,t.quality)}))),n},_getLine:function(){var e=this.getClassName("line")
;return e+=" "+this.getClassName("lineFeedback")+this.props.lineProps.feedback,r.Common.Element.create(r.Bricks.Line,{key:"line",className:e})},_getImages:function(){var e=this
;return this.props.value?this.props.value.map((function(t){return t.id||(t.id=r.Common.Tools.generateUUID()),r.Common.Element.create(lt,{key:t.id,error:t.error,
readOnly:(e.props.inputProps||{}).readOnly||(e.props.inputProps||{}).disabled,progress:t.progress,imageId:t.id,imageSrc:t.src||t.uri,imageName:t.name||(t.value||{}).name||(t.originalValue||{}).name,
onRemove:e.props.onRemove,previewWidth:e.props.previewWidth,previewHeight:e.props.previewHeight,previewShape:e.props.previewShape})})):null},render:function(){
return[this.props.inputProps.display?r.Common.Element.create(st,ct({key:"input"},this.props.inputProps,{onChange:this._onChange})):null,this.props.value?r.Common.Element.create("div",{key:"images",
className:this.getClassName("wrapper")},this._getImages()):null,this.props.lineProps.display?this._getLine():null]}}),ft={},bt={getInstances:function(e){return ft[e]||[]},Mixin:{
componentDidMount:function(){var e=ft[this.getTagName()];e||(e=ft[this.getTagName()]=[]),e.push(this)},componentWillUnmount:function(){var e=ft[this.getTagName()];if(e){var t=e.indexOf(this)
;-1!=t&&e.splice(t,1)}}}},vt={mixins:[bt.Mixin],componentDidMount:function(){if(!this.pasteImages_)throw new Error("ImagePasteHandler requires method pasteImages_(blobs) to be defined.")
;bt.getInstances("UU5.Imaging.Input").length+bt.getInstances("UU5.Imaging.UploadInput").length===1&&document.addEventListener("paste",yt)},componentWillUnmount:function(){
bt.getInstances("UU5.Imaging.Input").length+bt.getInstances("UU5.Imaging.UploadInput").length===0&&document.removeEventListener("paste",yt)}};function yt(e){if(!0!==e.repeat){
var t=bt.getInstances("UU5.Imaging.Input").concat(bt.getInstances("UU5.Imaging.UploadInput")).filter((function(e){var t=!1;if(!e.props.ignorePaste){var n=e.findDOMNode();if(n){
var i=getComputedStyle(n);"hidden"!==i.visibility&&"none"!==i.display&&(t=!0)}}return t}));if(1===t.length){var n=(e.clipboardData||e.originalEvent.clipboardData||{}).items,i=[];for(var r in n){
var a=n[r];if("file"===a.kind&&a.type&&a.type.match(/^image\//)){var o=a.getAsFile();i.push(o)}}if(i.length>0)t[0].pasteImages_(i)}}}function xt(e){return function(e){if(Array.isArray(e))return Ct(e)
}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _t=r.PropTypes.shape({id:r.PropTypes.string,
name:r.PropTypes.string,value:r.PropTypes.object,src:r.PropTypes.string,originalValue:r.PropTypes.object,error:r.PropTypes.any}),It=r.Forms.Context.withContext(r.Common.VisualComponent.create({
mixins:[r.Common.BaseMixin,r.Common.ElementaryMixin,r.Common.PureRenderMixin,r.Common.ColorSchemaMixin,r.Forms.InputMixin,vt],statics:{tagName:o+"Input",classNames:{main:s+"input"},lsi:{
requiredMessage:r.Environment.Lsi.Forms.message.requiredMessage,placeholder:{cs:"Nahrát obrázek",en:"Load image",sk:"Nahrať obrázok"},placeholderMulti:{cs:"Nahrát obrázky",en:"Load images",
sk:"Nahrať obrázky"},placeholderReadOnly:{cs:"Nelze nahrát obrázek",en:"Cannot load image",sk:"Nie je možné nahrať obrázok"},placeholderReadOnlyMulti:{cs:"Nelze nahrát obrázky",
en:"Cannot load images",sk:"Nie je možné nahrať obrázky"}},opt:{pureRender:!0}},propTypes:{value:r.PropTypes.oneOfType([_t,r.PropTypes.arrayOf(_t)]),
placeholder:r.PropTypes.oneOfType([r.PropTypes.object,r.PropTypes.string]),multiple:r.PropTypes.bool,outputWidth:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string]),
outputHeight:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string]),outputType:r.PropTypes.oneOf(it.OUTPUT_TYPES.concat(["jpg","image/jpeg","image/png"])),
outputRotation:r.PropTypes.oneOfType([r.PropTypes.oneOf(["auto"]),r.PropTypes.number]),outputQuality:r.PropTypes.number,ignorePaste:r.PropTypes.bool,borderRadius:r.PropTypes.string,
bgStyle:r.PropTypes.oneOf(["filled","outline","transparent","underline"]),elevation:r.PropTypes.oneOf(["-1","0","1","2","3","4","5",-1,0,1,2,3,4,5]),previewWidth:r.PropTypes.number,
previewHeight:r.PropTypes.number,previewShape:r.PropTypes.string},getDefaultProps:function(){return{placeholder:void 0,multiple:!1,outputWidth:null,outputHeight:null,outputType:null,
outputRotation:"auto",outputQuality:null,ignorePaste:void 0,borderRadius:null,bgStyle:null,elevation:null,previewWidth:100,previewHeight:null,previewShape:"square"}},componentWillMount:function(){
"function"==typeof this.props.onValidate&&this._isItemsDone(this.state.value)&&this._validateOnChange({value:this.state.value,event:null,component:this})},componentWillReceiveProps:function(e){
var t=this;if(!e.multiple&&this.props.multiple){var n=!1;this.setState((function(e){var t,i=e.value;return Array.isArray(i)&&i.length>1&&(n=!0,i.slice(0,i.length-1).forEach((function(e){
e.src&&URL.revokeObjectURL(e.src)})),t={value:i[i.length-1]}),t}),(function(){return n?t._triggerChangeEvent():null}))}e.controlled&&this.setState({value:e.value,feedback:e.feedback,message:e.message
})},onChange:function(){var e={value:this.state.value,component:this}
;return this.isComputedDisabled()||this.isReadOnly()||("function"==typeof this.props.onChange?this.props.onChange(e):this.onChangeDefault(e)),this},onChangeDefault:function(e){
return"function"==typeof this.props.onValidate&&this._validateOnChange({value:e.value,event:e.event,component:this}),this},isValid:function(){var e=this.getFeedback(),t=this.getValue(),n=!0
;if(!this.props.required||null!=t&&0!==t.length?"error"!==e&&"loading-internal"!==e&&"loading"!==e||(n=!1):(this.setError(this.props.requiredMessage||this.getLsiValue("requiredMessage")),n=!1),
n&&this.props.onValidate){var i=this.props.onValidate({value:t,component:this});i&&"object"===wt(i)&&"error"===i.feedback&&(n=!1)}return n},setValue_:function(e,t){return this._checkRequired({value:e
})&&("function"==typeof this.props.onValidate?this._validateOnChange({value:e,event:null,component:this}):this.setInitial(null,e,t)),this},getValue_:function(){var e=this.state.value
;return this.props.multiple&&e&&!Array.isArray(e)?e=[e]:!this.props.multiple&&Array.isArray(e)&&(e=e[0]),e},pasteImages_:function(e){var t=this,n=this.props.multiple?e:e.slice(-1)
;n.length>0&&this.setState((function(e){var i=e.value;return i=(i=t.props.multiple?i&&!Array.isArray(i)?[i]:i||[]:[]).concat(n.map((function(e){return{id:r.Common.Tools.generateUUID(),originalValue:e,
name:e.name}}))),t.props.multiple||(i=i[i.length-1]),{value:i}}))},_triggerChangeEvent:function(){var e=this;this._updateFeedbackFromValue((function(){e._isItemsDone(e.state.value)&&e.onChange()}))},
_validateOnChange:function(e){var t="function"==typeof this.props.onValidate?this.props.onValidate(e):null
;return t&&("object"===wt(t)?t.feedback?this._setFeedback(t.feedback,t.message,t.value):this.setState({value:e.value}):this.showError("validateError",null,{context:{func:this.props.onValidate,result:t
}})),this},_checkRequired:function(e){var t=!0;return!this.props.required||e.value&&0!==e.value.length||!this.shouldValidateRequired()||(t=!1,
this.setError(this.props.requiredMessage||this.getLsiComponent("requiredMessage"),e.value)),t},_isItemsDone:function(e){var t=e&&!Array.isArray(e)?[e]:e;return!t||t.every((function(e){
return e.uri||e.error||e.value&&e.originalValue}))},_onChange:function(e){var t=this,n=e.data;n&&this.setState((function(e){var i=e.value,r=function(e){var r=n[e]
;i=t._replaceStateItem(i,e,(function(e){return r}))};for(var a in n)r(a);return{value:i}}),this._triggerChangeEvent)},_replaceStateItem:function(e,t,n){
var i,r=e&&!Array.isArray(e)?[e]:e,a=r?r.findIndex((function(e){return e.id===t})):-1;if(-1===a){var o=n(null);i=o?(r||[]).concat([o]):e}else{var s=r?r[a]:void 0,u=n(s);u===s?i=e:(i=r?xt(r):[],
u?i.splice(a,1,u):i.splice(a,1),0!==i.length||e||(i=e));var l=(s||{}).src;!l||u&&l===u.src||setTimeout((function(){return URL.revokeObjectURL(l)}))}
return!this.props.multiple&&Array.isArray(i)&&(i=i[i.length-1]),i},_updateFeedbackFromValue:function(e){var t,n,i=[]
;((this.state.value&&!Array.isArray(this.state.value)?[this.state.value]:this.state.value)||[]).forEach((function(e){e.error&&i.push(e)})),i.length>0&&(t="error",
n=r.Common.Element.create("div",null,i.map((function(e){return r.Common.Element.create("div",{key:e.id},r.Common.Element.create(r.Bricks.Lsi,{lsi:e.error,
params:[(e.value||e.originalValue||{}).name||""]}))})))),this._setFeedback(t,n,this.state.value,e)},_onRemove:function(e){var t=this;this.setState((function(n){
var i=n.value,r=t._replaceStateItem(i,e,(function(e){return null}));return r===i?void 0:{value:r}}),this._triggerChangeEvent)},_getInputProps:function(){return Object.assign({
display:!this.state.value||0===this.state.value.length||this.props.multiple,id:this.getId()+"-input",multiple:this.props.multiple,readOnly:this.isReadOnly(),disabled:this.isComputedDisabled(),
loading:this.isLoading(),
placeholder:void 0!==this.props.placeholder?this.props.placeholder:this.getLsiComponent("placeholder"+(this.isReadOnly()&&!this.isDisabled()?"ReadOnly":"")+(this.props.multiple?"Multi":"")),
borderRadius:this.props.borderRadius,bgStyle:this.props.bgStyle,elevation:this.props.elevation,inputWidth:this.props.inputWidth},this.props.inputAttrs)},_getLineProps:function(){return{
display:!!this.state.message,feedback:this.state.feedback}},_getAdjustmentProps:function(){return{value:this.state.value&&!Array.isArray(this.state.value)?[this.state.value]:this.state.value,
onChange:this._onChange,inputProps:this._getInputProps(),lineProps:this._getLineProps(),onRemove:this._onRemove,onLoad:this._onLoad,width:this.props.outputWidth,height:this.props.outputHeight,
type:this.props.outputType,rotation:this.props.outputRotation,quality:this.props.outputQuality,previewWidth:this.props.previewWidth,previewHeight:this.props.previewHeight,
previewShape:this.props.previewShape,cumulativeOnChange:!0}},_getMainAttrs:function(){var e=this._getInputAttrs();return e.id=this.getId(),e},render:function(){
return r.Common.Element.create("div",this._getMainAttrs(),this.getLabel(this.getId()+"-input-hidden-input"),this.getInputWrapper(r.Common.Element.create(dt,this._getAdjustmentProps())),this.getDisabledCoverTransparent())
}}));n(27);function Ot(e){return function(e){if(Array.isArray(e))return Pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){
if(!e)return;if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Tt=r.PropTypes.shape({id:r.PropTypes.string,
name:r.PropTypes.string,value:r.PropTypes.object,uri:r.PropTypes.string,progress:r.PropTypes.number,src:r.PropTypes.string,originalValue:r.PropTypes.object,error:r.PropTypes.any
}),Rt=r.Common.VisualComponent.create({mixins:[r.Common.BaseMixin,r.Common.ElementaryMixin,r.Common.PureRenderMixin,r.Common.CallsMixin,r.Common.ColorSchemaMixin,r.Forms.InputMixin,vt],statics:{
tagName:o+"UploadInput",classNames:{main:s+"upload-input"},lsi:{requiredMessage:r.Environment.Lsi.Forms.message.requiredMessage,placeholder:{cs:"Nahrát obrázek",en:"Load image",sk:"Nahrať obrázok"},
placeholderMulti:{cs:"Nahrát obrázky",en:"Load images",sk:"Nahrať obrázky"},placeholderReadOnly:{cs:"Nelze nahrát obrázek",en:"Cannot load image",sk:"Nie je možné nahrať obrázok"},
placeholderReadOnlyMulti:{cs:"Nelze nahrát obrázky",en:"Cannot load images",sk:"Nie je možné nahrať obrázky"},uploadFailed:{cs:"Nepodařilo se nahrát obrázek {0}.",
en:"Upload of the image  {0} failed.",sk:"Nepodarilo se nahrať obrázok {0}."}},opt:{pureRender:!0},calls:{createImage:"createImage",updateImage:"updateImage",deleteImage:"deleteImage"}},propTypes:{
value:r.PropTypes.oneOfType([Tt,r.PropTypes.arrayOf(Tt)]),placeholder:r.PropTypes.oneOfType([r.PropTypes.object,r.PropTypes.string]),multiple:r.PropTypes.bool,
outputWidth:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string]),outputHeight:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string]),
outputType:r.PropTypes.oneOf(it.OUTPUT_TYPES.concat(["jpg","image/jpeg","image/png"])),outputRotation:r.PropTypes.oneOfType([r.PropTypes.oneOf(["auto"]),r.PropTypes.number]),
outputQuality:r.PropTypes.number,ignorePaste:r.PropTypes.bool,borderRadius:r.PropTypes.string,bgStyle:r.PropTypes.oneOf(["filled","outline","transparent","underline"]),
elevation:r.PropTypes.oneOf(["-1","0","1","2","3","4","5",-1,0,1,2,3,4,5]),previewWidth:r.PropTypes.number,previewHeight:r.PropTypes.number,previewShape:r.PropTypes.string},getDefaultProps:function(){
return{placeholder:void 0,multiple:!1,outputWidth:null,outputHeight:null,outputType:null,outputRotation:"auto",outputQuality:null,ignorePaste:void 0,borderRadius:null,bgStyle:null,elevation:null,
previewWidth:100,previewHeight:null,previewShape:"square"}},componentWillMount:function(){this.props.calls||this.setCalls({}),
"function"==typeof this.props.onValidate&&this._isItemsDone(this.state.value)&&this._validateOnChange({value:this.state.value,event:null,component:this})},componentWillReceiveProps:function(e){
var t=this;if(!e.multiple&&this.props.multiple){var n=!1;this.setState((function(e){var i,r=e.value;return Array.isArray(r)&&r.length>1&&(n=!0,r.slice(0,r.length-1).forEach((function(e){
e.src&&URL.revokeObjectURL(e.src),t._handleDeleteImage(e)})),i={value:r[r.length-1]}),i}),(function(){return n?t._triggerChangeEvent():null}))}e.controlled&&this.setState({value:e.value,
feedback:e.feedback,message:e.message})},onChange:function(){var e={value:this.getValue(),component:this,feedback:this.state.feedback,message:this.state.message}
;return this.isComputedDisabled()||this.isReadOnly()||("function"==typeof this.props.onChange?this.props.onChange(e):this.onChangeDefault(e)),this},onChangeDefault:function(e){
return"function"==typeof this.props.onValidate&&this._validateOnChange({value:e.value,event:e.event,component:this}),this},isValid:function(){var e=this.getFeedback(),t=this.getValue(),n=!0
;if(!this.props.required||null!=t&&0!==t.length?"error"!==e&&"loading-internal"!==e&&"loading"!==e||(n=!1):(this.setError(this.props.requiredMessage||this.getLsiValue("requiredMessage")),n=!1),
n&&this.props.onValidate){var i=this.props.onValidate({value:t,component:this});i&&"object"===kt(i)&&"error"===i.feedback&&(n=!1)}return n},setValue_:function(e,t){return this._checkRequired({value:e
})&&("function"==typeof this.props.onValidate?this._validateOnChange({value:e,event:null,component:this}):this.setInitial(null,e,t)),this},getValue_:function(){var e=this.state.value
;return this.props.multiple&&e&&!Array.isArray(e)?e=[e]:!this.props.multiple&&Array.isArray(e)&&(e=e[0]),e},pasteImages_:function(e){var t=this,n=this.props.multiple?e:e.slice(-1)
;n.length>0&&this.setState((function(e){var i=e.value;return i=(i=t.props.multiple?i&&!Array.isArray(i)?[i]:i||[]:[]).concat(n.map((function(e){return{id:r.Common.Tools.generateUUID(),originalValue:e,
name:e.name}}))),t.props.multiple||(i=i[i.length-1]),{value:i}}))},_triggerChangeEvent:function(){var e=this;this._updateFeedbackFromValue((function(){e._isItemsDone(e.state.value)&&e.onChange()}))},
_validateOnChange:function(e){var t="function"==typeof this.props.onValidate?this.props.onValidate(e):null
;return t&&("object"===kt(t)?t.feedback?this._setFeedback(t.feedback,t.message,t.value):this.setState({value:e.value}):this.showError("validateError",null,{context:{func:this.props.onValidate,result:t
}})),this},_checkRequired:function(e){var t=!0;return!this.props.required||e.value&&0!==e.value.length||!this.shouldValidateRequired()||(t=!1,
this.setError(this.props.requiredMessage||this.getLsiComponent("requiredMessage"),e.value)),t},_isItemsDone:function(e){var t=e&&!Array.isArray(e)?[e]:e
;return!t||!this.getCall("createImage")||t.every((function(e){return e.uri||e.error}))},_onChange:function(e){var t=this,n=e.data;n&&this.setState((function(e){var i=e.value,r=function(e){var r=n[e]
;i=t._replaceStateItem(i,e,(function(e){var n=e;return e?r?(n=r,e.value!==r.value&&(r.value&&e.uri?(n=Object.assign({},r,{uri:e.uri,progress:0}),
t._handleUpdateImage(n)):r.value?(n=Object.assign({},r,r.uri?null:{progress:0})).uri||t._handleCreateImage(n):t._handleDeleteImage(e))):(t._handleDeleteImage(e),
n=null):(n=Object.assign({},r,r.uri?null:{progress:0})).uri||t._handleCreateImage(n),n}))};for(var a in n)r(a);return{value:i}}),(function(){t._updateFeedbackFromValue()}))},
_handleCreateImage:function(e){var t=this,n=e.value,i=e.id;return new Promise((function(e,r){var a=t.getCall("createImage");a?a({data:{value:n},progress:function(e){
return t._handleCreateImageProgress({id:i,data:e})},done:function(t){return e({id:i,data:t})},fail:r}):e({id:i,data:null})})).then(this._handleCreateImageDone,(function(e){
return t._handleCreateImageFail({id:i,data:e})}))},_handleCreateImageDone:function(e){var t=this,n=e.id,i=e.data;this.setState((function(e){
var r=e.value,a=i?i.uri:null,o=t._replaceStateItem(r,n,(function(e){var i=e;return e?i=Object.assign({},e,{uri:a,error:!1,progress:100}):t._handleDeleteImage({id:n,uri:a}),i}));return o===r?void 0:{
value:o}}),this._triggerChangeEvent)},_handleCreateImageFail:function(e){var t=this,n=e.id,i=e.data;r.Common.Tools.error(i),this.setState((function(e){
var i=e.value,r=t._replaceStateItem(i,n,(function(e){return e?Object.assign({},e,{uri:null,error:t.getLsi("uploadFailed"),progress:100}):e}));return r===i?void 0:{value:r}}),this._triggerChangeEvent)
},_handleCreateImageProgress:function(e){var t=this,n=e.id,i=e.data.progress;this.setState((function(e){var r=e.value,a=t._replaceStateItem(r,n,(function(e){return e?Object.assign({},e,{progress:i}):e
}));return a===r?void 0:{value:a}}))},_handleDeleteImage:function(e){var t=this,n=e.uri,i=e.value,r=e.originalValue,a=e.id;return new Promise((function(e,o){
if(n&&(i instanceof Blob||r instanceof Blob)){var s=t.getCall("deleteImage");if(s)s({data:{uri:n},done:function(t){return e({id:a,data:t})},fail:o});else e({id:a,data:null})}else e({id:a,data:null})
})).then(this._handleDeleteImageDone,(function(e){return t._handleDeleteImageFail({id:a,data:e})}))},_handleDeleteImageDone:function(e){e.id,e.data},_handleDeleteImageFail:function(e){e.id
;var t=e.data;r.Common.Tools.error(t)},_handleUpdateImage:function(e){var t,n=this,i=this.getCall("updateImage");if(i){var r=e.uri,a=e.value,o=e.id;t=new Promise((function(e,t){i({data:{uri:r,value:a
},progress:function(e){return n._handleUpdateImageProgress({id:o,data:e})},done:function(t){return e({id:o,data:t})},fail:t})})).then(this._handleUpdateImageDone,(function(e){
return n._handleUpdateImageFail({id:o,data:e})}))}else this._handleDeleteImage(e).catch((function(){return null})),t=this._handleCreateImage(e);return t},_handleUpdateImageDone:function(e){
var t=e.id,n=e.data;return this._handleCreateImageDone({id:t,data:n})},_handleUpdateImageFail:function(e){var t=e.id,n=e.data;return this._handleCreateImageFail({id:t,data:n})},
_handleUpdateImageProgress:function(e){var t=e.id,n=e.data;return this._handleCreateImageProgress({id:t,data:n})},_replaceStateItem:function(e,t,n){
var i,r=e&&!Array.isArray(e)?[e]:e,a=r?r.findIndex((function(e){return e.id===t})):-1;if(-1===a){var o=n(null);i=o?(r||[]).concat([o]):e}else{var s=r?r[a]:void 0,u=n(s);u===s?i=e:(i=r?Ot(r):[],
u?i.splice(a,1,u):i.splice(a,1),0!==i.length||e||(i=e));var l=(s||{}).src;!l||u&&l===u.src||setTimeout((function(){return URL.revokeObjectURL(l)}))}
return!this.props.multiple&&Array.isArray(i)&&(i=i[i.length-1]),i},_updateFeedbackFromValue:function(e){var t,n,i=this,a=[],o=[]
;((this.state.value&&!Array.isArray(this.state.value)?[this.state.value]:this.state.value)||[]).forEach((function(e){e.error?a.push(e):!e.uri&&i.getCall("createImage")&&o.push(e)})),
a.length>0?(t="error",n=r.Common.Element.create("div",null,a.map((function(e){return r.Common.Element.create("div",{key:e.id},r.Common.Element.create(r.Bricks.Lsi,{lsi:e.error,
params:[(e.value||e.originalValue||{}).name||""]}))})))):o.length>0&&(t="loading-internal"),this._setFeedback(t,n,this.state.value,e)},_onRemove:function(e){var t=this;this.setState((function(n){
var i=n.value,r=t._replaceStateItem(i,e,(function(e){return e&&t._handleDeleteImage(e),null}));return r===i?void 0:{value:r}}),this._triggerChangeEvent)},_getInputProps:function(){
return Object.assign({display:!this.state.value||0===this.state.value.length||this.props.multiple,id:this.getId()+"-input",multiple:this.props.multiple,readOnly:this.isReadOnly(),
disabled:this.isComputedDisabled(),loading:this.isLoading(),
placeholder:void 0!==this.props.placeholder?this.props.placeholder:this.getLsiComponent("placeholder"+(this.isReadOnly()&&!this.isDisabled()?"ReadOnly":"")+(this.props.multiple?"Multi":"")),
borderRadius:this.props.borderRadius,bgStyle:this.props.bgStyle,elevation:this.props.elevation,inputWidth:this.props.inputWidth},this.props.inputAttrs)},_getLineProps:function(){return{
display:!!this.state.message,feedback:this.state.feedback}},_getAdjustmentProps:function(){return{value:this.state.value&&!Array.isArray(this.state.value)?[this.state.value]:this.state.value,
onChange:this._onChange,inputProps:this._getInputProps(),lineProps:this._getLineProps(),onRemove:this._onRemove,onLoad:this._onLoad,width:this.props.outputWidth,height:this.props.outputHeight,
type:this.props.outputType,rotation:this.props.outputRotation,quality:this.props.outputQuality,previewWidth:this.props.previewWidth,previewHeight:this.props.previewHeight,
previewShape:this.props.previewShape}},_getMainAttrs:function(){var e=this._getInputAttrs();return e.id=this.getId(),e},render:function(){
return r.Common.Element.create("div",this._getMainAttrs(),this.getLabel(this.getId()+"-input-hidden-input"),this.getInputWrapper(r.Common.Element.create(dt,this._getAdjustmentProps())),this.getDisabledCoverTransparent())
}}),At=n(6),St=n.n(At);n(31),n(33);function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?Et(Object(n),!0).forEach((function(t){Lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{
for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Mt=["1:1","avatar","2:3","3:2","3:4","4:3"],Bt=a.a.Common.VisualComponent.create({
mixins:[a.a.Common.BaseMixin,a.a.Common.ElementaryMixin,a.a.Common.NestingLevelMixin],statics:{tagName:o+"ThumbnailGenerator",classNames:{main:s+"thumbnail-generator",
aside:s+"thumbnail-generator-aside",imageArea:s+"thumbnail-generator-image-area",imageAreaSet:s+"thumbnail-generator-image-area set",maskItems:s+"thumbnail-generator-mask-items",
maskItem:s+"thumbnail-generator-mask-item",uploadText:s+"thumbnail-generator-upload-text",areaItem:s+"thumbnail-generator-area-item",controlButtons:s+"thumbnail-generator-button-control",
imgAlign:s+"thumbnail-generator-img-align"},nestingLevelList:a.a.Environment.getNestingLevelList("bigBoxCollection","box"),lsi:{clearSource:{en:"Clear source",cs:"Odstranit zdroj"},clearSelected:{
en:"Clear selected",cs:"Vymazat vybrané"},uploadPlaceholder:{en:'<uu5string/><UU5.Bricks.Header level="4">Drag image here</UU5.Bricks.Header><UU5.Bricks.P>or click to upload</UU5.Bricks.P>',
cs:'<uu5string/><UU5.Bricks.Header level="4">Přetáhněte obrázek sem</UU5.Bricks.Header><UU5.Bricks.P>nebo klikněte pro vložení</UU5.Bricks.P>'}},opt:{nestingLevelWrapper:!0}},propTypes:{
onChange:a.a.PropTypes.func,thumbnailTypes:a.a.PropTypes.arrayOf(a.a.PropTypes.oneOf(Mt)),outputType:a.a.PropTypes.oneOf(["png","jpeg"])},getDefaultProps:function(){return{thumbnailTypes:Mt,
outputType:"jpeg"}},getInitialState:function(){return{src:null,crops:{},selectedType:null,resultList:this.props.thumbnailTypes.map((function(e){return{type:e,uri:null}}))}},
componentWillUnmount:function(){this._unmounted=!0,a.a.Environment.EventListener.removeWindowEvent("keyup",this.getId())},_evalExpression:function(e){if("avatar"===e)return 1
;var t=Dt(e.split(":"),2),n=t[0],i=t[1];return parseInt(n)/parseInt(i)},_calcHeight:function(e,t){return e/this._evalExpression(t)},_calcWidth:function(e,t){return e*this._evalExpression(t)},
_makeAspectCrop:function(e,t){var n=e;return e.width&&(n.height=e.width/e.aspect*t),e.height&&(n.width=(n.height||e.height)*e.aspect/t),e.y+(n.height||e.height)>100&&(n.height=100-e.y,
n.width=n.height*e.aspect/t),e.x+(n.width||e.width)>100&&(n.width=100-e.x,n.height=n.width/e.aspect*t),n},_handleOnFileChange:function(e){var t=this,n=e.value,i=new FileReader;i.onload=function(e){
var n=e.target.result;t._fileComp=null,t.setState({src:n})},i.readAsDataURL(n)},_onFocus:function(){var e=this;a.a.Environment.EventListener.addWindowEvent("keyup",this.getId(),(function(t){
var n=13===t.which&&!e.isDisabled()&&e._fileComp&&e._fileComp.findDOMNode();if(n){var i=n.querySelector("input");i&&i.click()}}))},_onBlur:function(){
a.a.Environment.EventListener.removeWindowEvent("keyup",this.getId())},_onImageLoaded:function(e,t){this._imageRef=e},_onCropComplete:function(e,t){this.state.selectedType&&this._makeClientCrop(e,t)},
_onCropChange:function(e){this.setState((function(t){return t.selectedType?{crops:jt(jt({},t.crops),{},Lt({},t.selectedType,e))}:void 0}))},_cropResolver:function(e){var t=this;if(!this._unmounted){
var n=this.props.onChange;this.setState((function(t){var n=t.selectedType;return{resultList:t.resultList.map((function(t){return t.type===n?jt(jt({},t),{},{uri:e}):t}))}}),(function(){
"function"==typeof n&&n(t.state.resultList.filter((function(e){return!!e.uri})))}))}},_makeClientCrop:function(e,t){if(this._imageRef&&e.width&&e.height){var n=this.props.outputType
;this._getCroppedImg(this._imageRef,t,"newFile.".concat(n)).then(this._cropResolver,null)}},_getCroppedImg:function(e,t,n){var i=this,r=document.createElement("canvas");return r.width=t.width,
r.height=t.height,r.getContext("2d").drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise((function(e,t){r.toBlob((function(t){var i;t?(t.name=n,window.URL.revokeObjectURL(i),
i=window.URL.createObjectURL(t),e(i)):console.error("Canvas is empty")}),"image/"+i.props.outputType)}))},_getPixelCrop:function(e,t){if(!e||!t)return null
;var n=e.naturalWidth,i=e.naturalHeight,r=Math.round(n*(t.x/100)),a=Math.round(i*(t.y/100)),o=Math.round(n*(t.width/100)),s=Math.round(i*(t.height/100));return{x:r,y:a,
width:Math.min(Math.max(o,0),n-r),height:Math.min(Math.max(s,0),i-a)}},_addOrSelectArea:function(e){var t=this;this.setState((function(n){var i,r=n.crops[e]
;r&&r.width||(i=t._makeAspectCrop(jt(jt({},n.crops[n.selectedType]),{},{aspect:t._evalExpression(e)}),t._imageRef.naturalWidth/t._imageRef.naturalHeight));var a={selectedType:e}
;return i&&(a.crops=jt(jt({},n.crops),{},Lt({},e,i)),i.width&&t._getCroppedImg(t._imageRef,t._getPixelCrop(t._imageRef,i),"tmpFile.jpeg").then(t._cropResolver,null)),a}))},_getImageArea:function(){
var e=this,t=this.state,n=t.crops,i=t.src,r=t.selectedType,o=n[r]||{},s=!!i,u=s?a.a.Common.Element.create(a.a.Bricks.Div,{key:"is",className:this.getClassName("imgAlign")
},a.a.Common.Element.create(St.a,{src:i,crop:o,disabled:null===r,className:r,keepSelection:!0,onImageLoaded:this._onImageLoaded,onComplete:this._onCropComplete,onChange:this._onCropChange
})):a.a.Common.Element.create(a.a.Common.Fragment,{key:"up"},a.a.Common.Element.create(a.a.Bricks.Div,{className:this.getClassName("uploadText"),content:this.getLsiComponent("uploadPlaceholder")
}),a.a.Common.Element.create(a.a.Forms.File,{onChange:this._handleOnFileChange,ref_:function(t){return e._fileComp=t}}));return a.a.Common.Element.create(a.a.Bricks.Div,{key:"ia",
className:s?this.getClassName("imageAreaSet"):this.getClassName("imageArea"),mainAttrs:{tabIndex:null===this.state.src?"0":"-1",onFocus:this._onFocus,onBlur:this._onBlur}},u)},
_handleOnClick:function(e){this._imageRef&&this.state.src&&this._addOrSelectArea(e)},_clearSelected:function(e){var t=this,n=this.props.onChange;!0===e&&(this._fileComp=null),
this.setState((function(t){return{resultList:t.resultList.map((function(e){return jt(jt({},e),{},{uri:null})})),selectedType:null,src:!0===e?null:t.src,crops:{}}}),(function(){
"function"==typeof n&&n(t.state.resultList.filter((function(e){return!!e.uri})))}))},_cleanSource:function(){this._clearSelected(!0)},_getMasks:function(){var e=this
;return a.a.Common.Element.create(a.a.Bricks.Div,{key:"masks",className:this.getClassName("maskItems")},this.state.resultList.map((function(t,n){var i=t.type,r=45,o=45,s=0;if("avatar"===i)s=100;else{
var u=Dt(i.split(":").map((function(e){return parseInt(e)})),2);u[0]>u[1]?o=e._calcHeight(r,i):r=e._calcWidth(o,i)}
var l="thumbnail-generator-area-item-"+n,c=e.state.selectedType===i&&e.state.src,p=e.getClassName("maskItem");c&&(p+=" selected");var h=t.uri?t.uri:"";return a.a.Common.Element.create(a.a.Bricks.Div,{
key:l,className:p},a.a.Common.Element.create("div",{onClick:function(){return e._handleOnClick(i)},className:e.getClassName("areaItem"),style:{width:r,height:o,borderRadius:s,
backgroundImage:"url("+h+")"}}),a.a.Common.Element.create("p",null,i))})),a.a.Common.Element.create(a.a.Bricks.Div,{className:this.getClassName("controlButtons")
},this._getCleanButton(),this._getReloadButton()))},_getReloadButton:function(){return this.state.src&&a.a.Common.Element.create(a.a.Bricks.Link,{onClick:this._cleanSource
},this.getLsiComponent("clearSource"))},_getCleanButton:function(){return this.state.selectedType&&null!==this.state.src&&a.a.Common.Element.create(a.a.Bricks.Link,{onClick:this._clearSelected
},this.getLsiComponent("clearSelected"))},_getChild:function(){var e=this;return a.a.Common.Element.create(a.a.Bricks.Resize,null,(function(t){var n=t.width,i=(t.height,e.getMainPropsToPass())
;return n>768&&(i.className+=" "+e.getClassName("aside")),a.a.Common.Element.create(a.a.Bricks.Div,i,e._getImageArea(n),e._getMasks(n))}))},render:function(){
return this.getNestingLevel()?this._getChild():null}});console.log("uu5Imagingg01-".concat("1.9.4"," © Unicorn\nTerms of Use: http://unicorn.com/tou/uu5imagingg01")),
a.a.Environment.addRuntimeLibrary({name:"uu5imagingg01",version:"1.9.4"});t.default=i;for(var Ut in a.a.Imaging||(a.a.Imaging={}),i)a.a.Imaging[Ut]=i[Ut]}])}));