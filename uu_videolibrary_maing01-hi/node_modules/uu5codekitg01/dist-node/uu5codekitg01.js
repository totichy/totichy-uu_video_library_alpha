/*!
 * UAF Licence for the uu5CodeKit software.
 * 
 * Copyright (c) 2016-present, Unicorn a.s.
 * All rights reserved.
 * 
 * Definitions
 * -----------
 * This licence agreement is based on the original "BSD Licence" published by
 * the Regents of the University of California in 1990.
 * 
 * The term "Software" means the uu5 package, its modules, components,
 * all program files, source code, examples, media, and documentation which are part
 * of the Software package, as well as any portion of them. The term "Author" means
 * Unicorn a.s. and all its subsidiaries and/or affiliates.
 * 
 * Licence Agreement
 * -----------------
 * 
 * Redistribution and use of this Software in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 
 * 3. All derivative products containing user interface must display the following
 *    acknowledgement in the appropriate "About window" or website section accessible
 *    by all users of the product:
 * 
 *      This product includes following software developed by
 *      <a href="https://unicorn.com">Unicorn a.s.</a>:
 *      <a href="https://uuos9.plus4u.net/uu-bookkitg01-main/78462435-86b4d5a4a030400784764ebdb972bbda/book">UAF</a>,
 *      <a href="https://uuos9.plus4u.net/uu-bookkitg01-main/78462435-ed11ec379073476db0aa295ad6c00178/book">uu5</a>.
 * 
 * 4. All derivative products must not block the default uu5 browser console message containing
 *    Software version information and copyright notice of the Author.
 * 
 * 5. The use of any portion of this Software is not allowed in the products
 *    that fully or partially resemble the functionality of the Software
 *    or otherwise compete with the Software unless they are licenced under the same licence
 *    conditions and provided free of charge. Specific prior written permission is required otherwise.
 * 
 * 6. Neither the name of the Author nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 * 
 * Disclaimer
 * ----------
 * THIS SOFTWARE IS PROVIDED BY AUTHOR "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AUTHOR BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(1);


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(2);

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _codekit_codekit_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "CodeKit", function() { return _codekit_codekit_js__WEBPACK_IMPORTED_MODULE_1__; });



if (process.env.NODE_ENV !== "test") {
  console.log("".concat("uu5codekitg01", "-").concat("1.8.3", " \xA9 Unicorn\nTerms of Use: https://unicorn.com/tou/").concat("uu5codekitg01"));
}

uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Environment.addRuntimeLibrary({
  name: "uu5codekitg01",
  version: "1.8.3"
});

/* harmony default export */ __webpack_exports__["default"] = (_codekit_codekit_js__WEBPACK_IMPORTED_MODULE_1__); // merge into UU5
// NOTE "uu5g04" must ensure that the key already exists there, otherwise following usage wouldn't work:
//   import * as UU5 from "uu5g04";
//   import "uu5g04-forms";
//   console.log(UU5.Forms.TextArea);

for (var k in _codekit_codekit_js__WEBPACK_IMPORTED_MODULE_1__) {
  uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.CodeKit[k] = _codekit_codekit_js__WEBPACK_IMPORTED_MODULE_1__[k];
}

/***/ }),
/* 3 */
/***/ (function(module, exports) {

module.exports = require("uu5g04");

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _json_editor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JsonEditor", function() { return _json_editor_js__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _uu5_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(31);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Uu5String", function() { return _uu5_string_js__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _uu5_string_editor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Uu5StringEditor", function() { return _uu5_string_editor_js__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _markdown_editor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(46);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MarkdownEditor", function() { return _markdown_editor_js__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _markdown_viewer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(49);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MarkdownViewer", function() { return _markdown_viewer_js__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _code_editor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CodeEditor", function() { return _code_editor_js__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _code_viewer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(53);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CodeViewer", function() { return _code_viewer_js__WEBPACK_IMPORTED_MODULE_6__["default"]; });










/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);
/* harmony import */ var _code_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _json_editor_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(29);
/* harmony import */ var _json_editor_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_json_editor_less__WEBPACK_IMPORTED_MODULE_3__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





var JsonEditor = uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.Common.VisualComponent.create({
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.Common.BaseMixin],
  //@@viewOn:statics
  statics: {
    tagName: _lib_js__WEBPACK_IMPORTED_MODULE_0__["default"].app + ".JsonEditor",
    classNames: {
      main: _lib_js__WEBPACK_IMPORTED_MODULE_0__["default"].css + "-json-editor"
    },
    lsi: {
      invalidJson: {
        cs: "Zadaný JSON není validní.",
        en: "Invalid JSON.",
        sk: "Zadaný JSON nie je validný."
      }
    },
    opt: {
      hoc: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    format: uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.PropTypes.oneOf(["pretty", "minified", "default"]),
    valueFormat: uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.PropTypes.oneOf(["pretty", "minified", "object", "default"])
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      format: "default",
      valueFormat: "default"
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    var onFormat = this._getFormat(this.props);

    var valueFormat = this._getValueFormat(this.props);

    var value = typeof onFormat === "function" ? onFormat({
      value: this._prepareData(this.props.value),
      indent: this.props.indent
    }) : this._prepareData(this.props.value);
    return {
      value: value,
      onFormat: onFormat,
      getValueFormat: valueFormat
    };
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    var newState = {};
    var updated = false;

    if (this.props.format !== nextProps.format) {
      updated = true;
      newState.onFormat = this._getFormat(nextProps);
    }

    if (this.props.valueFormat !== nextProps.valueFormat) {
      updated = true;
      newState.getValueFormat = this._getValueFormat(nextProps);
    }

    var onFormat = newState.onFormat || this.state.onFormat;

    if (this.props.value !== nextProps.value) {
      updated = true;
      newState.value = typeof onFormat === "function" ? onFormat({
        value: this._prepareData(nextProps.value),
        indent: nextProps.indent || this.props.indent
      }) : this._prepareData(nextProps.value);
    }

    if (updated) {
      this.setState(newState);
    }

    return this;
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _getFormat: function _getFormat() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    var onFormat;

    switch (props.format) {
      case "pretty":
        onFormat = this._beautify;
        break;

      case "minified":
        onFormat = this._minify;
        break;

      default:
        onFormat = null;
    }

    return onFormat;
  },
  _prepareData: function _prepareData(value) {
    return value instanceof Object ? JSON.stringify(value) : value;
  },
  _getValueFormat: function _getValueFormat() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    var onValueFormat;

    switch (props.valueFormat) {
      case "pretty":
        onValueFormat = this._beautify;
        break;

      case "minified":
        onValueFormat = this._minify;
        break;

      case "object":
        onValueFormat = this._object;
        break;

      default:
        onValueFormat = null;
    }

    return onValueFormat;
  },
  _object: function _object(input) {
    var value;

    try {
      value = JSON.parse(input.value);
    } catch (e) {//return string value
    }

    return value;
  },
  _beautify: function _beautify(input) {
    if (!input.value) return input.value;
    var indent = input.indent || 2;
    var r;

    try {
      r = input.value instanceof Object ? JSON.stringify(input.value, null, indent) : JSON.stringify(JSON.parse(input.value), null, indent);
    } catch (error) {
      r = input.value;
    }

    return r;
  },
  _minify: function _minify(input) {
    if (!input.value) return input.value;
    return input.value instanceof Object ? JSON.stringify(input.value) : JSON.stringify(JSON.parse(input.value));
  },
  _validateJson: function _validateJson(data) {
    var result;

    try {
      // if valueFormat is object it's already parse
      if (data.value && typeof data.value === "string") JSON.parse(data.value);
      result = {
        feedback: "success",
        message: null,
        value: data.value
      };
    } catch (e) {
      result = {
        feedback: "error",
        message: this.getLsiComponent("invalidJson"),
        value: data.value
      };
    }

    return result;
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.Common.Element.create(_code_editor_js__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({}, this.props, {
      value: this.state.value,
      codeStyle: "json",
      onFormat: this.state.onFormat,
      getValueFormat: this.state.getValueFormat,
      onValidate: this.props.onValidate || this._validateJson
    }));
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (JsonEditor);

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
  app: "UU5.CodeKit",
  css: "uu5-codekit"
});

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var uu5g04_forms__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04_forms__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);
/* harmony import */ var _ace_ace_editor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var _code_editor_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(27);
/* harmony import */ var _code_editor_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_code_editor_less__WEBPACK_IMPORTED_MODULE_4__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }






var CodeEditor = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].ElementaryMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].TextInputMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _lib_js__WEBPACK_IMPORTED_MODULE_2__["default"].app + ".CodeEditor",
    classNames: {
      main: _lib_js__WEBPACK_IMPORTED_MODULE_2__["default"].css + "-code-editor"
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    onFormat: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  componentWillMount: function componentWillMount() {
    if (this.props.onValidate && typeof this.props.onValidate === "function") {
      this._validateOnChange({
        value: this.state.value,
        component: this
      });
    } else {
      this.setFeedback(this.props.feedback || "initial", this.props.message, this.state.value);
    }

    return this;
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    if (this.props.controlled) {
      var value = nextProps.value === this.props.value ? this.state.value : nextProps.value;

      if (typeof nextProps.onFormat === "function") {
        value = nextProps.onFormat({
          value: value,
          indent: nextProps.indent
        });
      }

      if (nextProps.required && !value) {
        this.setError(nextProps.requiredMessage);
      } else {
        this.setFeedback(nextProps.feedback, nextProps.message, value);
      }
    }

    return this;
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  insert: function insert(text) {
    this.getInput().insert(text);
  },
  reformat: function reformat(indent) {
    if (indent !== undefined) {
      // store set indent for one use. It will be deleted inside of setValue method
      this._indent = indent;
    }

    this.setValue(this.getInput().getValue());
    return this;
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  // TODO: tohle je ještě otázka - je potřeba nastavit hodnotu z jiné komponenty (musí být validace) a z onChange (neměla by být validace)
  setValue_: function setValue_(value, setStateCallback) {
    // format set value
    if (typeof this.props.onFormat === "function") {
      value = this.props.onFormat({
        value: value,
        indent: this._indent === undefined ? this.props.indent : this._indent
      });
    } // remove indent set from reformat function


    delete this._indent; // validate value

    if (this._checkRequired({
      value: value
    })) {
      if (typeof this.props.onValidate === "function") {
        this._validateOnChange({
          value: value,
          component: this
        });
      } else {
        this.props.required ? this.setSuccess(null, value, setStateCallback) : this.setInitial(null, value, setStateCallback);
      }
    }

    return this;
  },
  getValue_: function getValue_() {
    var value = this.getInput().getValue();

    if (typeof this.props.getValueFormat === "function") {
      value = this.props.getValueFormat({
        value: value,
        indent: this.props.indent
      });
    }

    return value;
  },
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _validateOnChange: function _validateOnChange(opt) {
    var result = typeof this.props.onValidate === "function" ? this.props.onValidate(opt) : null;

    if (result) {
      if (_typeof(result) === "object") {
        if (result.feedback) {
          this.setFeedback(result.feedback, result.message, result.value);
        } else {
          this.setState({
            value: opt.value
          });
        }
      } else {
        this.showError("validateError", null, {
          context: _objectSpread({}, opt.e && {
            event: opt.e
          }, {
            func: this.props.onValidate,
            result: result
          })
        });
      }
    }

    return this;
  },
  _onChange: function _onChange(e) {
    var opt = {
      value: this.getInput().getValue(),
      event: e,
      component: this
    };

    if (!this.isComputedDisabled() && !this.isReadOnly()) {
      if (typeof this.props.onChange === "function") {
        this.props.onChange(opt);
      } else if (this.props.validateOnChange) {
        this._validateOnChange(opt);
      } else {
        var result = this.getChangeFeedback(opt);
        this.setState({
          feedback: result.feedback,
          message: result.message,
          value: result.value
        });
      }
    }

    return this;
  },
  _onBlur: function _onBlur(e) {
    var opt = {
      value: this.getInput().getValue(),
      event: e,
      component: this
    };

    if (typeof this.props.onBlur === "function") {
      this.props.onBlur(opt);
    } else {
      if (this._checkRequired({
        value: opt.value
      }) && !this.props.validateOnChange) {
        opt.required = this.props.required;
        var blurResult = this.getBlurFeedback(opt);

        this._setFeedback(blurResult.feedback, blurResult.message, blurResult.value);
      }
    }

    return this;
  },
  _onFocus: function _onFocus(e) {
    var opt = {
      value: this.getInput().getValue(),
      event: e,
      component: this
    };

    if (typeof this.props.onFocus === "function") {
      this.props.onFocus(opt);
    } else {
      var result = this.getFocusFeedback(opt);
      result && this._setFeedback(result.feedback, result.message, result.value);
    }

    return this;
  },
  _getAceMainAttrs: function _getAceMainAttrs() {
    var attrs = _objectSpread({}, this.props.inputAttrs);

    var className = attrs.className;
    if (className == null) className = "";

    switch (!this.isComputedDisabled() && !this.isReadOnly() && this.getFeedback()) {
      case "success":
        className += " color-schema-" + uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].getColorSchema("success");
        break;

      case "warning":
        className += " color-schema-" + uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].getColorSchema("warning");
        break;

      case "error":
        className += " color-schema-" + uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].getColorSchema("danger");
        break;
    }

    if (className) attrs.className = className;
    return attrs;
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    var _this = this;

    var inputId = this.getId() + "-code-editor";
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create("div", this._getInputAttrs(), this.getLabel(inputId), this.getInputWrapper([uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_ace_ace_editor_js__WEBPACK_IMPORTED_MODULE_3__["default"], _extends({}, this.getMainPropsToPass(), this.props, {
      hidden: this.isHidden(),
      key: "aceEditor",
      id: inputId,
      ref_: function ref_(ace) {
        return _this._textInput = ace;
      },
      value: this.state.value,
      mainAttrs: this._getAceMainAttrs(),
      onChange: this._onChange,
      onBlur: this._onBlur,
      onFocus: this._onFocus,
      readOnly: this.isReadOnly() || this.isComputedDisabled(),
      disabled: this.isComputedDisabled(),
      controlled: true
    }))]));
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (CodeEditor);

/***/ }),
/* 8 */
/***/ (function(module, exports) {

module.exports = require("uu5g04-forms");

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "propTypes", function() { return propTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultProps", function() { return defaultProps; });
/* harmony import */ var lodash_isequal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var lodash_isequal__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_isequal__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _inject_ace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(13);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uu5g04_bricks__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6);
/* harmony import */ var _mode_uu5_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(14);
/* harmony import */ var _ace_editor_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(25);
/* harmony import */ var _ace_editor_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_ace_editor_less__WEBPACK_IMPORTED_MODULE_6__);
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

//@@viewOn:revision
// coded: Martin Mach, 22.09.2020
// reviewed: Filip Janovský, 29.09.2020
//@@viewOff:revision







var propTypes = {
  ace: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].object,
  codeStyle: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string,
  focus: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
  theme: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string,
  className: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string,
  height: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string, uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number]),
  width: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string, uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number]),
  fontSize: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number, uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string]),
  showGutter: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
  showBorder: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
  padding: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number,
  onChange: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].func,
  onCopy: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].func,
  onPaste: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].func,
  onFocus: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].func,
  onBlur: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].func,
  onScroll: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].func,
  value: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string,
  defaultValue: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string,
  onLoad: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].func,
  onBeforeLoad: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].func,
  minRows: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number,
  maxRows: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number,
  rows: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number,
  readOnly: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
  highlightActiveLine: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
  highlightAttrsSyntax: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
  // whether to highlight uu5string tags nested in other uu5strings
  indent: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number,
  showPrintMargin: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
  cursorStart: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number,
  editorProps: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].object,
  annotations: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].array,
  markers: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number, // single row marker
  uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number, uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string])), // multiple row / row & column marker, optionally ended with colorSchema
  uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].shape({
    startRow: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number.isRequired,
    startColumn: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number,
    endRow: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number,
    endColumn: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number,
    colorSchema: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string
  })])),
  keyboardHandler: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string,
  wrapEnabled: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
  enableBasicAutocompletion: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool, uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].array]),
  enableLiveAutocompletion: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool, uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].array]),
  commands: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].array,
  style: uu5g04__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].object
};
var defaultProps = {
  focus: false,
  codeStyle: "text",
  theme: "chrome",
  height: "",
  width: "auto",
  value: "",
  fontSize: 13,
  showGutter: true,
  showBorder: true,
  padding: 7,
  onChange: null,
  onPaste: null,
  onLoad: null,
  onScroll: null,
  minRows: null,
  maxRows: null,
  rows: 20,
  readOnly: false,
  highlightActiveLine: false,
  showPrintMargin: false,
  indent: 2,
  cursorStart: 1,
  editorProps: {
    $blockScrolling: true,
    autoScrollEditorIntoView: true
  },
  wrapEnabled: false,
  enableBasicAutocompletion: false,
  enableLiveAutocompletion: false,
  markers: []
};
var AceEditor = uu5g04__WEBPACK_IMPORTED_MODULE_2__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_2__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_2__["Common"].ElementaryMixin, uu5g04__WEBPACK_IMPORTED_MODULE_2__["Common"].PureRenderMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _lib_js__WEBPACK_IMPORTED_MODULE_4__["default"].app + ".AceEditor",
    classNames: {
      main: _lib_js__WEBPACK_IMPORTED_MODULE_4__["default"].css + "-ace-editor",
      viewer: _lib_js__WEBPACK_IMPORTED_MODULE_4__["default"].css + "-ace-editor-viewer",
      marker: _lib_js__WEBPACK_IMPORTED_MODULE_4__["default"].css + "-ace-editor-marker",
      markerDefault: _lib_js__WEBPACK_IMPORTED_MODULE_4__["default"].css + "-ace-editor-marker-default",
      highlightAttrsSyntax: _lib_js__WEBPACK_IMPORTED_MODULE_4__["default"].css + "-ace-editor-highlight-attrs-syntax"
    },
    editorOptions: ["readOnly", "highlightActiveLine", "enableBasicAutocompletion", "enableLiveAutocompletion", "enableSnippets"]
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: propTypes,
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return defaultProps;
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    return {
      loaded: false
    };
  },
  componentDidMount: function componentDidMount() {
    var _this = this;

    var _this$props = this.props,
        ace = _this$props.ace,
        className = _this$props.className,
        onBeforeLoad = _this$props.onBeforeLoad,
        codeStyle = _this$props.codeStyle,
        focus = _this$props.focus,
        theme = _this$props.theme,
        fontSize = _this$props.fontSize,
        cursorStart = _this$props.cursorStart,
        showGutter = _this$props.showGutter,
        wrapEnabled = _this$props.wrapEnabled,
        showPrintMargin = _this$props.showPrintMargin,
        keyboardHandler = _this$props.keyboardHandler,
        onLoad = _this$props.onLoad,
        commands = _this$props.commands,
        annotations = _this$props.annotations,
        markers = _this$props.markers;
    var editorOptions = this.constructor.editorOptions;
    var ed = this.editor = ace.edit(this._editor);
    var session = this.editor.getSession();
    if (onBeforeLoad) onBeforeLoad(ace);
    var editorProps = Object.keys(this.props.editorProps);

    for (var i = 0; i < editorProps.length; i++) {
      ed[editorProps[i]] = this.props.editorProps[editorProps[i]];
    }

    var val = this.props.value || this.props.defaultValue || "";

    var usedMode = this._modeAlias(codeStyle);

    var modeOptions = {
      path: "ace/mode/" + usedMode
    };

    if (usedMode === "uu5") {
      Object(_mode_uu5_js__WEBPACK_IMPORTED_MODULE_5__["default"])(ace);
      modeOptions.editor = ed;
      modeOptions.highlightAttrsSyntax = this.props.highlightAttrsSyntax;
      modeOptions.useCompleters = this.props.enableBasicAutocompletion;
    }

    ed.setTheme("ace/theme/".concat(theme));
    ed.setFontSize(fontSize);

    if (val && typeof val === "string") {
      ed.setValue(val, cursorStart);
    }

    ed.renderer.setShowGutter(showGutter);
    ed.setShowPrintMargin(showPrintMargin);
    ed.renderer.setScrollMargin(this.props.padding, this.props.padding);
    ed.renderer.setPadding(this.props.padding);
    if (this.props.onFocus) ed.on("focus", this.props.onFocus);
    if (this.props.onBlur) ed.on("blur", function () {
      var _this$props2;

      return _this.isRendered() && (_this$props2 = _this.props).onBlur.apply(_this$props2, arguments);
    }); // if Ace editor is destroyed in unmount, it'll still fire 'blur' later (at the time of its DOM node removal)

    if (this.props.onCopy) ed.on("copy", this.props.onCopy);
    if (this.props.onPaste) ed.on("paste", this.props.onPaste);
    if (this.props.onChange && !this.silent) ed.on("change", function (e) {
      if (!_this._willReceiveProps) {
        typeof _this.props.onChange === "function" && _this.props.onChange(e);
      }
    });
    if (this.props.onScroll) session.on("changeScrollTop", this.props.onScroll); // get a list of possible options to avoid 'misspelled option errors'

    if (!this.props.readOnly && usedMode === "uu5" && this.props.highlightAttrsSyntax) {
      ed.setOption("displayIndentGuides", false);
    }

    var availableOptions = ed.$options;

    for (var _i = 0; _i < editorOptions.length; _i++) {
      var option = editorOptions[_i];

      if (availableOptions.hasOwnProperty(option)) {
        ed.setOption(option, this.props[option]);
      }
    } // disable textCompleter which suggests words from editor's value content (must be done after setting options)


    if (ed.completers) {
      ace.require(["ace/ext/language_tools"], function (languageTools) {
        var textCompleter = languageTools.textCompleter,
            snippetCompleter = languageTools.snippetCompleter;
        ed.completers = _toConsumableArray(ed.completers); // copy, otherwise we would be modifying default instance (shared among editors)

        var index = ed.completers.indexOf(textCompleter);
        if (index !== -1) ed.completers.splice(index, 1);

        if (!_this.props.enableSnippets) {
          // Ace fix - must remove snippet completer because if there're multiple editors in page
          // then enabling snippets in one would enable it in all
          index = ed.completers.indexOf(snippetCompleter);
          if (index !== -1) ed.completers.splice(index, 1);
        }
      });

      if (typeof ed._emit === "function") ed._emit("__uu_editorCompletersInit", {});
    }

    ed.commands.on("afterExec", function (e) {
      if (e.command.name === "startAutocomplete" || e.command.name === "insertstring") {
        // hide autocomplete popup on window scroll
        if (ed.completer && !ed.completer.__windowScrollFeature) {
          ed.completer.__windowScrollFeature = true;

          var onScrollOrResize = function onScrollOrResize(e) {
            window.removeEventListener("scroll", onScrollOrResize);
            window.removeEventListener("resize", onScrollOrResize);
            ed.completer && ed.completer.popup && ed.completer.popup.off("mousewheel", onMouseWheelInAutocomplete);
            ed.completer && ed.completer.detach();
          };

          var onMouseWheelInAutocomplete = function onMouseWheelInAutocomplete(e) {
            var curTarget = e.domEvent.currentTarget;
            var scrollerEl = curTarget.querySelector(".ace_scrollbar-v");

            if (scrollerEl) {
              // don't allow scroll to bleed out to body as that would close the autocomplete list
              if (e.wheelY < 0 && scrollerEl.scrollTop === 0) e.preventDefault();
              if (e.wheelY > 0 && scrollerEl.scrollTop + scrollerEl.clientHeight >= scrollerEl.scrollHeight) e.preventDefault();
              e.stopPropagation();
            }
          };

          var origShowPopup = ed.completer.showPopup;

          ed.completer.showPopup = function () {
            var result = origShowPopup.apply(this, arguments);
            window.addEventListener("scroll", onScrollOrResize);
            window.addEventListener("resize", onScrollOrResize);
            ed.completer.getPopup().on("mousewheel", onMouseWheelInAutocomplete);
            return result;
          };

          var origDetach = ed.completer.detach;

          ed.completer.detach = function () {
            window.removeEventListener("scroll", onScrollOrResize);
            window.removeEventListener("resize", onScrollOrResize);
            ed.completer.getPopup().off("mousewheel", onMouseWheelInAutocomplete);
            var result = origDetach.apply(this, arguments);
            return result;
          };

          if (ed.completer.activated) {
            window.addEventListener("scroll", onScrollOrResize);
            window.addEventListener("resize", onScrollOrResize);
            ed.completer.getPopup().on("mousewheel", onMouseWheelInAutocomplete);
          }
        }
      }
    });
    if (this.props.indent) ed.setOption("tabSize", this.props.indent);
    var minRows = this.props.minRows || this.props.rows;
    var maxRows = this.props.maxRows || this.props.rows;
    if (minRows) ed.setOption("minLines", minRows);
    if (maxRows) ed.setOption("maxLines", maxRows);

    if (Array.isArray(commands)) {
      commands.forEach(function (command) {
        ed.commands.addCommand(command);
      });
    }

    if (keyboardHandler) ed.setKeyboardHandler("ace/keyboard/".concat(keyboardHandler));

    if (this.props.readOnly) {
      ed.renderer.$cursorLayer.element.style.display = "none";
      ed.renderer.scrollPastEnd = false;
      session.setOption("useWorker", false); // ed.commands.on('exec', function (e) {
      //   e.preventDefault()
      // });

      session.setFoldStyle("manual");
    }

    session.setAnnotations(annotations || []);
    session.setMode(modeOptions);
    session.setUseWrapMode(wrapEnabled);

    this._setMarkers(markers);

    if (focus) this.focus();
    if (onLoad) onLoad(this.editor);
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    var oldProps = this.props;
    var editorOptions = this.constructor.editorOptions;
    var ed = this.editor;
    var session = this.editor.getSession();

    for (var i = 0; i < editorOptions.length; i++) {
      var option = editorOptions[i];
      if (nextProps[option] !== oldProps[option]) ed.setOption(option, nextProps[option]);
    }

    var minRows = nextProps.minRows || nextProps.rows;
    var maxRows = nextProps.maxRows || nextProps.rows;
    var oldMinRows = this.props.minRows || this.props.rows;
    var oldMaxRows = this.props.maxRows || this.props.rows;
    if (nextProps.indent !== oldProps.indent) ed.setOption("tabSize", nextProps.indent);
    if (minRows !== oldMinRows) ed.setOption("minLines", minRows);
    if (maxRows !== oldMaxRows) ed.setOption("maxLines", maxRows); // if (nextProps.className !== oldProps.className) {
    //   const appliedClasses = this._editor.className;
    //   const appliedClassesArray = appliedClasses.trim().split(' ');
    //   const oldClassesArray = oldProps.className.trim().split(' ');
    //   oldClassesArray.forEach((oldClass) => {
    //     const index = appliedClassesArray.indexOf(oldClass);
    //     appliedClassesArray.splice(index, 1);
    //   });
    //   this._editor.className = ' ' + nextProps.className + ' ' + appliedClassesArray.join(' ');
    // }

    if (nextProps.codeStyle !== oldProps.codeStyle) {
      session.setMode("ace/mode/".concat(this._modeAlias(nextProps.codeStyle)));
    }

    if (nextProps.theme !== oldProps.theme) {
      ed.setTheme("ace/theme/" + nextProps.theme);
    }

    if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {
      if (nextProps.keyboardHandler) {
        ed.setKeyboardHandler("ace/keyboard/" + nextProps.keyboardHandler);
      } else {
        ed.setKeyboardHandler(null);
      }
    }

    if (nextProps.fontSize !== oldProps.fontSize) {
      ed.setFontSize(nextProps.fontSize);
    }

    if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {
      session.setUseWrapMode(nextProps.wrapEnabled);
    }

    if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {
      ed.setShowPrintMargin(nextProps.showPrintMargin);
    }

    if (nextProps.showGutter !== oldProps.showGutter) {
      ed.renderer.setShowGutter(nextProps.showGutter);
    }

    if (nextProps.padding !== oldProps.padding) {
      ed.renderer.setScrollMargin(nextProps.padding, nextProps.padding);
      ed.renderer.setPadding(nextProps.padding);
    }

    if (!lodash_isequal__WEBPACK_IMPORTED_MODULE_0___default()(nextProps.annotations, oldProps.annotations)) {
      session.setAnnotations(nextProps.annotations || []);
    }

    if (!lodash_isequal__WEBPACK_IMPORTED_MODULE_0___default()(nextProps.markers, oldProps.markers)) {
      this._setMarkers(nextProps.markers);
    }

    var val = nextProps.value || nextProps.defaultValue || "";

    if (ed.getValue() !== val) {
      // editor.setValue is a synchronous function call, change event is emitted before setValue return.
      this.silent = true;
      var pos = session.selection.toJSON();
      this._willReceiveProps = true;

      if (val && typeof val === "string") {
        ed.setValue(val, nextProps.cursorStart);
      }

      session.selection.fromJSON(pos);
      this.silent = false;
      this._willReceiveProps = false;
    }

    if (nextProps.focus && !oldProps.focus) {
      this.focus();
    }

    if (nextProps.height !== this.props.height) {
      ed.resize();
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    this.editor.destroy();
    this.editor = null;
  },
  componentWillUpdate: function componentWillUpdate() {
    var _this2 = this;

    if (this._editor) {
      this._classesToPreserve = [];

      var aceClasses = _toConsumableArray(this._editor.classList);

      aceClasses.map(function (className) {
        if (className.match(/^ace/g)) {
          _this2._classesToPreserve.push(className);
        }
      });
    }
  },
  componentDidUpdate: function componentDidUpdate(nextState) {
    var _this3 = this;

    if (this._editor) {
      this._classesToPreserve.map(function (className) {
        _this3._editor.classList.add(className);
      });

      this._classesToPreserve = [];
    }

    if (this.props.readOnly) {
      this.editor.renderer.$cursorLayer.element.style.display = "none";
    } else {
      this.editor.renderer.$cursorLayer.element.style.display = "initial";
    }
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  setValue: function setValue(text) {
    var pos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
    this.editor.setValue(text, pos);
  },
  getValue: function getValue(format) {
    return format ? format(this.editor.getValue()) : this.editor.getValue();
  },
  insert: function insert(text) {
    if (text) this.editor.insert(text);
  },
  focus: function focus() {
    this.editor.focus(); //Go to the first line

    this.editor.gotoLine(0, 0);
  },
  copyToClipboard: function copyToClipboard() {
    //TODO call codekit interface when implemented
    var editor = this.editor;
    var sel = editor.selection.toJSON(); // save selection

    editor.selectAll();
    editor.focus();
    document.execCommand("copy");
    editor.selection.fromJSON(sel); // restore selection
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _modeAlias: function _modeAlias(mode) {
    switch (mode) {
      case "js":
      case "javascript":
        mode = "javascript";
        break;

      case "bash":
      case "sh":
        mode = "sh";
        break;

      case "asm":
      case "assembly":
      case "assembly_x86":
        mode = "assembly_x86";
        break;

      case "c":
      case "cpp":
      case "c++":
        mode = "c_cpp";
        break;

      case "batchfile":
      case "bat":
      case "batch":
      case "msdos":
        mode = "batchfile";
        break;

      case "coffee":
      case "coffeescript":
        mode = "coffee";
        break;

      case "csharp":
      case "c#":
      case "cs":
        mode = "csharp";
        break;

      case "dockerfile":
      case "docker":
        mode = "dockerfile";
        break;

      case "go":
      case "golang":
        mode = "golang";
        break;

      case "html_ruby":
      case "erb":
      case "rhtml":
        mode = "html_ruby";
        break;
    }

    return mode;
  },
  _normalizeMarker: function _normalizeMarker(item) {
    var marker;
    if (typeof item === "number") marker = {
      startRow: item
    };else if (Array.isArray(item) && item.length > 0) {
      var lastUsableIdx = item.length - 1;
      var colorSchema;
      if (typeof item[item.length - 1] === "string") colorSchema = item[lastUsableIdx--];
      if (lastUsableIdx >= 2) marker = {
        startRow: item[0],
        startColumn: item[1],
        endRow: item[2],
        endColumn: lastUsableIdx >= 3 ? item[3] : undefined
      };else marker = {
        startRow: item[0],
        endRow: lastUsableIdx >= 1 ? item[1] : undefined
      };
      if (colorSchema) marker.colorSchema = colorSchema;
    } else if (_typeof(item) === "object") marker = item;
    if (marker && typeof marker.startRow != "number") marker = undefined;
    return marker;
  },
  _setMarkers: function _setMarkers(markers) {
    var _this4 = this;

    var ace = this.props.ace;
    var session = this.editor.getSession();

    if (this._markers) {
      this._markers.forEach(function (marker) {
        return session.removeMarker(marker);
      });

      delete this._markers;
    }

    if (Array.isArray(markers)) {
      var Range = ace.require("ace/range").Range;

      this._markers = markers.map(function (item) {
        return _this4._normalizeMarker(item);
      }).filter(function (marker) {
        return marker != null;
      }).map(function (marker) {
        var isFullLine = marker.startColumn == null && marker.endColumn == null; // some fiddling around with replacing null values to get AceEditor behave as we want

        var aceRange = [// numbers are 1-based so that row numbers in gutter correspond exactly
        Math.max(0, marker.startRow - 1), Math.max(0, marker.startColumn - 1), marker.endRow != null ? Math.max(0, marker.endRow - 1) : undefined, marker.endColumn // -1+1 (-1 because we're 1-based; +1 because we want it to be inclusive and Ace expects exclusive)
        ];
        if (aceRange[2] == null) aceRange[2] = aceRange[0]; // always provide end row

        if (aceRange[0] === aceRange[2] && aceRange[1] == null && aceRange[3] == null) aceRange[1] = 0; // must set start column to 0 if both rows are same and columns are not given

        if (!isFullLine && typeof aceRange[1] === "number" && aceRange[2] != null && aceRange[3] == null) aceRange[3] = 100000; // if no end column is given while highlighting text (no full lines), highlight upto last character (just provide big enough number)

        var range = _construct(Range, aceRange);

        var colorSchema = marker.colorSchema ? uu5g04__WEBPACK_IMPORTED_MODULE_2__["Environment"].getColorSchema(marker.colorSchema) : null;
        var cssClass = [_this4.getClassName("marker"), "uu5-common-bg", colorSchema ? "color-schema-".concat(colorSchema) : _this4.getClassName("markerDefault")].join(" ");
        return session.addMarker(range, cssClass, isFullLine ? "fullLine" : "text", false); // fullLine, screenLine, text, line
      });
    }
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    var _this5 = this;

    var _this$props3 = this.props,
        width = _this$props3.width,
        height = _this$props3.height,
        showBorder = _this$props3.showBorder;
    var attrs = this.getMainAttrs();

    if (this.props.borderRadius) {
      attrs.style = _objectSpread({}, attrs.style, {
        borderRadius: this.props.borderRadius
      });
    }

    if (this.props.bgStyle) {
      attrs.className += " " + uu5g04__WEBPACK_IMPORTED_MODULE_2__["Common"].ClassNames[this.props.bgStyle];
    }

    if (this.props.elevation) {
      attrs.className += " " + uu5g04__WEBPACK_IMPORTED_MODULE_2__["Common"].ClassNames.elevation + this.props.elevation;
    }

    if (this.props.highlightAttrsSyntax) {
      attrs.className += " " + this.getClassName("highlightAttrsSyntax");
    }

    attrs.style = attrs.style || {};
    attrs.style.width = width || attrs.style.width;
    attrs.style.height = this.props.rows ? this.props.rows * 15 + 12 + "px" : this.props.height || "500px";
    if (!showBorder) attrs.style.border = 0;

    attrs.ref = function (editor) {
      return _this5._editor = editor;
    };

    attrs.id = this.getId(); // this.props.readOnly && (attrs.className += ' ' + this.getClassName('viewer'));

    return uu5g04__WEBPACK_IMPORTED_MODULE_2__["Common"].Element.create("div", attrs);
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (Object(_inject_ace__WEBPACK_IMPORTED_MODULE_1__["default"])(AceEditor, uu5g04__WEBPACK_IMPORTED_MODULE_2__["Bricks"].Loading));

/***/ }),
/* 10 */
/***/ (function(module, exports) {

module.exports = require("lodash.isequal");

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_1__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }


 // const _url = "https://cdnjs.cloudflare.com/ajax/libs/ace/1.3.3/ace.js";

var _url = "https://cdn.plus4u.net/libs/ace/1.3.3/src-min-noconflict/ace.js";
var _onLoad = [];
var _isLoading = false;
var _languageToolsLoaded = false;
var _scrollbarWidthPerfFixed = false;

function load(url, includeLanguageTools, cb) {
  if (includeLanguageTools) {
    var origCb = cb;

    cb = function cb() {
      // NOTE This loads the module only once even if called multiple times.
      window.ace.config.loadModule("ace/ext/language_tools", function () {
        _languageToolsLoaded = true;
        origCb();
      });
    };
  }

  if (!_scrollbarWidthPerfFixed) {
    _scrollbarWidthPerfFixed = true;
    var _origCb = cb;

    cb = function cb() {
      window.ace.require(["ace/lib/dom"], function (dom) {
        dom.scrollbarWidth = uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Environment.getScrollBarWidth;

        _origCb();
      });
    };
  }

  if (window.ace) cb();else {
    _onLoad.push(cb);

    if (!_isLoading) {
      _isLoading = true;
      var result;
      var script = document.createElement("script");
      var container = document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0];
      script.type = "text/javascript";
      script.src = url;
      script.async = true; //script.onreadystatechange for IE compatibility

      script.onload = script.onreadystatechange = function () {
        var ready = !this.readyState || this.readyState == "complete";

        if (!result && ready) {
          result = true;

          _onLoad.forEach(function (_cb) {
            return _cb();
          });
        }
      };

      container.appendChild(script);
    }
  }
}

/* harmony default export */ __webpack_exports__["default"] = (function (Component, Loading, url) {
  return /*#__PURE__*/function (_React$Component) {
    _inherits(InjectAce, _React$Component);

    var _super = _createSuper(InjectAce);

    function InjectAce() {
      _classCallCheck(this, InjectAce);

      return _super.apply(this, arguments);
    }

    _createClass(InjectAce, [{
      key: "componentDidMount",
      value: function componentDidMount() {
        var _this = this;

        this._mounted = true;
        url = url || _url;

        if (!window.ace || this._needsLanguageTools() && !_languageToolsLoaded || !_scrollbarWidthPerfFixed) {
          load(url, this._needsLanguageTools(), function () {
            if (_this._mounted) _this.forceUpdate();
          });
        }
      }
    }, {
      key: "componentWillUnmount",
      value: function componentWillUnmount() {
        this._mounted = false;
      }
    }, {
      key: "_needsLanguageTools",
      value: function _needsLanguageTools() {
        return this.props.enableSnippets || this.props.enableBasicAutocompletion || this.props.enableLiveAutocompletion;
      }
    }, {
      key: "render",
      value: function render() {
        return window.ace && (_languageToolsLoaded || !this._needsLanguageTools()) ? uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(Component, _extends({
          ace: window.ace
        }, this.props)) : uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(Loading, null);
      }
    }]);

    return InjectAce;
  }(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);
});

/***/ }),
/* 12 */
/***/ (function(module, exports) {

module.exports = require("react");

/***/ }),
/* 13 */
/***/ (function(module, exports) {

module.exports = require("uu5g04-bricks");

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return defineAceModeUu5; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _on_demand_component_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _mode_uu5_highlighter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(17);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }




var defined;
function defineAceModeUu5(ace) {
  if (defined) return;
  defined = true;
  var UU5_WORKER_REL_URL = process.env.NODE_ENV !== "production" ? "./uu5codekitg01-ace-mode-uu5-worker.js" : "./uu5codekitg01-ace-mode-uu5-worker.min.js";
  var UU5_WORKER_URL = Object(_on_demand_component_js__WEBPACK_IMPORTED_MODULE_1__["normalizeUrl"])(UU5_WORKER_REL_URL); // ace 1.2.8 mode-xml.js with changes:
  // 1. Annotated using NOTE marker.
  // 2. Changed module names containing "/xml" into "/uu5".
  // NOTE Highlighter separated into mode-uu5/highlighter.js

  Object(_mode_uu5_highlighter_js__WEBPACK_IMPORTED_MODULE_2__["default"])(ace);
  ace.define("ace/mode/behaviour/uu5", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function (require, exports, module) {
    "use strict";

    var oop = require("../../lib/oop");

    var Behaviour = require("../behaviour").Behaviour;

    var TokenIterator = require("../../token_iterator").TokenIterator;

    var lang = require("../../lib/lang");

    function is(token, type) {
      return token.type.lastIndexOf(type + ".xml") > -1;
    }

    var XmlBehaviour = function XmlBehaviour() {
      this.add("string_dquotes", "insertion", function (state, action, editor, session, text) {
        if (text == '"' || text == "'") {
          var quote = text;
          var selected = session.doc.getTextRange(editor.getSelectionRange());

          if (selected !== "" && selected !== "'" && selected != '"' && editor.getWrapBehavioursEnabled()) {
            return {
              text: quote + selected + quote,
              selection: false
            };
          }

          var cursor = editor.getCursorPosition();
          var line = session.doc.getLine(cursor.row);
          var rightChar = line.substring(cursor.column, cursor.column + 1);
          var iterator = new TokenIterator(session, cursor.row, cursor.column);
          var token = iterator.getCurrentToken();

          if (rightChar == quote && (is(token, "attribute-value") || is(token, "string"))) {
            return {
              text: "",
              selection: [1, 1]
            };
          }

          if (!token) token = iterator.stepBackward();
          if (!token) return;

          while (is(token, "tag-whitespace") || is(token, "whitespace")) {
            token = iterator.stepBackward();
          }

          var rightSpace = !rightChar || rightChar.match(/\s/);

          if (is(token, "attribute-equals") && (rightSpace || rightChar == ">") || is(token, "decl-attribute-equals") && (rightSpace || rightChar == "?")) {
            return {
              text: quote + quote,
              selection: [1, 1]
            };
          }
        }
      });
      this.add("string_dquotes", "deletion", function (state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);

        if (!range.isMultiLine() && (selected == '"' || selected == "'")) {
          var line = session.doc.getLine(range.start.row);
          var rightChar = line.substring(range.start.column + 1, range.start.column + 2);

          if (rightChar == selected) {
            range.end.column++;
            return range;
          }
        }
      });
      this.add("autoclosing", "insertion", function (state, action, editor, session, text) {
        if (text == ">") {
          var position = editor.getSelectionRange().start;
          var iterator = new TokenIterator(session, position.row, position.column);
          var token = iterator.getCurrentToken() || iterator.stepBackward();
          if (!token || !(is(token, "tag-name") || is(token, "tag-whitespace") || is(token, "attribute-name") || is(token, "attribute-equals") || is(token, "attribute-value"))) return;
          if (is(token, "reference.attribute-value")) return;

          if (is(token, "attribute-value")) {
            var firstChar = token.value.charAt(0);

            if (firstChar == '"' || firstChar == "'") {
              var lastChar = token.value.charAt(token.value.length - 1);
              var tokenEnd = iterator.getCurrentTokenColumn() + token.value.length;
              if (tokenEnd > position.column || tokenEnd == position.column && firstChar != lastChar) return;
            }
          }

          while (!is(token, "tag-name")) {
            token = iterator.stepBackward();

            if (token.value == "<") {
              token = iterator.stepForward();
              break;
            }
          }

          var tokenRow = iterator.getCurrentTokenRow();
          var tokenColumn = iterator.getCurrentTokenColumn();
          if (is(iterator.stepBackward(), "end-tag-open")) return;
          var element = token.value;
          if (tokenRow == position.row) element = element.substring(0, position.column - tokenColumn);
          if (this.voidElements.hasOwnProperty(element.toLowerCase())) return;
          return {
            text: ">" + "</" + element + ">",
            selection: [1, 1]
          };
        }
      });
      this.add("autoindent", "insertion", function (state, action, editor, session, text) {
        if (text == "\n") {
          var cursor = editor.getCursorPosition();
          var line = session.getLine(cursor.row);
          var iterator = new TokenIterator(session, cursor.row, cursor.column);
          var token = iterator.getCurrentToken();

          if (token && token.type.indexOf("tag-close") !== -1) {
            if (token.value == "/>") return;

            while (token && token.type.indexOf("tag-name") === -1) {
              token = iterator.stepBackward();
            }

            if (!token) {
              return;
            }

            var tag = token.value;
            var row = iterator.getCurrentTokenRow();
            token = iterator.stepBackward();

            if (!token || token.type.indexOf("end-tag") !== -1) {
              return;
            }

            if (this.voidElements && !this.voidElements[tag]) {
              var nextToken = session.getTokenAt(cursor.row, cursor.column + 1);
              var line = session.getLine(row);
              var nextIndent = this.$getIndent(line);
              var indent = nextIndent + session.getTabString();

              if (nextToken && nextToken.value === "</") {
                return {
                  text: "\n" + indent + "\n" + nextIndent,
                  selection: [1, indent.length, 1, indent.length]
                };
              } else {
                return {
                  text: "\n" + indent
                };
              }
            }
          }
        }
      });
    };

    oop.inherits(XmlBehaviour, Behaviour);
    exports.XmlBehaviour = XmlBehaviour;
  });
  ace.define("ace/mode/folding/uu5", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/range", "ace/mode/folding/fold_mode", "ace/token_iterator"], function (require, exports, module) {
    "use strict";

    var oop = require("../../lib/oop");

    var lang = require("../../lib/lang");

    var Range = require("../../range").Range;

    var BaseFoldMode = require("./fold_mode").FoldMode;

    var TokenIterator = require("../../token_iterator").TokenIterator;

    var FoldMode = exports.FoldMode = function (voidElements, optionalEndTags) {
      BaseFoldMode.call(this);
      this.voidElements = voidElements || {};
      this.optionalEndTags = oop.mixin({}, this.voidElements);
      if (optionalEndTags) oop.mixin(this.optionalEndTags, optionalEndTags);
    };

    oop.inherits(FoldMode, BaseFoldMode);

    var Tag = function Tag() {
      this.tagName = "";
      this.closing = false;
      this.selfClosing = false;
      this.start = {
        row: 0,
        column: 0
      };
      this.end = {
        row: 0,
        column: 0
      };
    };

    function is(token, type) {
      return token.type.lastIndexOf(type + ".xml") > -1;
    }

    (function () {
      this.getFoldWidget = function (session, foldStyle, row) {
        var tag = this._getFirstTagInLine(session, row);

        if (!tag) return this.getCommentFoldWidget(session, row);
        if (tag.closing || !tag.tagName && tag.selfClosing) return foldStyle == "markbeginend" ? "end" : "";
        if (!tag.tagName || tag.selfClosing || this.voidElements.hasOwnProperty(tag.tagName.toLowerCase())) return "";
        if (this._findEndTagInLine(session, row, tag.tagName, tag.end.column)) return "";
        return "start";
      };

      this.getCommentFoldWidget = function (session, row) {
        if (/comment/.test(session.getState(row)) && /<!-/.test(session.getLine(row))) return "start";
        return "";
      };

      this._getFirstTagInLine = function (session, row) {
        var tokens = session.getTokens(row);
        var tag = new Tag();

        for (var i = 0; i < tokens.length; i++) {
          var token = tokens[i];

          if (is(token, "tag-open")) {
            tag.end.column = tag.start.column + token.value.length;
            tag.closing = is(token, "end-tag-open");
            token = tokens[++i];
            if (!token) return null;
            tag.tagName = token.value;
            tag.end.column += token.value.length;

            for (i++; i < tokens.length; i++) {
              token = tokens[i];
              tag.end.column += token.value.length;

              if (is(token, "tag-close")) {
                tag.selfClosing = token.value == "/>";
                break;
              }
            }

            token.type.replace(/\bnested(\d+)/, function (m, g1) {
              tag.nestingLevel = Number(g1);
            });
            return tag;
          } else if (is(token, "tag-close")) {
            tag.selfClosing = token.value == "/>";
            token.type.replace(/\bnested(\d+)/, function (m, g1) {
              tag.nestingLevel = Number(g1);
            });
            return tag;
          }

          tag.start.column += token.value.length;
        }

        return null;
      };

      this._findEndTagInLine = function (session, row, tagName, startColumn) {
        var tokens = session.getTokens(row);
        var column = 0;

        for (var i = 0; i < tokens.length; i++) {
          var token = tokens[i];
          column += token.value.length;
          if (column < startColumn) continue;

          if (is(token, "end-tag-open")) {
            token = tokens[i + 1];
            if (token && token.value == tagName) return true;
          }
        }

        return false;
      };

      this._readTagForward = function (iterator, nestingLevel) {
        var token = iterator.getCurrentToken();
        if (!token) return null;
        var tag = new Tag();

        do {
          // skip tags that are nested in an attribute
          var tokenNestingLevel = undefined;
          token.type.replace(/\bnested(\d+)/, function (m, g1) {
            tokenNestingLevel = Number(g1);
          });
          if (tokenNestingLevel !== nestingLevel) continue;

          if (is(token, "tag-open")) {
            tag.closing = is(token, "end-tag-open");
            tag.start.row = iterator.getCurrentTokenRow();
            tag.start.column = iterator.getCurrentTokenColumn();
            token.type.replace(/\bnested(\d+)/, function (m, g1) {
              tag.nestingLevel = Number(g1);
            });
          } else if (is(token, "tag-name")) {
            tag.tagName = token.value;
            token.type.replace(/\bnested(\d+)/, function (m, g1) {
              tag.nestingLevel = Number(g1);
            });
          } else if (is(token, "tag-close")) {
            tag.selfClosing = token.value == "/>";
            tag.end.row = iterator.getCurrentTokenRow();
            tag.end.column = iterator.getCurrentTokenColumn() + token.value.length;
            token.type.replace(/\bnested(\d+)/, function (m, g1) {
              tag.nestingLevel = Number(g1);
            });
            iterator.stepForward();
            return tag;
          }
        } while (token = iterator.stepForward());

        return null;
      };

      this._readTagBackward = function (iterator, nestingLevel) {
        var token = iterator.getCurrentToken();
        if (!token) return null;
        var tag = new Tag();

        do {
          // skip tags that are nested in an attribute
          var tokenNestingLevel = undefined;
          token.type.replace(/\bnested(\d+)/, function (m, g1) {
            tokenNestingLevel = Number(g1);
          });
          if (tokenNestingLevel !== nestingLevel) continue;

          if (is(token, "tag-open")) {
            tag.closing = is(token, "end-tag-open");
            tag.start.row = iterator.getCurrentTokenRow();
            tag.start.column = iterator.getCurrentTokenColumn();
            token.type.replace(/\bnested(\d+)/, function (m, g1) {
              tag.nestingLevel = Number(g1);
            });
            iterator.stepBackward();
            return tag;
          } else if (is(token, "tag-name")) {
            tag.tagName = token.value;
            token.type.replace(/\bnested(\d+)/, function (m, g1) {
              tag.nestingLevel = Number(g1);
            });
          } else if (is(token, "tag-close")) {
            tag.selfClosing = token.value == "/>";
            tag.end.row = iterator.getCurrentTokenRow();
            tag.end.column = iterator.getCurrentTokenColumn() + token.value.length;
            token.type.replace(/\bnested(\d+)/, function (m, g1) {
              tag.nestingLevel = Number(g1);
            });
          }
        } while (token = iterator.stepBackward());

        return null;
      };

      this._pop = function (stack, tag) {
        while (stack.length) {
          var top = stack[stack.length - 1];

          if (!tag || top.tagName == tag.tagName) {
            return stack.pop();
          } else if (this.optionalEndTags.hasOwnProperty(top.tagName)) {
            stack.pop();
            continue;
          } else {
            return null;
          }
        }
      };

      this.getFoldWidgetRange = function (session, foldStyle, row) {
        var firstTag = this._getFirstTagInLine(session, row);

        if (!firstTag) {
          return this.getCommentFoldWidget(session, row) && session.getCommentFoldRange(row, session.getLine(row).length);
        }

        var isBackward = firstTag.closing || firstTag.selfClosing;
        var nestingLevel = firstTag.nestingLevel;
        var stack = [];
        var tag;

        if (!isBackward) {
          var iterator = new TokenIterator(session, row, firstTag.start.column);
          var start = {
            row: row,
            column: firstTag.start.column + firstTag.tagName.length + 2
          };
          if (firstTag.start.row == firstTag.end.row) start.column = firstTag.end.column;

          while (tag = this._readTagForward(iterator, nestingLevel)) {
            if (tag.nestingLevel !== nestingLevel) {
              if (!tag.selfClosing) stack.push(tag);
            } else {
              if (tag.selfClosing) {
                if (!stack.length) {
                  tag.start.column += (tag.tagName || firstTag.tagName).length + 2;
                  tag.end.column -= 2;
                  return Range.fromPoints(tag.start, tag.end);
                } else continue;
              }

              if (tag.closing) {
                this._pop(stack, tag);

                if (stack.length == 0) return Range.fromPoints(start, tag.start);
              } else {
                stack.push(tag);
              }
            }
          }
        } else {
          var iterator = new TokenIterator(session, row, firstTag.end.column);
          var end = {
            row: row,
            column: firstTag.start.column
          };

          while (tag = this._readTagBackward(iterator, nestingLevel)) {
            if (tag.nestingLevel !== nestingLevel) {
              if (!tag.selfClosing) stack.push(tag);
            } else {
              if (tag.selfClosing) {
                if (!stack.length) {
                  tag.start.column += (tag.tagName || firstTag.tagName).length + 2;
                  tag.end.column -= 2;
                  return Range.fromPoints(tag.start, tag.end);
                } else continue;
              }

              if (!tag.closing) {
                this._pop(stack, tag);

                if (stack.length == 0) {
                  tag.start.column += tag.tagName.length + 2;
                  if (tag.start.row == tag.end.row && tag.start.column < tag.end.column) tag.start.column = tag.end.column;
                  return Range.fromPoints(tag.start, end);
                }
              } else {
                stack.push(tag);
              }
            }
          }
        }
      };
    }).call(FoldMode.prototype);
  });
  ace.define("ace/mode/uu5", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/text", "ace/mode/uu5_highlight_rules", "ace/mode/behaviour/uu5", "ace/mode/folding/uu5", "ace/worker/worker_client"], function (require, exports, module) {
    "use strict";

    var oop = require("../lib/oop");

    var lang = require("../lib/lang");

    var TextMode = require("./text").Mode;

    var Uu5HighlightRules = require("./uu5_highlight_rules").Uu5HighlightRules;

    var XmlBehaviour = require("./behaviour/uu5").XmlBehaviour;

    var XmlFoldMode = require("./folding/uu5").FoldMode;

    var WorkerClient = require("../worker/worker_client").WorkerClient;

    var uu5Entities; // NOTE Added.

    var Mode = function Mode() {
      var _this = this;

      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this.HighlightRules = Uu5HighlightRules;
      this.Uu5NamespaceCompleter = Uu5NamespaceCompleter;
      this.$behaviour = new XmlBehaviour();
      this.foldingRules = new XmlFoldMode();
      this.editor = options.editor;
      this.highlightAttrsSyntax = options.highlightAttrsSyntax;
      this.useCompleters = options.useCompleters;
      this.$highlightRuleConfig = {
        highlightAttrsSyntax: this.highlightAttrsSyntax
      };

      if (this.useCompleters) {
        this.editor.on("changeMode", function (e) {
          require(["ace/ext/language_tools"], function (languageTools) {
            var isActivation = _this.editor.session.getMode() === _this;

            if (_this.editor.completers) {
              _this.editor.completers = _toConsumableArray(_this.editor.completers);

              var index = _this.editor.completers.indexOf(_this.Uu5NamespaceCompleter);

              if (index !== -1 && isActivation) return; // completer is already present

              if (index !== -1 && !isActivation) _this.editor.completers.splice(index, 1);
              if (isActivation) _this.editor.completers.push(_this.Uu5NamespaceCompleter); // NOTE Cannot call 'languageTools.addCompleter()' because that bleeds out to other instances of editors.
            }
          });
        });
        this.editor.on("__uu_editorCompletersInit", function (e) {
          var index = _this.editor.completers.indexOf(_this.Uu5NamespaceCompleter);

          if (index === -1) _this.editor.completers.push(_this.Uu5NamespaceCompleter);
        });
      }
    };

    var Uu5NamespaceCompleter = {
      identifierRegexps: [/[</.a-zA-Z_0-9$](?!<)/],
      getCompletions: function getCompletions(editor, session, pos, prefix, callback) {
        var namespace = (prefix.match(/<\/?([a-zA-Z0-9_.$]*)$/) || [])[1];
        var result = null;

        if (namespace != null) {
          var namespaceParts = namespace.split(".");
          var lastPart = namespaceParts.pop();
          var obj = window;

          for (var i = 0; obj && i < namespaceParts.length; ++i) {
            obj = obj[namespaceParts[i]];
          }

          var availableKeys = obj ? Object.keys(obj) : [];

          if (obj === window) {
            // guess root namespaces of uu5 components (assume that namespace starts with uppercase char
            // and it's an object containing at least 1 key which also starts with uppercase char)
            availableKeys = availableKeys.filter(function (k) {
              return k.length && k.charAt(0).match(/[A-Z]/) && obj[k] && _typeof(obj[k]) === "object" && Object.keys(obj[k]).some(function (k2) {
                return k2.length && k2.charAt(0).match(/[A-Z]/);
              });
            });
          } else if (!lastPart) {
            availableKeys = availableKeys.filter(function (k) {
              return k.length && k.charAt(0).match(/[A-Z]/) && obj[k] != null;
            });
          }

          var lastPartLowerCase = lastPart.toLowerCase();
          var items = availableKeys.filter(function (k) {
            return k.toLowerCase().startsWith(lastPartLowerCase);
          });
          items.sort(); // @value string used for filtering
          // @caption optional, allows to display a caption different from value; e.g. "!!customCompletion!!"
          // @snippet optional, snippet that can be inseted instead of value; e.g. "${2}insert${1:This}${2}Instead$0"
          // @meta short description
          // @score score (the higher the sooner it'll be in the list)

          var namespacePrefix = prefix.replace(/[^</.]*$/, "");
          result = items.map(function (name) {
            return {
              className: " ",
              // prevent usage of Ace's className because highlighting doesn't work correctly if caption != value
              caption: name,
              value: namespacePrefix + name,
              meta: namespaceParts.length > 1 ? "uu5 component" : "namespace",
              score: 100
            };
          });
        }

        callback(null, result);
      }
    };
    oop.inherits(Mode, TextMode);
    (function () {
      this.voidElements = lang.arrayToMap([]);
      this.blockComment = {
        start: "<!--",
        end: "-->"
      };

      this.createWorker = function (session) {
        var worker = new WorkerClient(["ace"], "ace/mode/uu5_worker", "Worker", UU5_WORKER_URL); // NOTE Added URL.

        worker.attachToDocument(session.getDocument()); // NOTE Added.
        // send recognized HTML entities

        if (!uu5Entities) {
          var uu5AllEntities = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Environment.textEntityMap._htmlEntityMap.items;
          var uu5EntityFilteredKeys = Object.keys(uu5AllEntities).filter(function (it) {
            return !it.match(/^&#/);
          });
          uu5Entities = {};

          for (var i = 0, len = uu5EntityFilteredKeys.length; i < len; ++i) {
            var key = uu5EntityFilteredKeys[i];
            uu5Entities[key.substr(1, key.length - 2)] = uu5AllEntities[key];
          }
        }

        worker.call("setOptions", [{
          context: {
            htmlEntities: uu5Entities
          }
        }]);
        worker.on("error", function (e) {
          session.setAnnotations(e.data);
        });
        worker.on("terminate", function () {
          session.clearAnnotations();
        }); // make gutter clickable so that we navigate to the column where the issue is

        var prevIssuesCleanupFns = [];
        var issueClass = "ace_uu5_issue_" + Math.floor(Date.now() + 1e6 * Math.random()).toString(36); // unique per instance because we lookup gutter element using this class

        var clickHandlerCleanupFns = [];
        worker.on("error", function (e) {
          prevIssuesCleanupFns.forEach(function (fn) {
            return fn();
          });
          prevIssuesCleanupFns = [];
          e.data.forEach(function (issue) {
            var cls = issueClass + " ace_uu5_rc-" + issue.row + "-" + issue.column;
            session.addGutterDecoration(issue.row, cls);
            prevIssuesCleanupFns.push(function () {
              return session.removeGutterDecoration(issue.row, cls);
            });
          });
        });
        var prevGutterEl;
        this.editor.renderer.on("afterRender", function () {
          var issueEl = document.querySelector("." + issueClass);
          var gutterEl = issueEl ? issueEl.parentNode : null;
          if (gutterEl && gutterEl !== prevGutterEl) handleGutterClicks(issueEl.parentNode);
          prevGutterEl = gutterEl;
        });
        worker.on("terminate", function () {
          prevIssuesCleanupFns.forEach(function (fn) {
            return fn();
          });
          prevIssuesCleanupFns = [];
          clickHandlerCleanupFns.forEach(function (fn) {
            return fn();
          });
          clickHandlerCleanupFns = [];
        });
        var that = this; // shouldn't be needed due to arrow fns but it is (looks like babel issue)...

        var handleGutterClicks = function handleGutterClicks(gutterLayer) {
          clickHandlerCleanupFns.forEach(function (fn) {
            return fn();
          });
          clickHandlerCleanupFns = [];

          var mousedownHandler = function mousedownHandler(e) {
            if (e.target.classList.contains(issueClass)) e.stopPropagation();
          };

          var clickHandler = function clickHandler(e) {
            if (e.target.classList.contains(issueClass)) {
              var _iterator = _createForOfIteratorHelper(e.target.classList),
                  _step;

              try {
                for (_iterator.s(); !(_step = _iterator.n()).done;) {
                  var cls = _step.value;

                  if (cls.startsWith("ace_uu5_rc-")) {
                    var _cls$split = cls.split(/-/),
                        _cls$split2 = _slicedToArray(_cls$split, 3),
                        _ = _cls$split2[0],
                        row = _cls$split2[1],
                        column = _cls$split2[2];

                    that.editor.gotoLine(Number(row) + 1, Number(column));
                    that.editor.focus();
                    that.editor.renderer.scrollCursorIntoView(null, 0.5);
                    e.stopPropagation();
                    return;
                  }
                }
              } catch (err) {
                _iterator.e(err);
              } finally {
                _iterator.f();
              }
            }
          };

          gutterLayer.addEventListener("mousedown", mousedownHandler);
          gutterLayer.addEventListener("click", clickHandler);
          return function () {
            gutterLayer.removeEventListener("mousedown", mousedownHandler);
            gutterLayer.removeEventListener("click", clickHandler);
          };
        };

        return worker;
      };

      this.$id = "ace/mode/uu5";
    }).call(Mode.prototype);
    exports.Mode = Mode;
  });
  ace.define("ace/snippets/uu5", [], function () {
    return {
      scope: "uu5",
      // which mode these snippets are for
      snippetText: __webpack_require__(24).default.replace(/^ {2}/gm, "\t")
    };
  });
}

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "load", function() { return load; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeUrl", function() { return normalizeUrl; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);
/* harmony import */ var module__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(module__WEBPACK_IMPORTED_MODULE_1__);


var loadCache = {};
var scriptUri = ((module__WEBPACK_IMPORTED_MODULE_1___default.a ? module__WEBPACK_IMPORTED_MODULE_1___default.a.uri : (document.currentScript || Array.prototype.slice.call(document.getElementsByTagName("script"), -1)[0] || {}).src) || "").toString();
var libBaseUri = scriptUri ? scriptUri.replace(/^(.*\/).*/, "$1") : "./";
function load(urlPath, callback) {
  var urlPathNormalized = normalizeUrl(urlPath);

  var loadData = _load(urlPathNormalized);

  if (loadData.loaded) callback(loadData.result, loadData.error);else loadData.promise.then(function (result) {
    return callback(result);
  }, function (error) {
    return callback(null, error);
  });
} // /**
//  * Wrapper which loads given URL when this component is instantiated, during load
//  * LoadingComponent is rendered, after load it takes export named componentName from
//  * loaded file and re-renders itself (passes all props to that component).
//  *
//  * Example:
//  * const LazyLoadedComponent = OnDemandReactComponent("./path.js", "JsonEditor", UU5.Bricks.Loading);
//  * const MyComponent = UU5.Common.VisualComponent.create({
//  *   ...
//  *   render() {
//  *     return <LazyLoadedComponent value="123" />; // will start loading during 1st render
//  *   }
//  * });
//  */
// export function OnDemandReactComponent(urlPath, componentName, LoadingComponent) {
//   let urlPathNormalized;
//   function getStateFromLoadResult(result) {
//     if (result && !result[componentName]) console.error(`There's no component ${componentName} exported from ${urlPathNormalized}. Exports:`, result);
//     return {
//       componentClass: result && result[componentName]
//     };
//   }
//   return class OnDemandComponent extends React.Component {
//     constructor() {
//       super();
//       if (!urlPathNormalized) urlPathNormalized = normalizeUrl(urlPath);
//       let loadData = _load(urlPathNormalized);
//       if (!loadData.loaded) loadData.promise.then(result => {
//         if (this._mounted && result) this.setState(getStateFromLoadResult(result));
//       });
//       this.state = getStateFromLoadResult(loadData.result);
//     }
//     componentDidMount() {
//       this._mounted = true;
//     }
//     componentWillUnmount() {
//       this._mounted = false;
//     }
//     render() {
//       let Component = this.state.componentClass;
//       return Component ? <Component {...this.props} /> : <LoadingComponent />;
//     }
//   };
// }

function _load(url) {
  var cacheData = loadCache[url];

  if (!cacheData) {
    cacheData = {
      loaded: false,
      result: undefined
    };
    cacheData.promise = SystemJS.import(url).then(function (result) {
      cacheData.loaded = true;
      cacheData.result = result;
      return cacheData.result;
    }, function (error) {
      console.error("Error loading " + url, error);
      cacheData.loaded = true;
      cacheData.error = error;
      return Promise.reject(error);
    });
    loadCache[url] = cacheData;
  }

  return cacheData;
}

function normalizeUrl(url) {
  var link = document.createElement("a");
  link.href = libBaseUri;
  if (url.match(/^\./)) link.href += url;else if (url.match(/^\//)) link.href = link.protocol + "//" + link.hostname + url;else link.href = url;
  return link.href; // browser re-normalizes it
}

/***/ }),
/* 16 */
/***/ (function(module, exports) {

module.exports = null;

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return defineHighlighter; });
/* harmony import */ var _highlighter_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18);
/* harmony import */ var _highlighter_less__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_highlighter_less__WEBPACK_IMPORTED_MODULE_0__);
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject10() {
  var data = _taggedTemplateLiteral(["\\\"(?= *<uu5string */>| *<uu5json */>)"], ["\\\\\"(?= *<uu5string */>| *<uu5json */>)"]);

  _templateObject10 = function _templateObject10() {
    return data;
  };

  return data;
}

function _templateObject9() {
  var data = _taggedTemplateLiteral(["\"(?= *<uu5string */>| *<uu5json */>)"]);

  _templateObject9 = function _templateObject9() {
    return data;
  };

  return data;
}

function _templateObject8() {
  var data = _taggedTemplateLiteral(["[^\\'\"<>=/]+"], ["[^\\\\'\"<>=/]+"]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["(?:\\(?:\\|\"))"], ["(?:\\\\(?:\\\\|\"))"]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["[^\\'\"<>=/]+"], ["[^\\\\'\"<>=/]+"]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["(?:\\(?:\\|'))"], ["(?:\\\\(?:\\\\|'))"]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["(?:[^\\\"&]|\\[\"\\])+|&(?:[^\\\"&]|\\[\"\\])*"], ["(?:[^\\\\\"&]|\\\\[\"\\\\])+|&(?:[^\\\\\"&]|\\\\[\"\\\\])*"]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["(?:[^\\'&]|\\['\\])+|&(?:[^\\'&]|\\['\\])*"], ["(?:[^\\\\'&]|\\\\['\\\\])+|&(?:[^\\\\'&]|\\\\['\\\\])*"]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["[-w]+"], ["[-\\w]+"]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["[-w.]+"], ["[-\\w.]+"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }


function defineHighlighter(ace) {
  ace.define("ace/mode/uu5_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function (require, exports, module) {
    "use strict";

    var oop = require("../lib/oop");

    var TextHighlightRules = require("./text_highlight_rules").TextHighlightRules;

    var COMPONENT_NAME = String.raw(_templateObject());
    var ATTR_NAME = String.raw(_templateObject2());

    var Uu5HighlightRules = function Uu5HighlightRules() {
      var _this = this;

      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          highlightAttrsSyntax = _ref.highlightAttrsSyntax;

      this.$rules = {
        start: [{
          include: "tag"
        }, {
          token: "text.end-tag-open.xml",
          regex: "</"
        }, {
          token: "text.tag-open.xml",
          regex: "<"
        }, {
          include: "reference"
        }, {
          defaultToken: "text.xml"
        }],
        reference: [{
          token: "constant.language.escape.reference.xml",
          regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
        }],
        entity_reference_in_attr: [{
          token: "constant.language.escape.reference.attribute-value.xml",
          regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
        }],
        tag: [{
          token: ["meta.tag.punctuation.tag-open.xml", "meta.tag.punctuation.end-tag-open.xml", "meta.tag.tag-name.xml"],
          regex: "(?:(<)|(</))(" + COMPONENT_NAME + ")",
          push: [{
            include: "attributes"
          }, {
            token: "meta.tag.punctuation.tag-close.xml",
            regex: "/?>",
            next: "pop"
          }]
        }],
        tag_whitespace: [{
          token: "text.tag-whitespace.xml",
          regex: "\\s+"
        }],
        whitespace: [{
          token: "text.whitespace.xml",
          regex: "\\s+"
        }],
        attributes: [{
          token: "entity.other.attribute-name.xml",
          regex: ATTR_NAME
        }, {
          token: "keyword.operator.attribute-equals.xml",
          regex: "="
        }, {
          include: "tag_whitespace"
        }, {
          include: "attribute_value"
        }],
        attribute_value: [{
          token: "string.attribute-value.xml",
          regex: "'",
          push: [{
            token: "string.attribute-value.xml",
            regex: "'",
            next: "pop"
          }, {
            include: "entity_reference_in_attr"
          }, {
            token: "string.attribute-value.xml",
            regex: String.raw(_templateObject3())
          }, {
            defaultToken: "string.attribute-value.xml"
          }]
        }, {
          token: "string.attribute-value.xml",
          regex: '"',
          push: [{
            token: "string.attribute-value.xml",
            regex: '"',
            next: "pop"
          }, {
            include: "entity_reference_in_attr"
          }, {
            token: "string.attribute-value.xml",
            regex: String.raw(_templateObject4())
          }, {
            defaultToken: "string.attribute-value.xml"
          }]
        }]
      };
      this.$rules.attribute_value.unshift({
        token: "string.attribute-value.xml",
        regex: "'(?= *<uu5json */>)",
        push: [{
          token: "string.attribute-value.xml",
          regex: "'",
          next: "pop"
        }, {
          include: "nested_uu5_in_json_in_apos"
        }, {
          include: "na_in_apos_attribute"
        }, {
          include: "na_start"
        }]
      }, {
        token: "string.attribute-value.xml",
        regex: "'(?= *<(?:uu5string|uu5data) */>)",
        push: [{
          token: "string.attribute-value.xml",
          regex: "'",
          next: "pop"
        }, {
          include: "na_in_apos_attribute"
        }, {
          include: "na_start"
        }]
      }, {
        token: "string.attribute-value.xml",
        regex: '"(?= *<uu5json */>)',
        push: [{
          token: "string.attribute-value.xml",
          regex: '"',
          next: "pop"
        }, {
          include: "nested_uu5_in_json_in_quot"
        }, {
          include: "nq_in_quot_attribute"
        }, {
          include: "nq_start"
        }]
      }, {
        token: "string.attribute-value.xml",
        regex: '"(?= *<(?:uu5string|uu5data) */>)',
        push: [{
          token: "string.attribute-value.xml",
          regex: '"',
          next: "pop"
        }, {
          include: "nq_in_quot_attribute"
        }, {
          include: "nq_start"
        }]
      });
      Object.assign(this.$rules, {
        in_apos_attribute: [],
        in_quot_attribute: [],
        na_in_apos_attribute: [{
          token: "string.attribute-value.xml.nested0",
          regex: String.raw(_templateObject5())
        }, {
          token: "string.attribute-value.xml.nested0",
          regex: String.raw(_templateObject6())
        }],
        nq_in_quot_attribute: [{
          token: "string.attribute-value.xml.nested0",
          regex: String.raw(_templateObject7())
        }, {
          token: "string.attribute-value.xml.nested0",
          regex: String.raw(_templateObject8())
        }],
        nested_uu5_in_json_in_apos: [{
          token: "string.attribute-value.xml.nested0",
          regex: String.raw(_templateObject9()),
          push: [{
            token: "string.attribute-value.xml.nested0",
            regex: '"',
            next: "pop"
          }, {
            include: "nq_na_in_apos_attribute"
          }, {
            include: "nq_na_start"
          }]
        }],
        nested_uu5_in_json_in_quot: [{
          token: "string.attribute-value.xml.nested0",
          regex: String.raw(_templateObject10()),
          push: [{
            token: "string.attribute-value.xml.nested0",
            regex: '\\\\"',
            next: "pop"
          }, {
            include: "nq_nq_in_quot_attribute"
          }, {
            include: "nq_nq_start"
          }]
        }]
      });

      var generateNestedRules = function generateNestedRules(states, char, prefix, depth) {
        var nestedStates = {};

        for (var k in states) {
          var stateRules = states[k];
          if (_this.$rules[prefix + k]) nestedStates[prefix + k] = _this.$rules[prefix + k];else nestedStates[prefix + k] = stateRules.map(function (it) {
            var processRule = function processRule(rule) {
              var result = _objectSpread({}, rule);

              if (result.include) result.include = prefix + result.include;
              if (result.regex) result.regex = result.regex.replace(new RegExp("(\\\\\\\\|" + char + ")", "g"), "\\\\$1");

              if (result.next) {
                if (typeof result.next === "string" && result.next !== "pop") result.next = prefix + result.next;else if (Array.isArray(result.next)) result.next = result.next.map(function (result) {
                  return processRule(result);
                });
              }

              if (result.push) {
                if (typeof result.push === "string") result.push = prefix + result.push;else result.push = result.push.map(function (result) {
                  return processRule(result);
                });
              }

              if (typeof result.token === "string") result.token += ".nested" + depth;else if (Array.isArray(result.token)) result.token = result.token.map(function (it) {
                return it + ".nested" + depth;
              });
              if (typeof result.defaultToken === "string") result.defaultToken += ".nested" + depth;
              return result;
            };

            return processRule(it);
          });
        }

        Object.assign(_this.$rules, nestedStates);
        return nestedStates;
      }; // recognize uu5string-s nesting to at most MAX_DEPTH depth; if deeper than that then it will not have proper background / style


      var MAX_DEPTH = 5;

      var gen = function gen(states, char, prefix, depth) {
        var nestedStates = generateNestedRules(states, char, prefix, depth);

        if (depth < MAX_DEPTH) {
          gen(nestedStates, "'", "na_", depth + 1);
          gen(nestedStates, '"', "nq_", depth + 1);
        }
      };

      var origStates = _objectSpread({}, this.$rules);

      for (var k in origStates) {
        if (k.match(/^na|^nq/)) delete origStates[k];
      }

      gen(origStates, "'", "na_", 0);
      gen(origStates, '"', "nq_", 0);
      if (this.constructor === Uu5HighlightRules) this.normalizeRules();
    };

    oop.inherits(Uu5HighlightRules, TextHighlightRules);
    exports.Uu5HighlightRules = Uu5HighlightRules;
  });
}

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(19);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(21)();
};

var update = __webpack_require__(22)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".uu5-codekit-ace-editor-highlight-attrs-syntax .ace_nested0 {\n  background-color: rgba(0, 0, 120, 0.1);\n}\n.uu5-codekit-ace-editor-highlight-attrs-syntax .ace_nested1 {\n  background-color: rgba(0, 120, 0, 0.15);\n}\n.uu5-codekit-ace-editor-highlight-attrs-syntax .ace_nested2 {\n  background-color: rgba(200, 120, 0, 0.15);\n}\n.uu5-codekit-ace-editor-highlight-attrs-syntax .ace_nested3 {\n  background-color: rgba(120, 0, 120, 0.2);\n}\n.uu5-codekit-ace-editor-highlight-attrs-syntax .ace_nested4 {\n  background-color: rgba(0, 120, 0, 0.1);\n}\n.uu5-codekit-ace-editor:not(.uu5-codekit-ace-editor-highlight-attrs-syntax) .ace_nested0.ace_nested0.ace_nested0 {\n  color: #1A1AA6;\n}\n", ""]);



/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return '@media ' + item[2] + '{' + content + '}';
      } else {
        return content;
      }
    }).join('');
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || '';
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;
  return '/*# ' + data + ' */';
}

/***/ }),
/* 21 */
/***/ (function(module, exports) {

function insert(styleEl) {
  var insertionEl = document.head || document.body;
  styleEl.setAttribute("data-owner", "uu5codekitg01/uu5codekitg01@1.8.3");
  styleEl.setAttribute("data-emotion", "uu-codekit");
  styleEl.setAttribute("data-tech", "less"); // insert the style element
  // 1. after last matching data-emotion using technology "less"

  var els = insertionEl.querySelectorAll("style[data-emotion=\"uu-codekit\"]");

  for (var i = els.length - 1; i >= 0; i--) {
    var _el = els[i];

    if (_el.getAttribute("data-tech") === "less") {
      _el.parentNode.insertBefore(styleEl, _el.nextSibling);

      return;
    }
  } // 2. before first matching data-emotion using technology "emotion"


  for (var _i = 0; _i < els.length; _i++) {
    var _el2 = els[_i];

    if (_el2.getAttribute("data-tech") !== "less") {
      _el2.parentNode.insertBefore(styleEl, _el2);

      return;
    }
  } // 3. before element with data-uu-app-styles-insert-before attribute


  var el = document.querySelector("[data-uu-app-styles-insert-before]");

  if (el) {
    el.parentNode.insertBefore(styleEl, el);
    return;
  } // 4. at the end of <head> or <body>


  insertionEl.appendChild(styleEl);
}

var PSEUDO_ELEMENT = {
  appendChild: insert,
  insertBefore: insert,
  insertAfter: insert
};

module.exports = function insertInto() {
  return PSEUDO_ELEMENT;
};

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(23);

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),
/* 23 */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("# Examples: https://github.com/ajaxorg/ace/blob/master/lib/ace/snippets/html.snippets\n# Common components\nsnippet pre\n  <UU5.Bricks.Pre>\n    <uu5string.pre>${1}</uu5string.pre>\n  </UU5.Bricks.Pre>\nsnippet code\n  <UU5.Bricks.Code>${1}</UU5.Bricks.Code>\n");

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(26);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(21)();
};

var update = __webpack_require__(22)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".uu5-codekit-ace-editor {\n  border: 1px solid #ccc;\n  border-radius: 2px;\n}\n.uu5-codekit-ace-editor.uu5-common-bg-style-underline {\n  border-width: 0 0 1px 0;\n  border-radius: 0;\n}\n.uu5-codekit-ace-editor.color-schema-red {\n  border-color: #E53935;\n}\n.uu5-codekit-ace-editor .ace_text-input-ios.ace_text-input-ios {\n  position: relative !important;\n  top: 0px !important;\n  left: 0px !important;\n}\n.uu5-codekit-ace-editor.ace-chrome .ace_gutter {\n  background-color: #f2f2f2;\n}\n.uu5-codekit-ace-editor-viewer {\n  margin-bottom: 0.5em;\n}\n.uu5-codekit-ace-editor-viewer .ace_gutter-cell.ace_warning {\n  background-image: inherit;\n}\n.uu5-codekit-ace-editor-viewer .ace_gutter-active-line {\n  background-color: rgba(0, 0, 0, 0) !important;\n}\n.uu5-codekit-ace-editor-marker {\n  position: absolute;\n}\n.uu5-codekit-ace-editor-marker-default {\n  background-color: #fff9c4;\n}\n[class^=\"ace_uu5_issue\"],\n[class*=\" ace_uu5_issue\"] {\n  cursor: pointer;\n}\n", ""]);



/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(28);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(21)();
};

var update = __webpack_require__(22)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".uu5-codekit-code-editor:after {\n  display: block;\n  position: relative;\n  content: '';\n  clear: both;\n}\n.uu5-codekit-code-editor .uu5-forms-message {\n  margin-top: -4px;\n}\n", ""]);



/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(30);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(21)();
};

var update = __webpack_require__(22)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(13);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g04_bricks__WEBPACK_IMPORTED_MODULE_2__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

//@@viewOn:imports



var EditationComponent = uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Component.lazy( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
  return regeneratorRuntime.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return SystemJS.import("uu5g04-bricks");

        case 2:
          _context.next = 4;
          return SystemJS.import("uu5g04-forms");

        case 4:
          _context.next = 6;
          return SystemJS.import("uu5g04-bricks-editable");

        case 6:
          return _context.abrupt("return", Promise.resolve().then(function () {
            return _interopRequireWildcard(__webpack_require__(32));
          }));

        case 7:
        case "end":
          return _context.stop();
      }
    }
  }, _callee);
}))); //@@viewOff:imports

var editationLazyLoaded = false;
var Uu5String = uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.EditableMixin, uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.NestingLevelMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _lib_js__WEBPACK_IMPORTED_MODULE_0__["default"].app + ".Uu5String",
    nestingLevelList: uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Environment.getNestingLevelList("bigBoxCollection", "inline"),
    classNames: {
      main: _lib_js__WEBPACK_IMPORTED_MODULE_0__["default"].css + "-uu5-string"
    },
    editMode: {
      name: {
        en: "Uu5String",
        cs: "Uu5String"
      },
      backgroundColor: "rgba(0,0,0,.2)",
      color: "rgba(0,0,0,.87)",
      highlightColor: "#CCCCCC"
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    uu5string: uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.PropTypes.string
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      uu5string: undefined,
      contentEditable: true
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    return {
      editationLazyLoaded: false
    };
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  onBeforeForceEndEditation_: function onBeforeForceEndEditation_() {
    return this._editableComponent ? this._editableComponent.getPropsToSave() : undefined;
  },
  //@@viewOff:overriding
  //@@viewOn:private
  _registerNull: function _registerNull(inst) {
    // unmount of component means that suspense is loaded and component should be rendered
    if (!inst) {
      this.setState(function (state) {
        if (state.editationLazyLoaded) return; // Edit component is loaded - need to set to static variable because other Edit component does not render fallback component
        // editationLazyLoaded is stored in both state and static variable for cases such as when more edit modes are loaded at the same time

        editationLazyLoaded = true;
        return {
          editationLazyLoaded: true
        };
      });
    }
  },
  _isEditationLazyLoaded: function _isEditationLazyLoaded() {
    return editationLazyLoaded;
  },
  _renderEditationMode: function _renderEditationMode(isInline) {
    return uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Suspense, {
      fallback: uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create("span", {
        ref: this._registerNull
      })
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(EditationComponent, _extends({}, this.getMainPropsToPass(), {
      component: this,
      ref_: this._registerEditableComponent,
      modalEditation: !isInline
    })));
  },
  _registerEditableComponent: function _registerEditableComponent(component) {
    this._editableComponent = component;
  },
  _renderStandardContent: function _renderStandardContent() {
    var uu5string = this.props.uu5string;

    if (!uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.REGEXP.uu5string.test(uu5string)) {
      uu5string =  true ? uu5string : undefined;
    }

    return uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Bricks.Span, _extends({
      content: uu5string
    }, this.getMainPropsToPass()));
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var isInline = uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Environment.nestingLevelList.indexOf("box") > uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Environment.nestingLevelList.indexOf(this.getNestingLevel());
    return uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Fragment, null, !isInline || !this.state.editation || !this._isEditationLazyLoaded() ? this._renderStandardContent() : null, this.state.editation ? this._renderEditationMode(isInline) : null);
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (Uu5String);

/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizedEditable", function() { return AuthorizedEditable; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var _css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(33);
/* harmony import */ var _editable_lsi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(34);
/* harmony import */ var _uu5_string_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(35);
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n        margin-top: -1px;\n      "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

//@@viewOn:imports




 //@@viewOff:imports

var Lsi = _editable_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].uu5string;
var DEFAULT_PROPS_MAP = {
  uu5string: undefined
};
var MAIN_CLASS_NAME = _lib_js__WEBPACK_IMPORTED_MODULE_1__["default"].css + "-uu5-string-editable";
var NAME = _lib_js__WEBPACK_IMPORTED_MODULE_1__["default"].app + ".Uu5StringEditable";
var AuthorizedEditable = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].NestingLevelMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: NAME,
    classNames: {
      main: MAIN_CLASS_NAME,
      editor: _css__WEBPACK_IMPORTED_MODULE_2__["default"].css(_templateObject())
    },
    lsi: function lsi() {
      return Lsi;
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    component: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.isRequired,
    modalEditation: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      component: null,
      modalEditation: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    var values = this.props.component.getEditablePropsValues(Object.keys(DEFAULT_PROPS_MAP));
    return _objectSpread({}, values, {
      editModalOpen: false
    });
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  getPropsToSave: function getPropsToSave() {
    return this._getPropsToSave();
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:private
  _registerEditToolbar: function _registerEditToolbar(toolbar) {
    this._editToolbar = toolbar;
  },
  _registerEditModal: function _registerEditModal(ref) {
    this._editModalRef = ref;
  },
  _onEndEditation: function _onEndEditation() {
    this.props.component.endEditation(this._getPropsToSave());
  },
  _getPropsToSave: function _getPropsToSave(propsToSave) {
    if (propsToSave === undefined) propsToSave = _objectSpread({}, this.state);

    for (var propName in DEFAULT_PROPS_MAP) {
      if (propsToSave[propName] !== undefined && propsToSave[propName] === DEFAULT_PROPS_MAP[propName]) {
        propsToSave[propName] = undefined;
      }
    }

    if (propsToSave.uu5string) {
      propsToSave.uu5string = this._stringToUu5String(propsToSave.uu5string);
    }

    return propsToSave;
  },
  _uu5StringToString: function _uu5StringToString(value) {
    return value ? value.replace(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].REGEXP.uu5string, "") : value;
  },
  _stringToUu5String: function _stringToUu5String(value) {
    if (value) {
      value = value.replace(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].REGEXP.uu5string, "");
      return "<uu5string/>".concat(value);
    } else {
      return "<uu5string/>";
    }
  },
  _onSaveModal: function _onSaveModal(_ref) {
    var values = _ref.values;
    this.props.component.endEditation(this._getPropsToSave(values));

    this._editModalRef.close();
  },
  _onCancelModal: function _onCancelModal() {
    this.props.component.endEditation();

    this._editModalRef.close();
  },
  _onChangeUu5String: function _onChangeUu5String(_ref2) {
    var value = _ref2.value;
    this.setState({
      uu5string: value
    });
  },
  _renderEditor: function _renderEditor() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_uu5_string_editor__WEBPACK_IMPORTED_MODULE_4__["default"], {
      name: "uu5string",
      value: this._uu5StringToString(this.state.uu5string),
      className: this.getClassName("editor"),
      format: "pretty",
      onBlur: this._onChangeUu5String
    });
  },
  _renderInlineEditation: function _renderInlineEditation() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["BricksEditable"].Toolbar, {
      onClose: this._onEndEditation
    }, this._renderEditor());
  },
  _renderEditModal: function _renderEditModal() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].ContextModal, {
      shown: true,
      size: "max",
      ref_: this._registerEditModal,
      header: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].ContextHeader, {
        content: this.getLsiComponent("modalHeader"),
        info: this.getLsiComponent("modalInfo")
      }),
      footer: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].ContextControls, {
        buttonSubmitProps: {
          content: this.getLsiComponent("modalSubmitButton")
        },
        buttonCancelProps: {
          content: this.getLsiComponent("modalCancelButton")
        }
      })
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].ContextForm, {
      onSave: this._onSaveModal,
      onCancel: this._onCancelModal
    }, this._renderEditor()));
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    if (this.props.modalEditation) {
      return this._renderEditModal();
    } else {
      return this._renderInlineEditation();
    }
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (AuthorizedEditable);

/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);

uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Css.createCssModule("uu-codekit");
/* harmony default export */ __webpack_exports__["default"] = (uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Css["uu-codekit"]);

/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditableLsi", function() { return EditableLsi; });
//@@viewOn:revision
// coded: Martin Mach, 22.09.2020
// reviewed: Filip Janovský, 22.09.2020
//@@viewOff:revision
var EditableLsi = {
  componentPropsLabel: {
    cs: "Základní vlastnosti",
    en: "Basic properties",
    sk: "Základné vlastnosti",
    uk: "Основні властивості"
  },
  advancedPropsLabel: {
    cs: "Pokročilé",
    en: "Advanced",
    sk: "Vedľajšie",
    uk: "Розширений"
  },
  displayPropsLabel: {
    cs: "Vzhled",
    en: "Visual",
    sk: "Vzhľad",
    uk: "Зовнішній вигляд"
  },
  annotationsPropsLabel: {
    cs: "Anotace",
    en: "Annotations"
  },
  markersPropsLabel: {
    cs: "Zvýraznění",
    en: "Highlights"
  },
  headerPlaceholder: {
    cs: "Hlavička",
    en: "Header"
  },
  footerPlaceholder: {
    cs: "Patička",
    en: "Footer"
  },
  defaultLevel: {
    cs: "Výchozí úroveň",
    en: "Default Level"
  },
  showHeaderCheckboxLabel: {
    cs: "Hlavička",
    en: "Header"
  },
  showFooterCheckboxLabel: {
    cs: "Patička",
    en: "Footer"
  },
  underlineTooltip: {
    cs: "Podtržení hlavičky",
    en: "Header Underline"
  },
  level: {
    cs: "Úroveň",
    en: "Level"
  },
  levelTooltip: {
    cs: "Úroveň hlavičky",
    en: "Header Level"
  },
  uu5string: {
    modalHeader: {
      cs: "Upravit Uu5String",
      en: "Edit Uu5String"
    },
    modalInfo: {
      cs: "Některé komponenty definové v uu5Stringu nemusí být vyrenderovány kvůli jejich nesting levelu.",
      en: "Note that some of the components, that are inserted in the uu5String, don't have to be rendered due to their and their parents' nesting level."
    },
    modalSubmitButton: {
      cs: "Uložit",
      en: "Save"
    },
    modalCancelButton: {
      cs: "Zrušit",
      en: "Cancel"
    }
  },
  codeViewer: {
    modalHeader: {
      cs: "Upravit CodeViewer",
      en: "Edit CodeViewer"
    },
    codeStyleLabel: {
      cs: "Programovací jazyk",
      en: "Progamming language"
    },
    focusLabel: {
      cs: "Automaticky nafocusovat",
      en: "Focus automatically"
    },
    highlightActiveLineLabel: {
      cs: "Zvýraznit celý nafocusovaný řádek",
      en: "Highlight focused line"
    },
    themeLabel: {
      cs: "Motiv zobrazení",
      en: "Display theme"
    },
    fontSizeLabel: {
      cs: "Velikost písma",
      en: "Font size"
    },
    showGutterLabel: {
      cs: "Zobrazit číslování řádků",
      en: "Show line numbers"
    },
    showBorderLabel: {
      cs: "Zobrazit ohraničení",
      en: "Show border"
    },
    indentLabel: {
      cs: "Odsazení (počet mezer)",
      en: "Indentation (number of spaces)"
    },
    showPrintMarginLabel: {
      cs: "Přidat odsazení při tisku",
      en: "Add indent on print"
    },
    showPrintMarginMessage: {
      cs: "Pokud je povoleno, tak se editoru při tisku přidá okolo margin.",
      en: "If enabled, margins are shown around the editor during printing."
    },
    annotationsLabel: {
      cs: "Anotace",
      en: "Annotations"
    },
    annotationsMessage: {
      cs: "<uu5string />P\u0159idejte anotace k libovoln\xE9mu \u0159\xE1dku v editoru. Zad\xE1vaj\xED se jako objekty v poli. Ka\u017Ed\xE1 anotace m\xE1 \u0159\xE1dek a sloupec.<br />Nap\u0159. <UU5.Bricks.Code>[{ \"row\": 1, \"column\": 3, \"text\": \"informa\u010Dn\xED text\", \"type\": \"info\" }]</UU5.Bricks.Code>",
      en: "<uu5string />Add annotations to any line in the editor. Defined as an array of objects. Each annotation has it's row and column.<br />E.g. <UU5.Bricks.Code>[{ \"row\": 1, \"column\": 3, \"text\": \"info text\", \"type\": \"info\" }]</UU5.Bricks.Code>"
    },
    annotationsInfo: {
      cs: "Anotace se zobrazí po opuštění editačního režimu",
      en: "Annotations will show up after exiting the editation mode."
    },
    markersLabel: {
      cs: "Zvýraznění",
      en: "Highlights"
    },
    invalidJson: {
      cs: "Zadaný JSON není validní.",
      en: "Invalid JSON.",
      sk: "Zadaný JSON nie je validný."
    },
    markersMessage: {
      cs: "<uu5string />\n        Zv\xFDrazn\u011Bte libovolnou \u010D\xE1st k\xF3du. Jednotliv\xE9 \xFAseky zv\xFDrazn\u011Bn\xED se zapisuj\xED jako objekty v poli. Ka\u017Ed\xFD \xFAsek se definuje t\u011Bmito kl\xED\u010Di:\n        <UU5.Bricks.Ul>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[\u010D\xEDslo] startRow</UU5.Bricks.Code> - po\u010D\xE1te\u010Dn\xED \u0159\xE1dek (\u010D\xEDslov\xE1no od 1)\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[\u010D\xEDslo] startColumn</UU5.Bricks.Code> - po\u010D\xE1te\u010Dn\xED sloupec (\u010D\xEDslov\xE1no od 1)\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[\u010D\xEDslo] endRow</UU5.Bricks.Code> - koncov\xFD \u0159\xE1dek\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[\u010D\xEDslo] endColumn</UU5.Bricks.Code> - koncov\xFD sloupec\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[string] colorSchema</UU5.Bricks.Code> - barevn\xE9 sch\xE9ma pou\u017Eito pro zv\xFDrazn\u011Bn\xED (viz <UU5.Bricks.Link href=\"https://uuapp.plus4u.net/uu-bookkit-maing01/ed11ec379073476db0aa295ad6c00178/book/page?code=UU5CommonColorSchemaMixin\" target=\"_blank\">seznam barevn\xFDch sch\xE9mat</UU5.Bricks.Link>)\n          </UU5.Bricks.Li>\n        </UU5.Bricks.Ul>\n        Pro zjednodu\u0161en\xED je mo\u017En\xE9 pou\u017E\xEDt i tyto typy z\xE1pisu:\n        <UU5.Bricks.Ul>\n          <UU5.Bricks.Li>\n            \u010D\xEDslo, nap\u0159. <UU5.Bricks.Code>5</UU5.Bricks.Code> - zv\xFDrazn\xED \u0159\xE1dek s dan\xFDm po\u0159adov\xFDm \u010D\xEDslem (ekvivalent pro <UU5.Bricks.Code>{ \"startRow\": \u010D\xEDslo }</UU5.Bricks.Code>)\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[\u0159\xE1dek, \"barevn\xE9 sch\xE9ma\"]</UU5.Bricks.Code>, nap\u0159. <UU5.Bricks.Code>[5, \"danger\"]</UU5.Bricks.Code> - zv\xFDrazn\xED dan\xFD \u0159\xE1dek pomoc\xED zadan\xE9ho barevn\xE9ho sch\xE9ma\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[\u0159\xE1dek1, \u0159\xE1dek2]</UU5.Bricks.Code>, nap\u0159. <UU5.Bricks.Code>[5, 8]</UU5.Bricks.Code> - zv\xFDrazn\xED \u0159\xE1dky od-do v\u010Detn\u011B\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[\u0159\xE1dek1, \u0159\xE1dek2, \"barevn\xE9 sch\xE9ma\"]</UU5.Bricks.Code>, nap\u0159. <UU5.Bricks.Code>[5, 8, \"danger\"]</UU5.Bricks.Code> - zv\xFDrazn\xED \u0159\xE1dky od-do v\u010Detn\u011B, pomoc\xED zadan\xE9ho barevn\xE9ho sch\xE9ma\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[\u0159\xE1dek1, sloupec1, \u0159\xE1dek2, sloupec2]</UU5.Bricks.Code>, nap\u0159. <UU5.Bricks.Code>[5, 10, 5, 20]</UU5.Bricks.Code> - zv\xFDrazn\xED text od-do v\u010Detn\u011B\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[\u0159\xE1dek1, sloupec1, \u0159\xE1dek2, sloupec2, \"barevn\xE9 sch\xE9ma\"]</UU5.Bricks.Code>, nap\u0159. <UU5.Bricks.Code>[5, 10, 5, 20, \"yellow\"]</UU5.Bricks.Code> - zv\xFDrazn\xED text od-do v\u010Detn\u011B, pomoc\xED zadan\xE9ho barevn\xE9ho sch\xE9ma\n          </UU5.Bricks.Li>\n        </UU5.Bricks.Ul>",
      en: "<uu5string />\n        Highlight parts of the code. Highlight segment is defined as an object in an array. Each segment is defined with the following keys:\n        <UU5.Bricks.Ul>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[number] startRow</UU5.Bricks.Code> - initial row (numbered from 1)\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[number] startColumn</UU5.Bricks.Code> - initial column (numbered from 1)\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[number] endRow</UU5.Bricks.Code> - final row\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[number] endColumn</UU5.Bricks.Code> - final column\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[string] colorSchema</UU5.Bricks.Code> - color schema used for highlighting (see <UU5.Bricks.Link href=\"https://uuapp.plus4u.net/uu-bookkit-maing01/ed11ec379073476db0aa295ad6c00178/book/page?code=UU5CommonColorSchemaMixin\" target=\"_blank\">list of color schemas</UU5.Bricks.Link>)\n          </UU5.Bricks.Li>\n        </UU5.Bricks.Ul>\n        To make the insertion easier, the array item can also be inserted in the folowing ways:\n        <UU5.Bricks.Ul>\n          <UU5.Bricks.Li>\n            number, e.g. 5 \u2013 highlights a row with the given order number (equivalent for <UU5.Bricks.Code>{ \"startRow\": number }</UU5.Bricks.Code>)\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[row, \"color schema\"]</UU5.Bricks.Code>, e.g. <UU5.Bricks.Code>[5, \"danger\"]</UU5.Bricks.Code> \u2013 highlights a row with the given color schema\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[row1, row2]</UU5.Bricks.Code>, e.g. <UU5.Bricks.Code>[5, 8]</UU5.Bricks.Code> \u2013 highlights rows including the from-to rows\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[row1, row2, \"color schema\"]</UU5.Bricks.Code>, e.g. <UU5.Bricks.Code>[5, 8, \"danger\"]</UU5.Bricks.Code> \u2013 highlights rows including the from-to rows with the color schema\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[row1, column1, row2, column2]</UU5.Bricks.Code>, e.g. <UU5.Bricks.Code>[5, 10, 5, 20]</UU5.Bricks.Code> \u2013 highlights text including the from-to text\n          </UU5.Bricks.Li>\n          <UU5.Bricks.Li>\n            <UU5.Bricks.Code>[row1, column1, row2, column2, \"color schema\"]</UU5.Bricks.Code>, e.g. <UU5.Bricks.Code>[5, 10, 5, 20, \"yellow\"]</UU5.Bricks.Code> \u2013 highlights text including the from-to text with the color schema\n          </UU5.Bricks.Li>\n        </UU5.Bricks.Ul>"
    },
    wrapEnabledLabel: {
      cs: "Zalamování řádků",
      en: "Wrap rows"
    },
    heightLabel: {
      cs: "Výška",
      en: "Height"
    },
    heightMessage: {
      cs: "Hodnotu zadejte jako číslo s jednotkami. Pokud jednotky nejsou definovány, hodnota se aplikuje v pixelech.",
      en: "Define the value as a number with units. If the units aren't defined, the value will be aplied with pixel unit."
    },
    widthLabel: {
      cs: "Šířka",
      en: "Width"
    },
    widthMessage: {
      cs: "Hodnotu zadejte jako číslo s jednotkami. Pokud jednotky nejsou definovány, hodnota se aplikuje v pixelech.",
      en: "Define the value as a number with units. If the units aren't defined, the value will be aplied with pixel unit."
    },
    rowsLabel: {
      cs: "Fixní počet řádků",
      en: "Fixed number of rows"
    },
    minRowsLabel: {
      cs: "Minimální počet řádků",
      en: "Minimum number of rows"
    },
    maxRowsLabel: {
      cs: "Maximální počet řádků",
      en: "Maximum number of rows"
    }
  },
  resetButton: {
    cs: "Reset",
    en: "Reset"
  }
};
/* harmony default export */ __webpack_exports__["default"] = (EditableLsi);

/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);
/* harmony import */ var _code_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _ace_mode_uu5_uu5string_parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(36);
/* harmony import */ var _uu5_string_editor_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(44);
/* harmony import */ var _uu5_string_editor_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_uu5_string_editor_less__WEBPACK_IMPORTED_MODULE_4__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }






var Uu5StringEditor = uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.Common.VisualComponent.create({
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.Common.BaseMixin],
  //@@viewOn:statics
  statics: {
    tagName: _lib_js__WEBPACK_IMPORTED_MODULE_0__["default"].app + ".Uu5StringEditor",
    classNames: {
      main: _lib_js__WEBPACK_IMPORTED_MODULE_0__["default"].css + "-uu5string-editor"
    },
    lsi: {
      invalidUu5String: {
        cs: "Zadaný uu5string není validní.",
        en: "Invalid uu5string.",
        sk: "Zadaný uu5string nie je validný."
      }
    },
    opt: {
      hoc: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    format: uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.PropTypes.oneOf(["pretty", "minified", "default"]),
    valueFormat: uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.PropTypes.oneOf(["pretty", "minified", "default"])
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      format: "default",
      valueFormat: "default"
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    var onFormat = this._getFormat();

    var valueFormat = this._getValueFormat(this.props);

    var value = typeof onFormat === "function" ? onFormat({
      value: this.props.value,
      indent: this.props.indent
    }) : this.props.value;
    return {
      value: value,
      onFormat: onFormat,
      getValueFormat: valueFormat
    };
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    var newState = {};
    var updated = false;

    if (this.props.format !== nextProps.format) {
      updated = true;
      newState.onFormat = this._getFormat(nextProps);
    }

    if (this.props.valueFormat !== nextProps.valueFormat) {
      updated = true;
      newState.getValueFormat = this._getValueFormat(nextProps);
    }

    var onFormat = newState.onFormat || this.state.onFormat;

    if (this.props.value !== nextProps.value) {
      updated = true;
      newState.value = typeof onFormat === "function" ? onFormat({
        value: nextProps.value,
        indent: nextProps.indent || this.props.indent
      }) : nextProps.value;
    }

    if (updated) {
      this.setState(newState);
    }

    return this;
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _validateUu5String: function _validateUu5String(data) {
    var result;

    if (data.value && !this._isValidUu5StringDeep("<uu5string/>" + data.value)) {
      result = {
        feedback: "error",
        message: this.getLsiComponent("invalidUu5String"),
        value: data.value
      };
    } else {
      result = {
        feedback: "success",
        message: null,
        value: data.value
      };
    }

    return result;
  },
  _isValidUu5StringDeep: function _isValidUu5StringDeep(uu5string) {
    // TODO Use UU5.Common.UU5String.isValid when it supports deep validation.
    // Until then we'll use modified parser that is used by Ace Editor for
    // validating uu5string syntax (because it supports deep validation).
    var valid = true;
    var parser = new _ace_mode_uu5_uu5string_parser_js__WEBPACK_IMPORTED_MODULE_3__["default"]({
      entityMap: this._getSupportedHtmlEntities(),
      issueReporter: {
        error: function error(message, parsingContext) {
          valid = false;
        }
      }
    });
    parser.parse(uu5string);
    return valid;
  },
  _getSupportedHtmlEntities: function _getSupportedHtmlEntities() {
    var uu5AllEntities = uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.Environment.textEntityMap._htmlEntityMap.items;
    var uu5EntityFilteredKeys = Object.keys(uu5AllEntities).filter(function (it) {
      return !it.match(/^&#/);
    });
    var uu5HtmlEntities = {};

    for (var i = 0; i < uu5EntityFilteredKeys.length; ++i) {
      var key = uu5EntityFilteredKeys[i];
      uu5HtmlEntities[key.substr(1, key.length - 2)] = uu5AllEntities[key];
    }

    return uu5HtmlEntities;
  },
  _getFormat: function _getFormat() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    var onFormat;

    switch (props.format) {
      case "pretty":
        onFormat = this._beautify;
        break;

      case "minified":
        onFormat = this._minify;
        break;

      default:
        onFormat = null;
    }

    return onFormat;
  },
  _getValueFormat: function _getValueFormat() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    var onValueFormat;

    switch (props.valueFormat) {
      case "pretty":
        onValueFormat = this._beautify;
        break;

      case "minified":
        onValueFormat = this._minify;
        break;

      default:
        onValueFormat = null;
    }

    return onValueFormat;
  },
  _splitOnTags: function _splitOnTags(str) {
    return str.split(/(<\/?[-\w.]+(?:\s+\w+(?:\s*=\s*(?:(?:"(?:\\.|[^"])*")|(?:'(?:\\.|[^'])*')|[^>\s]+))?)*\s*\/?>)/g).filter(function (line) {
      return line.trim() !== "";
    });
  },
  _beautify: function _beautify(input) {
    if (!input.value) return input.value;
    var depth = 0;
    var indent = input.indent || 2;

    var r = this._splitOnTags(input.value);

    r = r.map(function (item) {
      item = item.trim();
      var line;
      if (item.indexOf("</") === 0 && depth > 0) depth--;
      line = repeat(" ", indent * depth) + item;
      if (item[0] === "<" && item[1] !== "/" && item[item.length - 2] !== "/" && item[item.length - 1] === ">") depth++;
      return line;
    }).join("\n");
    return r;
  },
  _minify: function _minify(input) {
    if (!input.value) return input.value;
    return this._splitOnTags(input.value).map(function (item) {
      return item.trim();
    }).join("");
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_2___default.a.Common.Element.create(_code_editor_js__WEBPACK_IMPORTED_MODULE_1__["default"], _extends({
      enableBasicAutocompletion: true
    }, this.props, {
      value: this.state.value,
      codeStyle: "uu5",
      onFormat: this.state.onFormat,
      getValueFormat: this.state.getValueFormat,
      onValidate: this.props.onValidate || this._validateUu5String
    }));
  } //@@viewOff:render

});

function repeat(txt, num) {
  if (num <= 0) return "";
  if (num === 1) return txt;
  var p = repeat(txt, num >> 1);
  return p + p + (num & 1 ? txt : "");
}

/* harmony default export */ __webpack_exports__["default"] = (Uu5StringEditor);

/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37);
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(40);
/* harmony import */ var _uu5_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(43);
/* harmony import */ var _uu5_data_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(42);
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }





/**
 * Parses uu5string deeply (attributes with uu5string, nested strings inside of uu5json, ...).
 * Errors / warning are reported using issueReporter class, they're not thrown. Reported
 * issues contain message, string being parsed and index where the issue occurred.
 */

var Parser = /*#__PURE__*/function () {
  function Parser() {
    var _this = this;

    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _classCallCheck(this, Parser);

    this.issueReporter = opts.issueReporter || {};
    this.entityMap = opts.entityMap || {};
    this._buildItem = this._buildItem.bind(this);
    this._nestedIssueReporter = {
      error: function error(message, parsingContext) {
        var _this$_reconstructOri = _this._reconstructOriginalIssueLocation(parsingContext),
            index = _this$_reconstructOri.index,
            string = _this$_reconstructOri.string;

        _this.issueReporter.error && _this.issueReporter.error(message, {
          index: index,
          string: string
        });
      },
      warning: function warning(message, parsingContext) {
        var _this$_reconstructOri2 = _this._reconstructOriginalIssueLocation(parsingContext),
            index = _this$_reconstructOri2.index,
            string = _this$_reconstructOri2.string;

        _this.issueReporter.warning && _this.issueReporter.warning(message, {
          index: index,
          string: string
        });
      }
    };
  }

  _createClass(Parser, [{
    key: "parse",
    value: function parse(uu5string) {
      var modUu5string = "<uu5string/>" + uu5string;
      var modParsingContext = {
        string: uu5string,
        index: 0,
        revertToUnparsedValueFns: [function (string) {
          return string.substr("<uu5string/>".length);
        }]
      };
      var children;

      try {
        children = _tools_js__WEBPACK_IMPORTED_MODULE_0__["default"].parseUu5String(modUu5string, this._buildItem, modParsingContext, this._nestedIssueReporter);
      } catch (e) {
        if (e.context) {
          this._nestedIssueReporter.error(e.message, e.context);

          children = e.partialResult || [];
        } else {
          throw e;
        }
      }

      return children;
    }
  }, {
    key: "_buildItem",
    value: function _buildItem(tag, propsString, children, isPairedTag, initFn, parent, parsingContext) {
      var _this2 = this;

      var result;

      if (!tag) {
        // text
        this._validateEntities(children, parsingContext);

        result = children;
      } else {
        // tag
        var attrs = {};

        var attrsParsingContext = _objectSpread({}, parsingContext, {
          index: parsingContext.index + 1 + tag.length
        });

        var buildAttr = function buildAttr(attr, parsingContext) {
          attrs[attr.name] = attr.rawValue;

          if (attr.rawValue) {
            if (attr.rawValue.match(_constants_js__WEBPACK_IMPORTED_MODULE_1__["UU5JSON_REGEXP"])) {
              // re-parse uu5json with validation of nested uu5strings in JSON.
              _this2._parseNestedStringsInUu5Json(attr.rawValue, parsingContext);
            } else if (!attr.rawValue.match(_constants_js__WEBPACK_IMPORTED_MODULE_1__["UU5STRING_REGEXP"]) && !attr.rawValue.match(_constants_js__WEBPACK_IMPORTED_MODULE_1__["UU5DATA_REGEXP"])) {
              _this2._validateEntities(attr.rawValue, parsingContext);
            }
          }

          return attr;
        };

        try {
          _tools_js__WEBPACK_IMPORTED_MODULE_0__["default"].parseUU5StringProps(propsString, this._buildItem, buildAttr, attrsParsingContext, this._nestedIssueReporter);
        } catch (e) {
          if (e.context) {
            this._nestedIssueReporter.error(e.message, e.context);
          } else {
            throw e;
          }
        }

        result = {
          tag: tag,
          attrs: attrs,
          children: children
        };
      }

      return result;
    }
  }, {
    key: "_parseNestedStringsInUu5Json",
    value: function _parseNestedStringsInUu5Json(uu5json, parentParsingContext) {
      var _this3 = this;

      _uu5_json_js__WEBPACK_IMPORTED_MODULE_2__["default"].parse(uu5json, function (attrKey, attrValue, attrValueParsingContext) {
        try {
          if (typeof attrValue !== "string") return;

          if (attrValue.match(_constants_js__WEBPACK_IMPORTED_MODULE_1__["UU5STRING_REGEXP"])) {
            var modText = attrValue.replace(/^\s+/, "");
            var modParsingContext = {
              string: modText,
              index: attrValue.length - modText.length,
              parentParsingContext: attrValueParsingContext
            };
            _tools_js__WEBPACK_IMPORTED_MODULE_0__["default"].parseUu5String(modText, _this3._buildItem, modParsingContext, _this3._nestedIssueReporter);
          } else if (attrValue.match(_constants_js__WEBPACK_IMPORTED_MODULE_1__["UU5JSON_REGEXP"])) {
            _this3._parseNestedStringsInUu5Json(attrValue, attrValueParsingContext);
          } else if (attrValue.match(_constants_js__WEBPACK_IMPORTED_MODULE_1__["UU5DATA_REGEXP"])) {
            _uu5_data_js__WEBPACK_IMPORTED_MODULE_3__["default"].parse(attrValue, attrValueParsingContext);
          }
        } catch (e) {
          if (e.context) {
            _this3._nestedIssueReporter.error(e.message, e.context);
          } else {
            // don't throw on nested uu5json-s (let the parsing continue)
            // TODO Maybe throw because parsing errors have always e.context?
            console.error(e);
          }
        }
      }, parentParsingContext);
    }
  }, {
    key: "_reconstructOriginalIssueLocation",
    value: function _reconstructOriginalIssueLocation(errorContext) {
      var rootString = errorContext.string,
          rootIndex = errorContext.index;
      var stringUptoIssue = rootString.substr(0, rootIndex || 0);
      var context = errorContext.parentParsingContext;

      while (context) {
        var _context = context,
            string = _context.string,
            index = _context.index,
            revertToUnparsedValueFns = _context.revertToUnparsedValueFns;

        if (revertToUnparsedValueFns) {
          stringUptoIssue = revertToUnparsedValueFns.reduceRight(function (result, fn) {
            return fn(result);
          }, stringUptoIssue);
        }

        stringUptoIssue = string.substr(0, index) + stringUptoIssue;
        rootString = context.string;
        context = context.parentParsingContext;
      }

      return {
        index: stringUptoIssue.length,
        string: rootString
      };
    }
  }, {
    key: "_validateEntities",
    value: function _validateEntities(text, parentParsingContext) {
      var _this4 = this;

      if (text) {
        text.replace(/&(\w+);/g, function (m, name, pos) {
          if (!(name in _this4.entityMap)) {
            _this4._nestedIssueReporter.warning("Entity ".concat(m, " at position ").concat(pos, " is not recognized."), {
              index: pos,
              string: text,
              parentParsingContext: parentParsingContext
            });
          }
        });
      }
    }
  }]);

  return Parser;
}();

/* harmony default export */ __webpack_exports__["default"] = (Parser);

/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(38);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(40);
/* harmony import */ var _uu5_environment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(41);
/* harmony import */ var _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(39);
/* harmony import */ var _uu5_data_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(42);
/* harmony import */ var _uu5_json_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(43);
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







var Tools = {
  /*
    Transform content into React components.
     @param content - array of UU5StringObjects, strings, numbers, booleans and UU5StringTemplates
    @param data - map with data for UU5String templates
    @param filterFn({tag, props}) - function to change tag and props used for rendering into components. Function is called for each descendant UU5StringObject before creation of React component. This function cannot change data of UU5StringObjects.
    @returns array of React components
   */
  contentToChildren: function contentToChildren(content, data, filterFn) {
    if (!content || !content.length) {
      return null;
    }

    return content.map(function (item) {
      return typeof item === "string" ? Tools.printTemplateToChildren(_uu5_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].textEntityMap.replace(item), data) : item.toChildren(data, filterFn);
    });
  },

  /*
    Transform content into string.
     @param content - array of UU5StringObjects, strings, numbers, booleans and UU5StringTemplates
    @param data - map with data for UU5String templates
    @param filterFn({tag, props}) - function to change tag and props used for printing into string. Function is called for each descendant UU5StringObject before print into string. This function cannot change data of UU5StringObjects.
    @returns string
  */
  contentToString: function contentToString(content, data, filterFn) {
    if (!content || !content.length) {
      return "";
    }

    if (typeof content === "string") {
      return Tools.printTemplateToString(content, data);
    }

    var result = "";
    content.forEach(function (item) {
      return result += typeof item === "string" ? Tools.printTemplateToString(item, data) : item.toString(data, filterFn);
    });
    return result;
  },
  printTemplateToString: function printTemplateToString(string, data) {
    if (!data) {
      return string;
    }

    var result = Tools._printTemplate(string, data);

    return result.length === 1 ? result[0] : result.join("");
  },
  printTemplateToChildren: function printTemplateToChildren(string, data) {
    if (!data) {
      return string;
    }

    var isChildren;

    var result = Tools._printTemplate(string, data, function (matchValue) {
      if (typeof matchValue === "string" && matchValue.match(_constants__WEBPACK_IMPORTED_MODULE_1__["UU5STRING_REGEXP"]) && Tools.isValidUU5String(matchValue)) {
        isChildren = true; // create component by _Tools.findComponent

        return Tools.parseUu5String(matchValue, Tools._buildReactComponent);
      }

      return matchValue;
    }); // result contains parsed UU5String - return array


    if (isChildren) return result;
    return result.length === 1 ? result[0] : result.join("");
  },
  _buildReactComponent: function _buildReactComponent(tag, propsString, children) {
    if (!tag) return children;
    var propsArray = propsString ? Tools.parseUU5StringProps(propsString, Tools._buildReactComponent) : [];
    var props = {};
    propsArray.forEach(function (item) {
      return props[item.name] = item.value;
    });
    return _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].findComponent(tag, props, children);
  },
  _printTemplate: function _printTemplate(string, data, matchHandler) {
    // check if string is single template - in this case return template result ( posible another type then string )
    // let isTemplate = string.match(CHECK_IS_TEMPLATE);
    var useMatchHandler = typeof matchHandler === "function";
    var result = [];
    var templateMatch = _constants__WEBPACK_IMPORTED_MODULE_1__["TEMPLATE_REG_EXP"].exec(string);
    var startIndex = 0;
    var endIndex = 0;
    /*
    template[1] - name
    template[2] - default value prefixed by :
    template[3] - default value
    */

    while (templateMatch) {
      var templateName = templateMatch[1];
      var value = void 0;
      endIndex = _constants__WEBPACK_IMPORTED_MODULE_1__["TEMPLATE_REG_EXP"].lastIndex - templateMatch[0].length;

      if (endIndex > startIndex) {
        result.push(string.substring(startIndex, endIndex));
      }

      startIndex = _constants__WEBPACK_IMPORTED_MODULE_1__["TEMPLATE_REG_EXP"].lastIndex;

      if (data[templateName]) {
        // check data
        var template = data[templateName];
        value = typeof template === "function" ? template() : template;
      } else if (_symbols__WEBPACK_IMPORTED_MODULE_0__["default"][templateName]) {
        // check symbols
        var _template = _symbols__WEBPACK_IMPORTED_MODULE_0__["default"][templateName];
        value = typeof _template === "function" ? _template() : _template;
      } else {
        // replace template by default value or empty string
        value = templateMatch[3] === undefined ? templateMatch[0] : templateMatch[3];
      }

      if (useMatchHandler) {
        var matchResult = matchHandler(value);

        if (Array.isArray(matchResult)) {
          matchResult.forEach(function (item) {
            return result.push(item);
          });
        } else {
          result.push(matchResult);
        }
      } else {
        result.push(value);
      }

      templateMatch = _constants__WEBPACK_IMPORTED_MODULE_1__["TEMPLATE_REG_EXP"].exec(string);
    } // add string after end of last match


    if (startIndex < string.length) {
      result.push(string.substring(startIndex));
    }

    return result;
  },
  isValidUU5String: function isValidUU5String(uu5string) {
    if (typeof uu5string !== "string") return false;

    try {
      Tools.parseUu5String(uu5string);
      return true;
    } catch (e) {
      return false;
    }
  },
  parseUu5String: function parseUu5String(uu5string, buildItem) {
    var parentParsingContext = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
    var issueReporter = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

    if (!uu5string || typeof uu5string !== "string" || uu5string.length === 0) {
      return [];
    }

    uu5string = uu5string.trim().replace(/\r\n/g, "\n");
    var tagsRegExp = _uu5_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].uu5StringTagsRegExp || null;
    var childStack = [{
      tag: "_root",
      children: [],
      index: 0
    }];
    var pointer = childStack[0];
    var cIndex = -1;
    var pIndex = 0;
    var pre = false;
    var parsingContext = {
      index: pIndex,
      string: uu5string,
      parentParsingContext: parentParsingContext
    };
    var matchS;
    var matchUu5String = uu5string.match(_constants__WEBPACK_IMPORTED_MODULE_1__["UU5STRING_REGEXP"]);

    if (matchUu5String) {
      // !!!!! Never put uu5stringRe to constants, otherwise it gets stuck - because of exec method on regexp
      // groups:
      //   comp name, attrs, -, -, -, -, -, -, self-closing, closing comp name
      //   invalid opening tag: comp name, partial attrs, -, -, -, -, -, -
      //   invalid closing tag: closing comp name
      var tagRe = new RegExp("".concat(_constants__WEBPACK_IMPORTED_MODULE_1__["TAG"], "|").concat(_constants__WEBPACK_IMPORTED_MODULE_1__["INVALID_OPENING_TAG"], "|").concat(_constants__WEBPACK_IMPORTED_MODULE_1__["INVALID_CLOSING_TAG"]), "g");
      pIndex = tagRe.lastIndex = matchUu5String[0].length;
      matchS = tagRe.exec(uu5string);

      var _loop = function _loop() {
        cIndex = matchS.index;

        if (cIndex > pIndex) {
          var head = uu5string.substring(pIndex, cIndex);
          var _text = head; // let text = pre ? Environment.textEntityMap.replaceHtmlEntity(head) : Environment.textEntityMap.replace(head);

          parsingContext.index = pIndex;
          pointer.children.push(typeof buildItem === "function" ? buildItem(null, null, _text, null, null, null, parsingContext) : _text);
        }

        var childTag = matchS[1] || matchS[9];
        var attrs = matchS[2];
        var isClosing = !!matchS[9];
        var isSelfClosing = !!matchS[8];
        var invalidOpeningTag = matchS[10]; // let invalidOpeningTagPartialAttrs = matchS[11];

        var invalidClosingTag = matchS[17];
        var isInvalid = !pre && (invalidOpeningTag || invalidClosingTag);
        var tagObj = void 0;

        if (pre && !(childTag === "uu5string.pre" && isClosing)) {
          var _text2 = matchS[0]; // TODO This is wrong (we could have matched something that looks like TAG which has </uu5string.pre> in its attribute - we should stop at that </uu5string.pre> whereas the current implementation will skip that and continue being in PRE).
          // let text = Environment.textEntityMap.replaceHtmlEntity(matchS[0]);

          parsingContext.index = cIndex;
          pointer.children.push(typeof buildItem === "function" ? buildItem(null, null, _text2, null, null, null, parsingContext) : _text2);
        } else if (isInvalid) {
          parsingContext.index = cIndex;

          if (issueReporter) {
            if (invalidOpeningTag) {
              issueReporter.warning("Parsing opening tag ".concat(invalidOpeningTag, " failed at position ").concat(cIndex + matchS[0].length, " - expected attribute or closing bracket."), _objectSpread({}, parsingContext, {
                index: cIndex + matchS[0].length
              }));
            } else if (invalidClosingTag) {
              issueReporter.warning("Parsing closing tag ".concat(invalidClosingTag, " failed at position ").concat(cIndex + matchS[0].length, " - expected closing bracket."), _objectSpread({}, parsingContext, {
                index: cIndex + matchS[0].length
              }));
            }
          }

          var _text3 = matchS[0].substr(0, 2); // use only first few characters from match and re-parse to be backward compatible (which is also why we handle this just as a warning instead of real error)


          pointer.children.push(typeof buildItem === "function" ? buildItem(null, null, _text3, null, null, null, parsingContext) : _text3);
          pIndex = cIndex + _text3.length;
          tagRe.lastIndex = pIndex;
          matchS = tagRe.exec(uu5string);
          return "continue";
        } else {
          if (isClosing) {
            //closing tag
            tagObj = childStack.pop();

            if (tagObj.tag !== childTag) {
              var _err;

              var isOpenSooner = childStack.some(function (parentTag) {
                return parentTag.tag === childTag;
              });

              if (isOpenSooner) {
                // can be either unclosed tag or wrong closing tag
                _err = new Error("Invalid uu5string: Tag ".concat(tagObj.tag, " at position ").concat(tagObj.index, " is not closed."));
                parsingContext.tag = tagObj.tag;
                parsingContext.index = tagObj.index;
              } else {
                // more likely to be wrong closing tag (or typo in opening tag)
                _err = new Error("Invalid uu5string: Tag ".concat(childTag, " at position ").concat(cIndex, " is not open.") + (childStack.length ? " Did you mean </".concat(tagObj.tag, ">?") : ""));
                parsingContext.tag = childTag;
                parsingContext.index = cIndex;
              }

              _err.code = "uu5StringInvalid";
              _err.context = parsingContext;
              _err.partialResult = (childStack[0] || pointer).children;
              throw _err;
            }

            pointer = childStack[childStack.length - 1];

            if (pre) {
              pre = false;

              var _text4 = tagObj.children.join(""); // let text = Environment.textEntityMap.replaceHtmlEntity(tagObj.children.join(''));


              parsingContext.index = tagObj.index;
              pointer.children[pointer.children.length - 1] = typeof buildItem === "function" ? buildItem(tagObj.tag, null, _text4, null, null, null, parsingContext) : _text4;
            } else {
              if (tagObj.forbidden) {
                tagObj.children = "Error: Tag <".concat(tagObj.tag, " /> is not allowed.");
                tagObj.tag = "Error";
              }

              parsingContext.index = tagObj.index;
              pointer.children[pointer.children.length - 1] = typeof buildItem === "function" ? buildItem(tagObj.tag, tagObj.attrs, tagObj.children, true, null, null, parsingContext) : tagObj;
            }
          } else {
            pre = childTag === "uu5string.pre";
            tagObj = {
              tag: childTag,
              children: [],
              index: matchS.index
            };
            if (tagsRegExp && !tagsRegExp.test(childTag)) tagObj.forbidden = true;else if (attrs) {
              tagObj.attrs = attrs;
            }

            if (isSelfClosing) {
              //self-closing tag
              pre = false;
              parsingContext.index = cIndex;

              if (childTag.indexOf("uu5string.") === 0) {
                //meta-tag uu5string.*
                var s = Tools.execMetaTag(childTag, tagObj.attrs);
                if (s) s.forEach(function (item) {
                  return pointer.children.push(typeof buildItem === "function" ? buildItem(null, null, item, null, null, null, parsingContext) : item);
                });
              } else {
                pointer.children.push(typeof buildItem === "function" ? buildItem(tagObj.tag, tagObj.attrs, tagObj.children, false, null, null, parsingContext) : tagObj);
              }
            } else {
              //common tag
              pointer.children.push(tagObj);
              childStack.push(tagObj);
              pointer = tagObj;
            }
          }
        }

        pIndex = cIndex + matchS[0].length;
        matchS = tagRe.exec(uu5string);
      };

      while (matchS) {
        var _ret = _loop();

        if (_ret === "continue") continue;
      } // handle ending text


      if (pIndex < uu5string.length) {
        var text = uu5string.substr(pIndex); // text = pre ? Environment.textEntityMap.replaceHtmlEntity(text) : Environment.textEntityMap.replace(text);

        parsingContext.index = pIndex;
        pointer.children.push(typeof buildItem === "function" ? buildItem(null, null, text, null, null, null, parsingContext) : text);
      }

      if (childStack.length > 1) {
        var tagObj = childStack.pop();
        var err = new Error("Invalid uu5string: Tag ".concat(tagObj.tag, " at position ").concat(tagObj.index, " is not closed."));
        err.code = "uu5StringInvalid";
        parsingContext.tag = tagObj.tag;
        parsingContext.index = tagObj.index;
        err.context = parsingContext;
        err.partialResult = (childStack[0] || pointer).children;
        throw err;
      }
    } else {
      parsingContext.index = pIndex;
      pointer.children.push(typeof buildItem === "function" ? buildItem(null, null, uu5string, null, null, null, parsingContext) : uu5string);
    }

    return pointer.children;
  },
  parseUU5StringProps: function parseUU5StringProps(attrsString, buildItem, buildAttr) {
    var parentParsingContext = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
    var issueReporter = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
    var attrs = []; // group1 = separator
    // group2 = attribute name
    // group3 = name and value separator
    // group4 = attribute value
    // group5 = indication that attribute value is not wrapped into quotes / single quotes

    var attrsReg = new RegExp(_constants__WEBPACK_IMPORTED_MODULE_1__["ATTR_REGEXP"].source, "g");
    var matchAttrs = attrsReg.exec(attrsString);

    var _loop2 = function _loop2() {
      var separator = matchAttrs[1];
      var name = matchAttrs[2];
      var valueDelimiter = matchAttrs[3];
      var valueBoundaries = "";
      var value = true;
      var uu5DataKey = undefined;
      var valueType = null; // hold info if data is parsed from uu5string, uu5data or uu5json

      var matchValue = matchAttrs[4];
      var isUnquoted = !!matchAttrs[5];
      var revertToUnparsedValueFns = [];
      var matchValueIndex = matchAttrs.index + separator.length + name.length + (valueDelimiter || "").length;
      var parsingContext = {
        revertToUnparsedValueFns: revertToUnparsedValueFns,
        index: matchValueIndex,
        string: attrsString,
        parentParsingContext: parentParsingContext,
        prop: name,
        rawValue: matchValue
      };

      if (isUnquoted) {
        if (matchValue === "true") {
          //true
          value = true;
        } else if (matchValue === "false") {
          //false
          value = false;
        } else if (isFinite(matchValue)) {
          //number
          value = +matchValue;
        } else {
          //any other -> null
          value = null;
        }
      } else if (matchValue != null) {
        // unescape quoted value
        if (matchValue[0] === "'") {
          valueBoundaries = "'";
          matchValue = matchValue.substr(1, matchValue.length - 2).replace(/\\([\\'])/g, "$1");
          revertToUnparsedValueFns.push(function (input) {
            return valueBoundaries + input.replace(/(\\|')/g, "\\$1");
          });
        } else if (matchValue[0] === '"') {
          valueBoundaries = '"';
          matchValue = matchValue.substr(1, matchValue.length - 2).replace(/\\([\\"])/g, "$1");
          revertToUnparsedValueFns.push(function (input) {
            return valueBoundaries + input.replace(/(\\|")/g, "\\$1");
          });
        }

        var matchValueType = matchValue.match(_constants__WEBPACK_IMPORTED_MODULE_1__["ATTR_VALUE_TYPE_REGEXP"]);

        if (matchValueType[1]) {
          //uu5JSON
          valueType = "uu5json";
          value = _uu5_json_js__WEBPACK_IMPORTED_MODULE_5__["default"].parse(matchValue, null, parsingContext);
        } else if (matchValueType[2]) {
          //uu5String
          valueType = "uu5string";
          value = Tools.parseUu5String(matchValue, buildItem, parsingContext, issueReporter);
        } else if (matchValueType[3]) {
          //uu5Data
          valueType = "uu5data";
          var uu5DataKeyMatch = matchValue.match(_constants__WEBPACK_IMPORTED_MODULE_1__["UU5DATA_REGEXP"]);
          uu5DataKey = matchValue.replace(_constants__WEBPACK_IMPORTED_MODULE_1__["UU5DATA_REGEXP"], "");
          revertToUnparsedValueFns.push(function (input) {
            return uu5DataKeyMatch ? uu5DataKeyMatch[0] + input : input;
          });
          value = _uu5_data_js__WEBPACK_IMPORTED_MODULE_4__["default"].parse(matchValue, parsingContext);
        } else {
          //as-is
          if (name === "href") {
            var jsCodeMatch = matchValue.match(_constants__WEBPACK_IMPORTED_MODULE_1__["JSCODE_REGEXP"]);
            matchValue = matchValue.replace(_constants__WEBPACK_IMPORTED_MODULE_1__["JSCODE_REGEXP"], "");
            revertToUnparsedValueFns.push(function (input) {
              return jsCodeMatch ? jsCodeMatch[0] + input : input;
            });
          }

          value = matchValue;
        }
      }

      var attr = {
        name: name,
        value: value,
        valueDelimiter: valueDelimiter,
        separator: separator,
        valueBoundaries: valueBoundaries,
        valueType: valueType,
        uu5DataKey: uu5DataKey,
        rawValue: matchValue
      };
      if (typeof buildAttr === "function") attr = buildAttr(attr, parsingContext) || attr;
      attrs.push(attr);
      matchAttrs = attrsReg.exec(attrsString);
    };

    while (matchAttrs) {
      _loop2();
    }

    return attrs;
  },
  execMetaTag: function execMetaTag(tag, args) {
    //TODO implement each metaTag as separate function, call functions dynamically (witch safety keyword guard)
    var metaTag = tag.slice(10);
    var r = [];

    switch (metaTag) {
      case "now":
        r.push(_symbols__WEBPACK_IMPORTED_MODULE_0__["default"].now());
        break;

      case "codeHex32":
        r.push(_symbols__WEBPACK_IMPORTED_MODULE_0__["default"].idHex32());
        break;

      case "codeHex64":
        r.push(_symbols__WEBPACK_IMPORTED_MODULE_0__["default"].idHex64());
        break;

      default:
        r.push(null);
    }

    return r;
  },
  _escapeEntities: function _escapeEntities(text) {
    if (typeof text !== "string") return text; // TODO Maybe unescape emojis too.
    // NOTE Environment.textEntityMap doesn't have unescaping mechanism and it contains
    // multiple mappings to the same character, e.g. &lt; and &#060; are both mapped to ">".

    return text.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
  }
};
/* harmony default export */ __webpack_exports__["default"] = (Tools);

/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39);

var SYMBOLS = {
  now: function now() {
    var date = new Date();
    return _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["default"].toLocaleString(date, _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLanguage());
  },
  idHex32: function idHex32() {
    return _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["default"].generateUUID(32);
  },
  idHex64: function idHex64() {
    return _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["default"].generateUUID(64);
  }
};
/* harmony default export */ __webpack_exports__["default"] = (SYMBOLS);

/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REGEXP", function() { return REGEXP; });
var REGEXP = {
  uu5string: /^\s*<uu5string\s*\/>/,
  uu5stringTemplate: /\${([0-9a-zA-Z.\-_]+)\s*(:\s*([0-9a-zA-Z.\-_ ()\[\]<>\\\/]+))?}/,
  uu5json: /^\s*<uu5json\s*\/>/,
  uu5data: /^\s*<uu5data\s*\/>/,
  jsCode: /^(javascript:\s*)*/i
};
var REGEXP_XY = /[xy]/g;
var Tools = {};

Tools.getLanguage = function () {
  return "en"; // Environment.languages[0] ? Environment.languages[0].location || Environment.languages[0].language : navigator.language;
};

Tools.toLocaleString = function (date, country, opt) {
  // because of IE
  return date.toLocaleString(country, opt).replace(/\u200E/g, "");
};

Tools.error = function (msg, context) {
  // if (Environment.isProduction()) {
  //   console.error('For debugging use development mode.');
  // } else {
  console.error(msg, context);
};

Tools.generateUUID = function (length) {
  length = Math.max(length, 8);
  var uuidCore = "x4xxxyxx";
  var additionalCharLength = length - uuidCore.length;

  for (var i = 0; i < additionalCharLength; ++i) {
    if (i % 2 === 0) uuidCore = uuidCore + "x";else uuidCore = "x" + uuidCore;
  }

  var timeNum = new Date().getTime();

  if (window.performance && typeof window.performance.now === "function") {
    timeNum += performance.now(); //use high-precision timer if available
  }

  return uuidCore.replace(REGEXP_XY, function (char) {
    var r = (timeNum + Math.random() * 16) % 16 | 0;
    timeNum = Math.floor(timeNum / 16);
    return (char === "x" ? r : r & 0x3 | 0x8).toString(16);
  });
};

/* harmony default export */ __webpack_exports__["default"] = (Tools);

/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UU5STRING_REGEXP", function() { return UU5STRING_REGEXP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UU5JSON_REGEXP", function() { return UU5JSON_REGEXP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UU5DATA_REGEXP", function() { return UU5DATA_REGEXP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JSCODE_REGEXP", function() { return JSCODE_REGEXP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "COMPONENT_NAME", function() { return COMPONENT_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ATTR", function() { return ATTR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TAG", function() { return TAG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INVALID_OPENING_TAG", function() { return INVALID_OPENING_TAG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INVALID_CLOSING_TAG", function() { return INVALID_CLOSING_TAG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ATTR_REGEXP", function() { return ATTR_REGEXP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ATTR_VALUE_TYPE_REGEXP", function() { return ATTR_VALUE_TYPE_REGEXP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TEMPLATE_REG_EXP", function() { return TEMPLATE_REG_EXP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CHECK_IS_TEMPLATE", function() { return CHECK_IS_TEMPLATE; });
/* harmony import */ var _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39);
function _templateObject6() {
  var data = _taggedTemplateLiteral(["(", ")|(", ")|(", ")|"]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["</(", ")"]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["<(", ")((?:", ")*)"]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["<(", ")((?:", ")*)s*(/)?>|</(", ")>"], ["<(", ")((?:", ")*)\\s*(/)?>|</(", ")>"]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["(s+)([-w]+)(?:(s*=s*)(\"(?:\\.|[^\"\\])*\"|'(?:\\.|[^'\\])*'|([^\"'>s/][^>s/]*)))?"], ["(\\s+)([-\\w]+)(?:(\\s*=\\s*)(\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|([^\"'>\\s/][^>\\s/]*)))?"]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["[-w.]+"], ["[-\\w.]+"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }


var UU5STRING_REGEXP = _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["REGEXP"].uu5string;
var UU5JSON_REGEXP = _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["REGEXP"].uu5json;
var UU5DATA_REGEXP = _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["REGEXP"].uu5data;
var JSCODE_REGEXP = _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["REGEXP"].jsCode;
var COMPONENT_NAME = String.raw(_templateObject()); // TODO Make stricter matching of unquoted attribute value, e.g. now it can be
// <X attr=\"value<uu5json/>{}"/> resulting in
// tag `X` with attr `attr` with value `\"value<uu5json` and ending as self-closing tag, followed by text `{}"/>`

var ATTR = String.raw(_templateObject2()); // groups: attr separator, attr name, value separator, attr value, indication whether without quotes

var TAG = String.raw(_templateObject3(), COMPONENT_NAME, ATTR, COMPONENT_NAME); // groups: comp name, attrs, -, -, -, -, -, -, self-closing, closing comp name

var INVALID_OPENING_TAG = String.raw(_templateObject4(), COMPONENT_NAME, ATTR); // groups: comp name, partial attrs, -, -, -, -, -, -

var INVALID_CLOSING_TAG = String.raw(_templateObject5(), COMPONENT_NAME); // groups: closing comp name

var ATTR_REGEXP = new RegExp(ATTR); // groups: see ATTR

var ATTR_VALUE_TYPE_REGEXP = new RegExp(String.raw(_templateObject6(), _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["REGEXP"].uu5json.source, _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["REGEXP"].uu5string.source, _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["REGEXP"].uu5data.source)); // groups: uu5json, uu5string, uu5data

var TEMPLATE_REG_EXP = new RegExp(_uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["REGEXP"].uu5stringTemplate.source, "g");
var CHECK_IS_TEMPLATE = new RegExp("^".concat(_uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["REGEXP"].uu5stringTemplate.source, "$"));

/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var Environment = {
  uu5DataMap: {},
  textEntityMap: {}
};
/* harmony default export */ __webpack_exports__["default"] = (Environment);

/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UU5Data", function() { return UU5Data; });
/* harmony import */ var _uu5_environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41);
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(40);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var UU5Data = /*#__PURE__*/function () {
  function UU5Data() {
    _classCallCheck(this, UU5Data);
  }

  _createClass(UU5Data, null, [{
    key: "parse",
    value: function parse(uu5Data, parentParsingContext) {
      uu5Data = uu5Data.replace(_constants_js__WEBPACK_IMPORTED_MODULE_1__["UU5DATA_REGEXP"], "");
      var data = _uu5_environment_js__WEBPACK_IMPORTED_MODULE_0__["default"].uu5DataMap && _uu5_environment_js__WEBPACK_IMPORTED_MODULE_0__["default"].uu5DataMap[uu5Data];

      if (_typeof(data) === undefined) {
        console.warn("There is no component data in Environment.uu5DataMap for uu5Data: ".concat(uu5Data, " !"), {
          uu5Data: uu5Data
        });
      }

      return data;
    }
  }]);

  return UU5Data;
}();
/* harmony default export */ __webpack_exports__["default"] = (UU5Data);

/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UU5Json", function() { return UU5Json; });
/* harmony import */ var _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }


var UU5_JSON_REGEXP = /^\s*<uu5json\s*\/>/;
var UU5Json = /*#__PURE__*/function () {
  _createClass(UU5Json, null, [{
    key: "parse",
    value: function parse(uu5Json, onAttributeCallback, parentParsingContext) {
      var json = UU5Json.toJson(uu5Json);
      var value = null;

      try {
        value = JSON.parse(json);

        if (typeof onAttributeCallback === "function") {
          parseWithWalk(json, function (_ref) {
            var key = _ref.key,
                value = _ref.value,
                valueStartIndex = _ref.valueStartIndex,
                revertToUnparsedValueFns = _ref.revertToUnparsedValueFns;
            onAttributeCallback(key, value, {
              string: uu5Json,
              index: uu5Json.length - json.length + valueStartIndex,
              revertToUnparsedValueFns: revertToUnparsedValueFns,
              parentParsingContext: parentParsingContext
            });
          });
        }
      } catch (err) {
        if (!err.context) {
          _uu5_common_tools_js__WEBPACK_IMPORTED_MODULE_0__["default"].error("Error uu5JSON parse.", {
            uu5Json: json,
            cause: err
          });
          err.code = "uu5JsonInvalid";
          err.context = {
            json: json,
            index: uu5Json.length - json.length + Number((err.message.match(/position (\d+)/) || {})[1] || 0),
            string: uu5Json,
            parentParsingContext: parentParsingContext
          };
        }

        throw err;
      }

      return value;
    }
  }, {
    key: "toJson",
    value: function toJson(uu5Json) {
      return uu5Json.replace(UU5_JSON_REGEXP, "");
    }
  }]);

  function UU5Json(json) {
    _classCallCheck(this, UU5Json);

    this._uu5json = json;
    this._object = UU5Json.parse(json);
  }

  _createClass(UU5Json, [{
    key: "toUU5Json",
    value: function toUU5Json() {
      return this._uu5json;
    }
  }, {
    key: "toJson",
    value: function toJson() {
      return this._uu5json;
    }
  }, {
    key: "toObject",
    value: function toObject() {
      return this._object;
    }
  }, {
    key: "clone",
    value: function clone() {
      return new UU5Json(this._uu5json);
    }
  }]);

  return UU5Json;
}();

function parseWithWalk(string, onAttribute) {
  // NOTE Assumes that string is valid JSON.
  // https://www.json.org/
  var index = skipWhitespace(string, 0);
  parseValue(string, index, "", onAttribute);
}

function parseValue(text, i, parentKey, onAttribute) {
  var startIndex = i;
  var m;

  if (text[i] === "{") {
    // object
    var obj = {};
    var first = true;
    ++i;

    while (true) {
      var hasComma = false;
      i = skipWhitespace(text, i);

      if (!first && text[i] !== "}") {
        if (text[i] === ",") {
          hasComma = true;
          i = skipWhitespace(text, i + 1);
        } else {
          throwError("Expected ',' or '}'", i, text);
        }
      } else {
        first = false;
      }

      if (text[i] === '"') {
        var _parseString = parseString(text, i),
            key = _parseString.value,
            index = _parseString.endIndex;

        index = skipWhitespace(text, index);
        if (text[index] !== ":") throwError("Expected ':'", index, text);
        index = skipWhitespace(text, index + 1);
        var fullKey = (parentKey ? parentKey + "." : "") + key;

        var _parseValue = parseValue(text, index, fullKey, onAttribute),
            value = _parseValue.value,
            valueStartIndex = _parseValue.startIndex,
            valueEndIndex = _parseValue.endIndex,
            revertToUnparsedValueFns = _parseValue.revertToUnparsedValueFns;

        onAttribute({
          key: fullKey,
          value: value,
          valueStartIndex: valueStartIndex,
          valueEndIndex: valueEndIndex,
          revertToUnparsedValueFns: revertToUnparsedValueFns
        });
        i = valueEndIndex;
        obj[key] = value;
      } else if (text[i] === "}") {
        if (hasComma) throwError("Expected '\"' due to previous comma", i, text);
        return {
          value: obj,
          startIndex: startIndex,
          endIndex: i + 1
        };
      } else {
        throwError("Expected '}' or '\"'", i, text);
      }
    }
  } else if (text[i] === "[") {
    // array
    var list = [];
    var _first = true;
    var arrayIndex = -1;
    ++i;

    while (true) {
      ++arrayIndex;
      var _hasComma = false;
      i = skipWhitespace(text, i);

      if (!_first && text[i] !== "]") {
        if (text[i] === ",") {
          _hasComma = true;
          i = skipWhitespace(text, i + 1);
        } else {
          throwError("Expected ',' or ']'", i, text);
        }
      } else {
        _first = false;
      }

      if (text[i] === "]") {
        if (_hasComma) throwError("Expected array item due to previous comma", i, text);
        return {
          value: list,
          startIndex: startIndex,
          endIndex: i + 1
        };
      } else {
        var _key = arrayIndex + "";

        var _fullKey = (parentKey ? parentKey + "." : "") + _key;

        var _parseValue2 = parseValue(text, i, _fullKey, onAttribute),
            _value = _parseValue2.value,
            _valueStartIndex = _parseValue2.startIndex,
            _valueEndIndex = _parseValue2.endIndex,
            _revertToUnparsedValueFns = _parseValue2.revertToUnparsedValueFns;

        onAttribute({
          key: _fullKey,
          value: _value,
          valueStartIndex: _valueStartIndex,
          valueEndIndex: _valueEndIndex,
          revertToUnparsedValueFns: _revertToUnparsedValueFns
        });
        i = _valueEndIndex;
        list.push(_value);
      }
    }
  } else if (text[i] === '"') {
    // string
    return parseString(text, i);
  } else if ((text[i] === "-" || text[i].match(/[0-9]/)) && (m = text.substr(i).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE](?:[-+])?\d+)?/))) {
    // number
    return {
      value: Number(m[0]),
      startIndex: startIndex,
      endIndex: i + m[0].length
    };
  } else if (text.substr(i, 4) === "null") {
    return {
      value: null,
      startIndex: startIndex,
      endIndex: i + 4
    };
  } else if (text.substr(i, 4) === "true") {
    return {
      value: true,
      startIndex: startIndex,
      endIndex: i + 4
    };
  } else if (text.substr(i, 5) === "false") {
    return {
      value: false,
      startIndex: startIndex,
      endIndex: i + 5
    };
  } else {
    throwError("Expected object / array / string / number / true / false / null", i, text);
  }
}

function skipWhitespace(text, i) {
  var len = text.length;

  while (i < len && text[i].match(/\s/)) {
    ++i;
  }

  return i;
}

function parseString(text, i) {
  var unparsedValueArr = [];
  var startIndex = i;
  ++i;
  var len = text.length;
  var valueArr = [];

  while (i < len && text[i] !== '"') {
    if (text[i] === "\\") {
      var matched = false;
      text.substr(++i, 5).replace(/^["\\/bfnrt]|^u[a-fA-F0-9]{4}/, function (m) {
        matched = true;
        unparsedValueArr.push(text.substr(i - 1, 1 + m.length));
        i += m.length;
        if (m.length > 1) valueArr.push(String.fromCodePoint(Number("0x" + m.substr(1))));else if (m === "b") valueArr.push("\b");else if (m === "f") valueArr.push("\f");else if (m === "n") valueArr.push("\n");else if (m === "r") valueArr.push("\r");else if (m === "t") valueArr.push("\t");else valueArr.push(m);
      });
      if (!matched) throwError("Unsupported escape sequence", i - 1, text);
    } else {
      valueArr.push(text[i]);
      unparsedValueArr.push(text[i]);
      ++i;
    }
  }

  if (text[i] !== '"') throwError("Unterminated string literal starting", startIndex, text);
  var value = valueArr.join("");
  return {
    startIndex: startIndex,
    endIndex: i + 1,
    value: value,
    revertToUnparsedValueFns: [function (unescapedString) {
      if (!value.startsWith(unescapedString)) throw new Error("Cannot revert string to escaped form. The string was not parsed using context of this reversion function."); // NOTE Can't use regexp for escaping because backslash before "/" is optional and some characters
      // could have also been originally written using \uXXXX sequences.

      return '"' + unparsedValueArr.slice(0, unescapedString.length).join("");
    }]
  };
}

function throwError(msg, position, text) {
  throw new Error(msg + " @" + position + ":\n" + text.substr(position, 79));
}

/* harmony default export */ __webpack_exports__["default"] = (UU5Json);

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(45);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(21)();
};

var update = __webpack_require__(22)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var _code_editor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);
/* harmony import */ var _markdown_editor_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(47);
/* harmony import */ var _markdown_editor_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_markdown_editor_less__WEBPACK_IMPORTED_MODULE_3__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





var MarkdownEditor = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.VisualComponent.create({
  //@@viewOn:statics
  statics: {
    tagName: _lib_js__WEBPACK_IMPORTED_MODULE_1__["default"].app + ".MarkdownEditor",
    classNames: {
      main: _lib_js__WEBPACK_IMPORTED_MODULE_1__["default"].css + "-markdown-editor"
    },
    opt: {
      hoc: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(_code_editor_js__WEBPACK_IMPORTED_MODULE_2__["default"], _extends({}, this.props, {
      codeStyle: "markdown"
    }));
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (MarkdownEditor);

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(48);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(21)();
};

var update = __webpack_require__(22)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);
/* harmony import */ var _on_demand_component_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15);
/* harmony import */ var _markdown_viewer_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(50);
/* harmony import */ var _markdown_viewer_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_markdown_viewer_less__WEBPACK_IMPORTED_MODULE_4__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

// documentation: https://uuapp.plus4u.net/uu-bookkit-maing01/f2142743693e4b22b1753c9fb761e945/book/page?code=UU5CodeKitMarkdownViewer
//@@viewOn:revision
// coded: Petr Bišof, 1.09.2020
// reviewed: Martin Mach, 14.09.2020
//@@viewOff:revision
//@@viewOn:imports




var MARKDOWN_INTERNAL_URL = process.env.NODE_ENV !== "production" ? "./uu5codekitg01-markdown.js" : "./uu5codekitg01-markdown.min.js";

var EditationComponent = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Component.lazy( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
  return regeneratorRuntime.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return SystemJS.import("uu5g04-forms");

        case 2:
          _context.next = 4;
          return SystemJS.import("uu5g04-bricks-editable");

        case 4:
          return _context.abrupt("return", Promise.resolve().then(function () {
            return _interopRequireWildcard(__webpack_require__(52));
          }));

        case 5:
        case "end":
          return _context.stop();
      }
    }
  }, _callee);
})));
var tagName = _lib_js__WEBPACK_IMPORTED_MODULE_2__["default"].app + ".MarkdownViewer";
var MarkdownViewer = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.VisualComponent.create({
  //eslint-disable-line react/no-deprecated
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.ElementaryMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.SectionMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.EditableMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: tagName,
    classNames: {
      main: _lib_js__WEBPACK_IMPORTED_MODULE_2__["default"].css + "-markdown-viewer"
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    value: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      value: ""
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    var _this = this;

    Object(_on_demand_component_js__WEBPACK_IMPORTED_MODULE_3__["load"])(MARKDOWN_INTERNAL_URL, function (Lib, error) {
      if (error || !Lib) return;
      var Component = Lib.MarkdownRenderer;
      _this._rm = new Component("full", {
        html: true,
        typographer: true,
        highlight: true,
        headerLevel: _this.checkLevel() + 1
      });
      if (_this._mounted && _this.state.value) _this.setState({
        uu5string: _this._renderValue(_this.state.value)
      });
    });
    return {
      value: "",
      uu5string: ""
    };
  },
  componentWillMount: function componentWillMount() {
    var value = this.props.value || uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Children.toArray(this.props.children).join("");

    var s = this._renderValue(value);

    var state = {
      value: value,
      uu5string: s
    };
    this.setState(state);
  },
  componentDidMount: function componentDidMount() {
    this._mounted = true;
  },
  componentWillReceiveProps: function componentWillReceiveProps(newProps) {
    var value = newProps.value || uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Children.toArray(newProps.children).join("");

    var s = this._renderValue(value);

    this.setState({
      value: value,
      uu5string: s
    });
  },
  componentWillUnmount: function componentWillUnmount() {
    this._mounted = false;
  },
  shouldComponentUpdate: function shouldComponentUpdate(newProps, newState) {
    return !(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Tools.deepEqual(this.props, newProps) && uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Tools.deepEqual(this.state, newState));
  },
  //@@viewOff:reactLifeCycle
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  setValue: function setValue(value) {
    var s = this._renderValue(value);

    this.setState({
      value: value,
      uu5string: s
    });
  },
  getValue: function getValue() {
    return {
      value: this.state.value,
      uu5string: this.state.uu5string
    };
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  onBeforeForceEndEditation_: function onBeforeForceEndEditation_() {
    return this._editableComponent ? this._editableComponent.getPropsToSave() : undefined;
  },
  //@@viewOff:overriding
  //@@viewOn:componentSpecificHelpers
  //@@viewOn:private
  _renderValue: function _renderValue(value) {
    return this._rm ? this._rm.render(value) : "";
  },
  _renderEditationMode: function _renderEditationMode() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Suspense, {
      fallback: this.getEditingLoading()
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(EditationComponent, {
      component: this,
      ref_: this._registerEditableComponent
    }));
  },
  _registerEditableComponent: function _registerEditableComponent(ref) {
    this._editableComponent = ref;
  },
  //@@viewOff:private
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Fragment, null, this.isNotInlineEdited() && uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Section, _extends({}, this.getMainPropsToPass(), {
      header: this.props.header,
      footer: this.props.footer,
      content: this.state.uu5string
    })), this.isInlineEdited() && this._renderEditationMode());
  } //className={this.getClassName().main}
  //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (MarkdownViewer);

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(51);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(21)();
};

var update = __webpack_require__(22)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, "", ""]);



/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MarkdownViewerEditable", function() { return MarkdownViewerEditable; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(34);
/* harmony import */ var _code_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);
/* harmony import */ var _css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(33);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n        && {\n          margin: 0;\n        }\n      "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

//@@viewOn:revision
// coded: Petr Bišof, 31.08.2020
// reviewed: Martin Mach, 14.09.2020
//@@viewOff:revision
//@@viewOn:imports




 //@@viewOff:imports

var INLINE_EDITED_DEFAULT_PROPS = {
  value: undefined,
  underline: false,
  level: null,
  header: "",
  footer: ""
};
var MarkdownViewerEditable = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _lib_js__WEBPACK_IMPORTED_MODULE_1__["default"].app + ".MarkdownViewerEditable",
    classNames: {
      main: _lib_js__WEBPACK_IMPORTED_MODULE_1__["default"].css + "-markdown-viewer-editable",
      editor: function editor() {
        return _css__WEBPACK_IMPORTED_MODULE_4__["default"].css(_templateObject());
      }
    },
    lsi: function lsi() {
      return _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"];
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    component: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.isRequired
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    var props = this.props.component.getEditablePropsValues(Object.keys(INLINE_EDITED_DEFAULT_PROPS));
    return _objectSpread({}, props, {
      showFooter: !!props.footer,
      showHeader: !!props.header
    });
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  getPropsToSave: function getPropsToSave() {
    return this._getPropsToSave();
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _onEndEditation: function _onEndEditation() {
    this.props.component.endEditation(this._getPropsToSave());
  },
  _getPropsToSave: function _getPropsToSave() {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state;

    var children = state.children,
        showHeader = state.showHeader,
        showFooter = state.showFooter,
        result = _objectWithoutProperties(state, ["children", "showHeader", "showFooter"]);

    if (this._contentInput) {
      result.value = this._contentInput.getValue();
    } // remove header or footer if they are not showed


    if (!showHeader) {
      result.header = undefined;
    }

    if (!showFooter) {
      result.footer = undefined;
    }

    return result;
  },
  _registerContentInput: function _registerContentInput(input) {
    this._contentInput = input;
  },
  _toggleHeader: function _toggleHeader(value, setStateCallback) {
    this.setState(function (state) {
      return {
        showHeader: !state.showHeader
      };
    }, setStateCallback);
  },
  _toggleFooter: function _toggleFooter(value, setStateCallback) {
    this.setState(function (state) {
      return {
        showFooter: !state.showFooter
      };
    }, setStateCallback);
  },
  _toggleUnderline: function _toggleUnderline() {
    this.setState(function (state) {
      return {
        underline: !state.underline
      };
    });
  },
  _changeLevel: function _changeLevel(value, setStateCallback) {
    this.setState({
      level: value
    }, setStateCallback);
  },
  _changeHeaderContent: function _changeHeaderContent(opt) {
    this.setState({
      header: opt.value
    });
  },
  _changeFooterContent: function _changeFooterContent(opt) {
    this.setState({
      footer: opt.value
    });
  },
  _getHeaderToolbarItems: function _getHeaderToolbarItems() {
    var _this = this;

    var levelItems = [1, 2, 3, 4, 5, 6].map(function (level) {
      return {
        content: "".concat(_this.getLsiValue("level"), " ").concat(level),
        value: "".concat(level)
      };
    });
    levelItems.unshift({
      content: this.getLsiValue("defaultLevel"),
      value: null
    });
    return [{
      type: "button",
      props: function props() {
        return {
          pressed: _this.state.underline,
          onClick: _this._toggleUnderline,
          tooltip: _this.getLsiValue("underlineTooltip"),
          icon: "mdi-format-underline"
        };
      }
    }, {
      type: "dropdown",
      props: function props() {
        var label = _this.state.level ? "".concat(_this.getLsiValue("level"), " ").concat(_this.state.level) : "".concat(_this.getLsiValue("defaultLevel"));
        return {
          value: _this.state.level,
          label: label,
          onClick: _this._changeLevel,
          tooltip: _this.getLsiValue("levelTooltip"),
          items: levelItems
        };
      }
    }];
  },
  _getToolbarSettings: function _getToolbarSettings() {
    return [{
      value: this.state.showHeader,
      onClick: this._toggleHeader,
      label: this.getLsiComponent("showHeaderCheckboxLabel")
    }, {
      value: this.state.showFooter,
      onClick: this._toggleFooter,
      label: this.getLsiComponent("showFooterCheckboxLabel")
    }];
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var _this2 = this;

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["BricksEditable"].Toolbar, _extends({}, this.getMainPropsToPass(), {
      onClose: this._onEndEditation,
      settingsItems: this._getToolbarSettings()
    }), [this.state.showHeader ? uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["BricksEditable"].Input, {
      value: this.state.header || "",
      placeholder: this.getLsi("headerPlaceholder"),
      onChange: this._changeHeaderContent,
      toolbarItems: this._getHeaderToolbarItems(),
      key: "headerInput"
    }, function (_ref) {
      var children = _ref.children;
      return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Header, {
        underline: _this2.state.underline,
        level: _this2.state.level,
        parent: _this2.props.component
      }, children);
    }) : null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_code_editor__WEBPACK_IMPORTED_MODULE_3__["default"], _extends({}, this.state, {
      ref_: this._registerContentInput,
      key: "markdown-editor",
      className: this.getClassName("editor")
    })), this.state.showFooter ? uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["BricksEditable"].Input, {
      value: this.state.footer || "",
      placeholder: this.getLsi("footerPlaceholder"),
      onChange: this._changeFooterContent,
      key: "footerInput"
    }, function (_ref2) {
      var children = _ref2.children;
      return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Footer, {
        parent: _this2.props.component
      }, children);
    }) : null]);
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (MarkdownViewerEditable);

/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);
/* harmony import */ var _ace_ace_editor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var _code_viewer_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(54);
/* harmony import */ var _code_viewer_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_code_viewer_less__WEBPACK_IMPORTED_MODULE_4__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

//@@viewOn:revision
// coded: Martin Mach, 07.09.2020
// reviewed: Petr Bišof, 14.09.2020
//@@viewOff:revision
//@@viewOn:imports





var EditationComponent = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Component.lazy( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
  return regeneratorRuntime.wrap(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return SystemJS.import("uu5g04-bricks");

        case 2:
          _context.next = 4;
          return SystemJS.import("uu5g04-forms");

        case 4:
          _context.next = 6;
          return SystemJS.import("uu5g04-bricks-editable");

        case 6:
          return _context.abrupt("return", Promise.resolve().then(function () {
            return _interopRequireWildcard(__webpack_require__(56));
          }));

        case 7:
        case "end":
          return _context.stop();
      }
    }
  }, _callee);
}))); //@@viewOff:imports

var tagName = _lib_js__WEBPACK_IMPORTED_MODULE_2__["default"].app + ".CodeViewer";
var CodeViewer = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.VisualComponent.create({
  //eslint-disable-line react/no-deprecated
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.ElementaryMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.ContentMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.EditableMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: tagName,
    classNames: {
      main: _lib_js__WEBPACK_IMPORTED_MODULE_2__["default"].css + "-code-viewer"
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: _ace_ace_editor_js__WEBPACK_IMPORTED_MODULE_3__["propTypes"],
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return _objectSpread({}, _ace_ace_editor_js__WEBPACK_IMPORTED_MODULE_3__["defaultProps"], {
      rows: undefined
    });
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  componentWillMount: function componentWillMount() {
    var value = this._trim(this.props.value || uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Children.toArray(this.props.children).join(""));

    var rows = this.props.rows ? this.props.rows : this._countRows(value);
    this.setState({
      rows: rows,
      value: value
    });
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    var value = this._trim(nextProps.value || uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Children.toArray(nextProps.children).join(""));

    var rows = nextProps.rows ? nextProps.rows : this._countRows(value);
    this.setState({
      rows: rows,
      value: value
    });
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  setValue: function setValue(value) {
    this._textInput.setValue(this._trim(value));
  },
  getInput: function getInput() {
    return this._textInput;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  onBeforeForceEndEditation_: function onBeforeForceEndEditation_() {
    return this._editableComponent ? this._editableComponent.getPropsToSave() : undefined;
  },
  //@@viewOff:overriding
  //@@viewOn:private
  _renderEditationMode: function _renderEditationMode() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Suspense, {
      fallback: this.getEditingLoading()
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(EditationComponent, {
      component: this,
      ref_: this._registerEditableComponent
    }));
  },
  _registerEditableComponent: function _registerEditableComponent(ref) {
    this._editableComponent = ref;
  },
  _countRows: function _countRows(value) {
    var count = 1;
    if (value) for (var i = value.length - 1; i >= 0; --i) {
      if (value[i] === "\n") count++;
    }
    return count;
  },
  _trim: function _trim(value) {
    return value.replace(/^(?:\s*[\r\n])*|(?:\s*[\r\n])*$/g, "");
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var _this = this;

    return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Fragment, null, this.isNotInlineEdited() && uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(_ace_ace_editor_js__WEBPACK_IMPORTED_MODULE_3__["default"], _extends({}, this.props, this.getMainPropsToPass(), {
      ref_: function ref_(ace) {
        return _this._textInput = ace;
      },
      mode: this.props.mode,
      rows: this.state.rows,
      value: this.state.value || this.props.content,
      readOnly: true
    })), this.isInlineEdited() && this._renderEditationMode());
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (CodeViewer);

/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(55);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(21)();
};

var update = __webpack_require__(22)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".uu5-codekit-code-viewer:after {\n  display: block;\n  position: relative;\n  content: '';\n  clear: both;\n}\n.uu5-codekit-code-viewer .uu5-forms-message {\n  margin-top: -4px;\n}\n", ""]);



/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CodeViewerEditable", function() { return CodeViewerEditable; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(34);
/* harmony import */ var _css_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(33);
/* harmony import */ var _code_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7);
/* harmony import */ var _editation_modal_component_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(57);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _templateObject() {
  var data = _taggedTemplateLiteral([" &&{\n    margin: 0px;\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

//@@viewOn:revision
// coded: Martin Mach, 07.09.2020
// reviewed: Filip Jaonvský, 29.09.2020
//@@viewOff:revision
//@@viewOn:imports





 //@@viewOff:imports

var themes = ["chrome", "clouds", "crimson_editor", "dawn", "dreamweaver", "eclipse", "github", "iplastic", "solarized_light", "textmate", "tomorrow", "xcode", "kuroir", "katzenmilch", "sqlserver", "ambiance", "chaos", "clouds_midnight", "cobalt", "idle_fingers", "kr_theme", "merbivore", "merbivore_soft", "mono_industrial", "monokai", "pastel_on_dark", "solarized_dark", "terminal", "tomorrow_night", "tomorrow_night_blue", "tomorrow_night_bright", "tomorrow_night_eighties", "twilight", "vibrant_ink"];
var secondaryLanguages = ["abap", "actionscript", "ada", "apache_conf", "assembly", "batchfile", "bat", "batch", "msdos", "clojure", "cobol", "coffee", "coffeescript", "coldfusion", "d", "dart", "diff", "docker", "eiffel", "elm", "erlang", "forth", "fortran", "ftl", "gitignore", "go", "groovy", "haml", "handlebars", "haskell", "html_ruby", "erb", "rhtml", "ini", "jsp", "kotlin", "latex", "lisp", "lua", "lucene", "makefile", "markdown", "mysql", "objectivec", "ocaml", "pascal", "perl", "pgsql", "php", "powershell", "prolog", "properties", "r", "rdoc", "rhtml", "ruby", "rust", "sass", "scala", "scheme", "scss", "sh", "sql", "sqlserver", "svg", "swift", "tcl", "tex", "vbscript", "velocity", "yaml"];
var mainLanguages = ["c", "c++", "c#", "css", "html", "java", "javascript", "json", "jsx", "less", "python", "text", "typescript", "xml"];
var languages = [].concat(mainLanguages, secondaryLanguages).sort();
var editableComponentPropsSetup = [{
  name: "codeStyle",
  type: "tagSelect",
  label: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.codeStyleLabel,
  getProps: function getProps(props) {
    return {
      availableTags: languages.map(function (language) {
        return {
          value: language,
          content: language
        };
      }),
      onChange: function onChange(opt) {
        return props.onChange(_objectSpread({}, opt, {
          value: opt.value.length ? opt.value : ["text"]
        }));
      }
    };
  }
}, {
  name: "theme",
  type: "tagSelect",
  label: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.themeLabel,
  getProps: function getProps(props) {
    return {
      availableTags: themes.map(function (theme) {
        return {
          value: theme,
          content: theme
        };
      }),
      onChange: function onChange(opt) {
        return props.onChange(_objectSpread({}, opt, {
          value: opt.value.length ? opt.value : ["chrome"]
        }));
      }
    };
  }
}, {
  name: "highlightActiveLine",
  type: "switchSelectorBool",
  label: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.highlightActiveLineLabel
}, {
  name: "showGutter",
  type: "switchSelectorBool",
  label: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.showGutterLabel
}, {
  name: "showBorder",
  type: "switchSelectorBool",
  label: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.showBorderLabel
}, {
  name: "wrapEnabled",
  type: "switchSelectorBool",
  label: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.wrapEnabledLabel
}, {
  name: "showPrintMargin",
  type: "switchSelectorBool",
  label: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.showPrintMarginLabel,
  getProps: function getProps() {
    return {
      message: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
        lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.showPrintMarginMessage
      })
    };
  }
}];
var editableDisplayPropsSetup = [{
  name: "indent",
  type: "number",
  label: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.indentLabel,
  getProps: function getProps() {
    return {
      min: 0,
      valueType: "number"
    };
  }
}, {
  name: "fontSize",
  type: "number",
  label: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.fontSizeLabel,
  getProps: function getProps() {
    return {
      min: 1,
      suffix: "px",
      valueType: "number"
    };
  }
}, _editation_modal_component_js__WEBPACK_IMPORTED_MODULE_5__["RowsInput"], _editation_modal_component_js__WEBPACK_IMPORTED_MODULE_5__["MinRowsInput"], _editation_modal_component_js__WEBPACK_IMPORTED_MODULE_5__["MaxRowsInput"], _editation_modal_component_js__WEBPACK_IMPORTED_MODULE_5__["WidthInput"]];
var editableAnnotationsPropsSetup = [function () {
  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_editation_modal_component_js__WEBPACK_IMPORTED_MODULE_5__["BlockInfo"], {
    lsiMessage: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.annotationsInfo
  });
}, _editation_modal_component_js__WEBPACK_IMPORTED_MODULE_5__["AnnotationsInput"]];
var editableMarkersPropsSetup = [_editation_modal_component_js__WEBPACK_IMPORTED_MODULE_5__["MarkersInput"]];
var editablePropsSetup = [{
  name: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].componentPropsLabel,
  setup: editableComponentPropsSetup
}, {
  name: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].displayPropsLabel,
  setup: editableDisplayPropsSetup
}, {
  name: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].annotationsPropsLabel,
  setup: editableAnnotationsPropsSetup
}, {
  name: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].markersPropsLabel,
  setup: editableMarkersPropsSetup
}];
var INLINE_EDITED_DEFAULT_PROPS = {
  value: undefined
};
var classNames = {
  main: _css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css(_templateObject())
};
var CodeViewerEditable = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _lib_js__WEBPACK_IMPORTED_MODULE_1__["default"].app + ".CodeViewerEditable",
    classNames: {
      main: _lib_js__WEBPACK_IMPORTED_MODULE_1__["default"].css + "-code-viewer-editable"
    },
    lsi: function lsi() {
      return _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer;
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    component: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.isRequired
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    var inlineEditedProps = this.props.component.getEditablePropsValues(Object.keys(INLINE_EDITED_DEFAULT_PROPS));
    return _objectSpread({}, inlineEditedProps, {
      editModalOpen: false
    });
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  getPropsToSave: function getPropsToSave() {
    return this._getPropsToSave();
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _registerEditModal: function _registerEditModal(modal) {
    this._editModal = modal;
  },
  _registerContentInput: function _registerContentInput(input) {
    this._contentInput = input;
  },
  _getPropsToSave: function _getPropsToSave() {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state;

    var children = state.children,
        content = state.content,
        editModalOpen = state.editModalOpen,
        result = _objectWithoutProperties(state, ["children", "content", "editModalOpen"]);

    if (this._contentInput) {
      result.value = this._contentInput.getValue();
    }

    return result;
  },
  _getCurrentProps: function _getCurrentProps() {
    var _this$state = this.state,
        editModalOpen = _this$state.editModalOpen,
        stateProps = _objectWithoutProperties(_this$state, ["editModalOpen"]);

    var currentProps = _objectSpread({}, this.props.component.props, stateProps);

    return currentProps;
  },
  _onEndEditation: function _onEndEditation() {
    this.props.component.endEditation(this._getPropsToSave());
  },
  _changeCodeStyle: function _changeCodeStyle(value, setStateCallback) {
    this.setState({
      codeStyle: value
    }, setStateCallback);
  },
  _changeShowGutter: function _changeShowGutter() {
    var _this = this;

    this.setState(function (state) {
      return {
        showGutter: !(state.showGutter === undefined ? _this._getCurrentProps().showGutter : state.showGutter)
      };
    });
  },
  _getToolbarProps: function _getToolbarProps(currentProps) {
    var _this2 = this;

    var props = this.getMainPropsToPass();
    props.onClose = this._onEndEditation;
    props.onMoreSettingsClick = this._openEditModal;
    props.ref_ = this._registerToolbar;
    props.items = [{
      type: "button",
      props: function props() {
        return {
          pressed: currentProps.showGutter,
          tooltip: _this2.getLsiValue("showGutterLabel"),
          onClick: _this2._changeShowGutter,
          icon: "mdi-numeric"
        };
      }
    }, {
      type: "dropdown",
      props: function props() {
        return {
          value: currentProps.codeStyle,
          label: currentProps.codeStyle || uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
            lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].codeViewer.codeStyleLabel
          }),
          onClick: _this2._changeCodeStyle,
          tooltip: _this2.getLsiValue("codeStyleLabel"),
          items: mainLanguages.map(function (language) {
            return {
              content: language,
              value: language
            };
          })
        };
      }
    }];
    return props;
  },
  _openEditModal: function _openEditModal() {
    //EditationModal will use the content/children value of the component, but it's children can be already in edit mode, so their actual values can be lost, so endChildrenEditation and make sure that data are correct.
    this.props.component.endChildrenEditation();
    this.setState({
      editModalOpen: true
    });
  },
  _getValueObject: function _getValueObject(value) {
    if (typeof value === "string") {
      value = value.replace(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].REGEXP.uu5json, "");
      value = new uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].UU5Json(value);
      return value.toObject();
    } else {
      return value;
    }
  },
  _getValueString: function _getValueString(value) {
    if (_typeof(value) === "object") {
      return JSON.stringify(value);
    } else {
      return value;
    }
  },
  _onCloseEditationModal: function _onCloseEditationModal(newProps) {
    var _this3 = this;

    if (newProps) {
      newProps = _objectSpread({}, newProps);

      if (Array.isArray(newProps.codeStyle)) {
        newProps.codeStyle = newProps.codeStyle[0];
      }

      if (newProps.annotations) {
        newProps.annotations = this._getValueObject(newProps.annotations);
      }

      if (newProps.markers) {
        newProps.markers = this._getValueObject(newProps.markers);
      }

      this.setState(_objectSpread({}, newProps, {
        editModalOpen: false
      }), function () {
        return _this3.props.component.saveEditation(newProps);
      });
    } else {
      this.setState({
        editModalOpen: false
      });
    }
  },
  _renderEditModal: function _renderEditModal(currentProps) {
    currentProps = _objectSpread({}, currentProps);

    var modalProps = _objectSpread({}, currentProps, {
      annotations: this._getValueString(currentProps.annotations),
      markers: this._getValueString(currentProps.markers)
    });

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["BricksEditable"].Modal, {
      shown: true,
      componentName: this.props.component.getTagName(),
      componentProps: modalProps,
      onClose: this._onCloseEditationModal,
      ref_: this._registerEditModal,
      componentPropsForm: editablePropsSetup,
      header: this.getLsiValue("modalHeader")
    });
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var currentProps = this._getCurrentProps();

    currentProps = _objectSpread({}, currentProps, {
      annotations: this._getValueObject(currentProps.annotations),
      markers: this._getValueObject(currentProps.markers)
    });
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Fragment, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["BricksEditable"].Toolbar, this._getToolbarProps(currentProps), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_code_editor__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({}, currentProps, {
      className: classNames.main,
      ref_: this._registerContentInput,
      enableBasicAutocompletion: true,
      enableLiveAutocompletion: true,
      enableSnippets: true
    }))), this.state.editModalOpen ? this._renderEditModal(currentProps) : null);
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (CodeViewerEditable);

/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidthInput", function() { return WidthInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RowsInput", function() { return RowsInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MinRowsInput", function() { return MinRowsInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaxRowsInput", function() { return MaxRowsInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationsInput", function() { return AnnotationsInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MarkersInput", function() { return MarkersInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoMessage", function() { return InfoMessage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockInfo", function() { return BlockInfo; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var uu5g04_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var uu5g04_forms__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g04_forms__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _editable_lsi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(34);
/* harmony import */ var _json_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5);
/* harmony import */ var _css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(33);
function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      font-size: 14px;\n      font-style: italic;\n      padding-top: 6px;\n      border-radius: 0.3em;\n      color: rgba(0, 0, 0, 0.34);\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["z-index: 0"]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["z-index: 0"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

//@@viewOn:revision
// coded: Martin Mach, 22.09.2020
// reviewed: Filip Janovský, 29.09.2020
//@@viewOff:revision






var WidthInput = function WidthInput(_ref) {
  var componentProps = _ref.componentProps,
      onChangeProps = _ref.onChangeProps;
  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Fragment, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Text, {
    value: componentProps.width,
    inputColWidth: "xs-12",
    labelColWidth: "xs-12",
    onBlur: function onBlur(_ref2) {
      var value = _ref2.value;
      return onChangeProps({
        width: value
      });
    },
    onChange: function onChange(opt) {
      return opt.component.onChangeDefault(opt);
    },
    label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.widthLabel
    })
  }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(InfoMessage, {
    message: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.widthMessage
    })
  }));
};
var RowsInput = function RowsInput(_ref3) {
  var componentProps = _ref3.componentProps,
      onChangeProps = _ref3.onChangeProps;
  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Number, {
    value: componentProps.rows,
    min: 0,
    valueType: "number",
    inputColRows: "xs-12",
    labelColRows: "xs-12",
    onChange: function onChange(_ref4) {
      var value = _ref4.value;
      return onChangeProps({
        rows: value,
        height: value ? undefined : componentProps.height
      });
    },
    label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.rowsLabel
    })
  });
};
var MinRowsInput = function MinRowsInput(_ref5) {
  var componentProps = _ref5.componentProps,
      onChangeProps = _ref5.onChangeProps;
  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Number, {
    value: componentProps.minRows,
    min: 0,
    valueType: "number",
    inputColWidth: "xs-12",
    labelColWidth: "xs-12",
    onChange: function onChange(_ref6) {
      var value = _ref6.value;
      return onChangeProps({
        minRows: value
      });
    },
    label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.minRowsLabel
    })
  });
};
var MaxRowsInput = function MaxRowsInput(_ref7) {
  var componentProps = _ref7.componentProps,
      onChangeProps = _ref7.onChangeProps;
  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Number, {
    value: componentProps.maxRows,
    min: 0,
    valueType: "number",
    inputColMaxRows: "xs-12",
    labelColMaxRows: "xs-12",
    onChange: function onChange(_ref8) {
      var value = _ref8.value;
      return onChangeProps({
        maxRows: value
      });
    },
    label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.maxRowsLabel
    })
  });
};

var isJsonValid = function isJsonValid(json) {
  var result;

  try {
    if (typeof json === "string") JSON.parse(json);
    result = true;
  } catch (e) {
    result = false;
  }

  return result;
};

var AnnotationsInput = function AnnotationsInput(_ref9) {
  var componentProps = _ref9.componentProps,
      onChangeProps = _ref9.onChangeProps,
      errors = _ref9.errors;
  var isFormValid = !errors || !errors.annotations;
  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Fragment, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_json_editor__WEBPACK_IMPORTED_MODULE_4__["default"], {
    inputColWidth: "xs-12",
    labelColWidth: "xs-12",
    feedback: isFormValid ? undefined : "error",
    message: isFormValid ? undefined : uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.invalidJson
    }),
    onBlur: function onBlur(_ref10) {
      var value = _ref10.value;
      return onChangeProps({
        annotations: value
      }, {
        annotations: !isJsonValid(value)
      });
    },
    label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.annotationsLabel
    }),
    value: componentProps.annotations || "[]",
    className: _css__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject())
  }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(InfoMessage, {
    message: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.annotationsMessage
    })
  }));
};
var MarkersInput = function MarkersInput(_ref11) {
  var componentProps = _ref11.componentProps,
      onChangeProps = _ref11.onChangeProps,
      errors = _ref11.errors;
  var isFormValid = !errors || !errors.markers;
  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Fragment, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_json_editor__WEBPACK_IMPORTED_MODULE_4__["default"], {
    inputColWidth: "xs-12",
    labelColWidth: "xs-12",
    feedback: isFormValid ? undefined : "error",
    message: isFormValid ? undefined : uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.invalidJson
    }),
    onBlur: function onBlur(_ref12) {
      var value = _ref12.value;
      return onChangeProps({
        markers: value
      }, {
        markers: !isJsonValid(value)
      });
    },
    label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.markersLabel
    }),
    value: componentProps.markers || "[]",
    className: _css__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject2())
  }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(InfoMessage, {
    message: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi__WEBPACK_IMPORTED_MODULE_3__["default"].codeViewer.markersMessage
    })
  }));
};
var InfoMessage = function InfoMessage(_ref13) {
  var message = _ref13.message;
  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
    className: _css__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject3()),
    content: message
  });
};
var BlockInfo = function BlockInfo(_ref14) {
  var lsiMessage = _ref14.lsiMessage,
      restProps = _objectWithoutProperties(_ref14, ["lsiMessage"]);

  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.findComponent("UuContentKit.Bricks.BlockInfo", restProps, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
    lsi: lsiMessage
  }));
};

/***/ })
/******/ ]);