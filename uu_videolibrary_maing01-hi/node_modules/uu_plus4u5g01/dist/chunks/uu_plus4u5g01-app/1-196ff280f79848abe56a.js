/*!
 * UAF Licence for the uuPlus4U5 software.
 * 
 * Copyright (c) 2016-present, Unicorn a.s.
 * All rights reserved.
 * 
 * Definitions
 * -----------
 * This licence agreement is based on the original "BSD Licence" published by
 * the Regents of the University of California in 1990.
 * 
 * The term "Software" means the plus4u5 package, its modules, components,
 * all program files, source code, examples, media, and documentation which are part
 * of the Software package, as well as any portion of them. The term "Author" means
 * Unicorn a.s. and all its subsidiaries and/or affiliates.
 * 
 * Licence Agreement
 * -----------------
 * 
 * Redistribution and use of this Software in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 
 * 3. All derivative products containing user interface must display the following
 *    acknowledgement in the appropriate "About window" or website section accessible
 *    by all users of the product:
 * 
 *      This product includes following software developed by
 *      <a href="https://unicorn.com">Unicorn a.s.</a>:
 *      <a href="https://uuos9.plus4u.net/uu-bookkitg01-main/78462435-86b4d5a4a030400784764ebdb972bbda/book">UAF</a>,
 *      <a href="https://uuos9.plus4u.net/uu-bookkitg01-main/78462435-ed11ec379073476db0aa295ad6c00178/book">uu5</a>.
 * 
 * 4. All derivative products must not block the default plus4u5 browser console message containing
 *    Software version information and copyright notice of the Author.
 * 
 * 5. The use of any portion of this Software is not allowed in the products
 *    that fully or partially resemble the functionality of the Software
 *    or otherwise compete with the Software unless they are licenced under the same licence
 *    conditions and provided free of charge. Specific prior written permission is required otherwise.
 * 
 * 6. Neither the name of the Author nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 * 
 * Disclaimer
 * ----------
 * THIS SOFTWARE IS PROVIDED BY AUTHOR "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AUTHOR BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
(window["__webpack_jsonp_uu_plus4u5g01_4_19_2_uu_plus4u5g01_app"] = window["__webpack_jsonp_uu_plus4u5g01_4_19_2_uu_plus4u5g01_app"] || []).push([[1],{

/***/ 133:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cache", function() { return cache; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleGroupInterfaceUriEditComponent", function() { return RoleGroupInterfaceUriEditComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizedStateEditComponent", function() { return AuthorizedStateEditComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Profiles", function() { return Profiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArtifactUri", function() { return ArtifactUri; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadArtifactPermission", function() { return loadArtifactPermission; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "authorizedStates", function() { return authorizedStates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAuthorizedItemLabel", function() { return getAuthorizedItemLabel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizedInlineEditation", function() { return AuthorizedInlineEditation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoMessage", function() { return InfoMessage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NameInput", function() { return NameInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRoleGroupInterfaceUriValue", function() { return getRoleGroupInterfaceUriValue; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var uu_plus4u5g01__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);
/* harmony import */ var uu_plus4u5g01__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu_plus4u5g01__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _calls_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(40);
/* harmony import */ var _css_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(12);
/* harmony import */ var _authorization_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39);
/* harmony import */ var _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(134);
var _templateObject, _templateObject2, _templateObject3, _templateObject4;

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

//@@viewOn:imports






 //@@viewOff:imports

var cache = {
  itemRoleCache: {},
  itemProfileCache: {},
  initialRoleList: []
};
var RoleGroupInterfaceUriEditComponent = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "RoleGroupInterfaceUriEditComponent",
    lsi: function lsi() {
      return _objectSpread(_objectSpread({}, _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized), _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].roleGroupAuthorized);
    },
    classNames: {
      item: function item() {
        return _css_js__WEBPACK_IMPORTED_MODULE_4__["default"].css(_templateObject || (_templateObject = _taggedTemplateLiteral(["\n        display: flex;\n        align-items: center;\n        margin-top: 8px;\n        padding-right: 8px;\n        word-break: break-word;\n      "])));
      },
      button: function button() {
        return _css_js__WEBPACK_IMPORTED_MODULE_4__["default"].css(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral(["\n        margin-left: 16px;\n      "])));
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    componentProps: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    items: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object),
    onChangeProps: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onChangeItems: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    editedItemId: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
    validate: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      componentProps: undefined,
      items: undefined,
      onChangeProps: undefined,
      onChangeItems: undefined,
      editedItemId: undefined,
      validate: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    var _this = this,
        _this$props$errors,
        _this$props$errors$ro,
        _this$props$errors2,
        _this$props$errors2$r;

    this._pendingValidation = false;
    var propValue = this.props.componentProps.roleGroupInterfaceUri;

    this._setValueData(propValue);

    this._debouncedOnChange = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.debounce(function (value) {
      _this._onChangeDebounced(value);
    }, 500);
    return {
      feedback: ((_this$props$errors = this.props.errors) === null || _this$props$errors === void 0 ? void 0 : (_this$props$errors$ro = _this$props$errors.roleGroupInterfaceUri) === null || _this$props$errors$ro === void 0 ? void 0 : _this$props$errors$ro.feedback) || "initial",
      message: ((_this$props$errors2 = this.props.errors) === null || _this$props$errors2 === void 0 ? void 0 : (_this$props$errors2$r = _this$props$errors2.roleGroupInterfaceUri) === null || _this$props$errors2$r === void 0 ? void 0 : _this$props$errors2$r.message) || undefined,
      value: ""
    };
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    var _nextProps$errors, _nextProps$errors$rol, _this$props$errors3, _this$props$errors3$r, _nextProps$errors2, _nextProps$errors2$ro, _this$props$errors4, _this$props$errors4$r;

    if (((_nextProps$errors = nextProps.errors) === null || _nextProps$errors === void 0 ? void 0 : (_nextProps$errors$rol = _nextProps$errors.roleGroupInterfaceUri) === null || _nextProps$errors$rol === void 0 ? void 0 : _nextProps$errors$rol.feedback) !== ((_this$props$errors3 = this.props.errors) === null || _this$props$errors3 === void 0 ? void 0 : (_this$props$errors3$r = _this$props$errors3.roleGroupInterfaceUri) === null || _this$props$errors3$r === void 0 ? void 0 : _this$props$errors3$r.feedback) || ((_nextProps$errors2 = nextProps.errors) === null || _nextProps$errors2 === void 0 ? void 0 : (_nextProps$errors2$ro = _nextProps$errors2.roleGroupInterfaceUri) === null || _nextProps$errors2$ro === void 0 ? void 0 : _nextProps$errors2$ro.message) !== ((_this$props$errors4 = this.props.errors) === null || _this$props$errors4 === void 0 ? void 0 : (_this$props$errors4$r = _this$props$errors4.roleGroupInterfaceUri) === null || _this$props$errors4$r === void 0 ? void 0 : _this$props$errors4$r.message)) {
      var _nextProps$errors3, _nextProps$errors3$ro, _nextProps$errors4, _nextProps$errors4$ro;

      this.setState({
        feedback: ((_nextProps$errors3 = nextProps.errors) === null || _nextProps$errors3 === void 0 ? void 0 : (_nextProps$errors3$ro = _nextProps$errors3.roleGroupInterfaceUri) === null || _nextProps$errors3$ro === void 0 ? void 0 : _nextProps$errors3$ro.feedback) || "initial",
        message: ((_nextProps$errors4 = nextProps.errors) === null || _nextProps$errors4 === void 0 ? void 0 : (_nextProps$errors4$ro = _nextProps$errors4.roleGroupInterfaceUri) === null || _nextProps$errors4$ro === void 0 ? void 0 : _nextProps$errors4$ro.message) || undefined
      });
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    this._debouncedOnChange.flush();
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _registerInput: function _registerInput(ref) {
    this._input = ref;
  },
  _setValueData: function _setValueData(value) {
    value = value || this.props.componentProps.roleGroupInterfaceUri;

    if (!value || typeof value === "string" || Array.isArray(value)) {
      this._valueData = {
        tempValue: "",
        value: value && !Array.isArray(value) ? [value] : _toConsumableArray(value)
      };
    } else {
      this._valueData = value;
    }
  },
  _onChangeDebounced: function _onChangeDebounced(value) {
    if (this._pendingValidation && this.props.validate) {
      this._validateValue(value);

      this._pendingValidation = false;
    }

    value = _objectSpread(_objectSpread({}, this._valueData || {}), {}, {
      tempValue: value
    });

    this._setValueData(value);

    this.props.onChangeProps({
      roleGroupInterfaceUri: value
    }, this.props.errors);
  },
  _onChange: function _onChange(opt) {
    this._pendingValidation = true;
    this.setState(function (state) {
      return {
        value: opt.value,
        feedback: opt.value ? state.feedback : "initial",
        message: opt.value ? state.message : undefined
      };
    });

    this._debouncedOnChange(opt.value);
  },
  _onValidationFail: function _onValidationFail() {
    this._pendingValidation = false;
    var message = "roleGroupInterfaceUriErrorInvalid";
    this.setState({
      feedback: "error",
      message: message
    });
    this.props.onChangeProps({}, {
      roleGroupInterfaceUri: {
        feedback: "error",
        message: message
      }
    });
  },
  _onValidationSuccess: function _onValidationSuccess() {
    this._pendingValidation = false;
    this.setState({
      feedback: "success",
      message: undefined
    });
    this.props.onChangeProps({}, {
      roleGroupInterfaceUri: {
        feedback: "success",
        message: undefined
      }
    });
  },
  _validateValue: function _validateValue(value) {
    if (value) {
      if (!this._isUniqueValue(value)) {
        this.props.onChangeProps({}, {
          roleGroupInterfaceUri: {
            feedback: "error",
            message: "roleGroupInterfaceUriErrorDuplicit"
          }
        });
      } else {
        var parsedUri;
        var commandUri;
        var commandData;

        try {
          parsedUri = uu_plus4u5g01__WEBPACK_IMPORTED_MODULE_2__["Common"].Url.parse(value);

          if (parsedUri.origin && parsedUri.product && parsedUri.workspace) {
            commandUri = parsedUri.origin + "/" + parsedUri.product + "/" + parsedUri.workspace + "/uuRoleGroupIfc/get";
            commandData = parsedUri.parameters;
          }
        } catch (e) {
          return this._onValidationFail();
        }

        if (commandUri && commandData) {
          this._pendingValidation = false;
          _calls_js__WEBPACK_IMPORTED_MODULE_3__["default"].uuRoleGroupIfcGet({
            data: {
              commandUri: commandUri,
              commandData: commandData
            },
            done: this._onValidationSuccess,
            fail: this._onValidationFail
          });
        }
      }
    } else {
      this.props.onChangeProps({}, {
        roleGroupInterfaceUri: {
          feedback: "initial",
          message: undefined
        }
      });
    }
  },
  _onBlur: function _onBlur(opt) {
    if (opt.value) {
      if (this.props.validate) {
        this._validateValue(opt.value);
      }
    } else {
      this.setState({
        value: "",
        feedback: "initial",
        message: undefined
      });
    }
  },
  _isUniqueValue: function _isUniqueValue(value) {
    return !(this._valueData.value || []).some(function (item) {
      return item === value;
    });
  },
  _onAddItem: function _onAddItem() {
    var value = this._input.getValue();

    if (value) {
      if (!this._isUniqueValue(value)) {
        this.props.onChangeProps({}, {
          roleGroupInterfaceUri: {
            feedback: "error",
            message: "roleGroupInterfaceUriErrorDuplicit"
          }
        });
      } else {
        this.setState({
          value: "",
          feedback: "initial",
          message: undefined
        });

        this._setValueData([].concat(_toConsumableArray(this._valueData.value || []), [value]));

        this.props.onChangeProps({
          roleGroupInterfaceUri: this._valueData
        }, {
          roleGroupInterfaceUri: {
            feedback: "initial",
            message: undefined
          }
        });
      }
    }
  },
  _onRemoveItem: function _onRemoveItem(itemIndex) {
    var _this$props$items;

    var removedValue = this._valueData.value[itemIndex];

    if (!((_this$props$items = this.props.items) !== null && _this$props$items !== void 0 && _this$props$items.some(function (item) {
      var _stringListToArray;

      return (_stringListToArray = Object(_authorization_helpers__WEBPACK_IMPORTED_MODULE_5__["stringListToArray"])(item.props.roleGroupInterfaceUri)) === null || _stringListToArray === void 0 ? void 0 : _stringListToArray.some(function (itemRole) {
        return itemRole === removedValue;
      });
    }))) {
      var _this$props$items2;

      this._valueData.value.splice(itemIndex, 1);

      if (this._valueData.value.length === 0) {
        this._valueData.value = undefined;
      }

      if (this.props.validate) {
        this._validateValue(this.state.value);
      }

      this.props.onChangeProps({
        roleGroupInterfaceUri: this._valueData
      }, this.props.errors);
      var changedItems = false;
      var roleList = Object(_authorization_helpers__WEBPACK_IMPORTED_MODULE_5__["stringListToArray"])(getRoleGroupInterfaceUriValue(this.props.componentProps.roleGroupInterfaceUri));
      var newItems = (_this$props$items2 = this.props.items) === null || _this$props$items2 === void 0 ? void 0 : _this$props$items2.map(function (item) {
        var itemData = {
          id: item.id,
          props: _objectSpread({}, item.props)
        };
        var itemRoleGroupInterfaceUri = item.props.roleGroupInterfaceUri;

        if ((itemRoleGroupInterfaceUri === null || itemRoleGroupInterfaceUri === void 0 ? void 0 : itemRoleGroupInterfaceUri.length) === roleList.length && !roleList.some(function (roleListRole) {
          return !itemRoleGroupInterfaceUri.some(function (itemRoleListRole) {
            return roleListRole === itemRoleListRole;
          });
        })) {
          // if item has the exact same roles as is roleList (props.componentProps.roleGroupInterfaceUri)
          cache.itemRoleCache = _objectSpread(_objectSpread({}, cache.itemRoleCache), {}, _defineProperty({}, item.id, roleList));
          itemData.props.roleGroupInterfaceUri = undefined;
          changedItems = true;
        }

        return itemData;
      });

      if (changedItems) {
        this.props.onChangeItems(newItems, this.props.errors);
      }
    } else {
      this.props.onChangeProps({}, {
        roleGroupInterfaceUri: {
          feedback: "warning",
          message: "rolesRemoveWarning"
        }
      });
    }
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var _this2 = this;

    var disabledButton = this.state.feedback !== "success" && this.props.validate;
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create("div", this.getMainAttrs(), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].TextButton, _extends({}, this.getMainPropsToPass(), {
      label: this.getLsiComponent("roleGroupInterfaceUriLabel"),
      value: this.state.value,
      onChange: this._onChange,
      onBlur: this._onBlur,
      ref_: this._registerInput,
      disabled: this.props.componentProps.artifactUri || this.props.componentProps.useCase,
      feedback: this.state.feedback,
      message: this.state.message ? this.getLsiComponent(this.state.message) : undefined,
      buttons: [{
        icon: "mdi-plus",
        onClick: this._onAddItem,
        colorSchema: "primary",
        disabled: disabledButton
      }]
    })), (this._valueData.value || []).map(function (value, index) {
      return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create("div", {
        className: _this2.getClassName("item"),
        key: value
      }, value, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Button, {
        onClick: function onClick() {
          return _this2._onRemoveItem(index);
        },
        bgStyle: "transparent",
        size: "s",
        className: _this2.getClassName("button")
      }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Icon, {
        icon: "mdi-close"
      })));
    }));
  } //@@viewOff:render

});
var AuthorizedStateEditComponent = function AuthorizedStateEditComponent(props) {
  function onChange(_ref) {
    var value = _ref.value;
    var newItems = props.items.map(function (item) {
      var itemData = {
        id: item.id
      };

      if (item.id === props.editedItem.id) {
        itemData.props = {};
        authorizedStates.forEach(function (stateName) {
          return stateName !== value && (itemData.props[stateName] = false);
        });
        itemData.props[value] = true;
      }

      return itemData;
    });
    props.onChange(value, newItems);
  }

  var value = authorizedStates.find(function (stateName) {
    return !!props.editedItem.props[stateName];
  });
  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].SwitchSelector, {
    label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.stateLabel
    }),
    items: [{
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
        lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.authorized
      }),
      value: "authorized"
    }, {
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
        lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.notAuthorized
      }),
      value: "notAuthorized"
    }, {
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
        lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.pending
      }),
      value: "pending"
    }, {
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
        lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.notAuthenticated
      }),
      value: "notAuthenticated"
    }, {
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
        lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.default
      }),
      value: "default"
    }],
    value: value,
    onChange: onChange
  });
};
var Profiles = function Profiles(props) {
  var profileList = props.profileList;

  function onChangeTagSelect(_ref2) {
    var value = _ref2.value;
    var newItems = props.items.map(function (item) {
      var itemData = {
        id: item.id
      };

      if (item.id === props.editedItem.id) {
        itemData.props = {
          profile: []
        };
        value.forEach(function (valueItem) {
          return itemData.props.profile.push(valueItem);
        });
        if (itemData.props.profile.length === 0) itemData.props.profile = undefined;
      }

      return itemData;
    });
    props.onChangeItems(newItems, props.errors);
  }

  function getValueTagSelect() {
    return Object(_authorization_helpers__WEBPACK_IMPORTED_MODULE_5__["stringListToArray"])(props.editedItem.props.profile);
  }

  function onChangeCheckboxes(_ref3) {
    var value = _ref3.value;
    var hasValue = false;
    var displayValue = value;
    var allValuesSelected = true;
    var newItems = props.items.map(function (item) {
      var itemData = {
        id: item.id
      };

      if (item.id === props.editedItem.id) {
        var itemProfile = [];
        Object.keys(value).forEach(function (valueKey) {
          if (value[valueKey] === true) {
            itemProfile.push(valueKey);
            hasValue = true;
          }

          if (!value[valueKey]) allValuesSelected = false;
        });
        displayValue = itemProfile;
        if (itemProfile.length === 0) itemProfile = undefined;

        if (allValuesSelected) {
          // if all items are selected
          itemProfile = undefined;
        }

        itemData.props = {
          profile: itemProfile
        };
      }

      return itemData;
    });
    cache.itemProfileCache = _objectSpread(_objectSpread({}, cache.itemProfileCache), {}, _defineProperty({}, props.editedItem.id, displayValue));
    props.onChangeItems(newItems, _objectSpread(_objectSpread({}, props.errors), {}, {
      profile: !hasValue
    }));
  }

  function getValueCheckboxes(profileList) {
    var _profileValues;

    var profileValues = Object(_authorization_helpers__WEBPACK_IMPORTED_MODULE_5__["stringListToArray"])(props.editedItem.props.profile);

    if (props.displayValue) {
      profileValues = props.displayValue;
    } else if (!props.editedItem.isNew && !((_profileValues = profileValues) !== null && _profileValues !== void 0 && _profileValues.length)) {
      profileValues = profileList.map(function (profile) {
        return profile.name;
      });
    }

    return profileList.map(function (profile) {
      return {
        name: profile.name,
        label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Span, {
          content: profile.label
        }),
        value: !!(profileValues && profileValues.find(function (value) {
          return value === profile.name;
        }))
      };
    });
  }

  if (!props.editedItem.props.authorized) {
    return null;
  } else if (props.profileListState === "load") {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Loading, null);
  } else {
    if (!profileList || props.profileListState === "fail") {
      return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Fragment, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].TagSelect, {
        value: getValueTagSelect(),
        onChange: onChangeTagSelect,
        label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
          lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.profilesLabel
        }),
        allowCustomTags: true,
        multiple: true
      }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(InfoMessage, {
        message: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
          lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.profilesNotAuthorizedMessage
        })
      }));
    } else {
      var feedback;
      var message;

      if (props.errors && props.errors.profile) {
        feedback = "error";
        message = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
          lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.profilesError
        });
      }

      return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Checkboxes, {
        value: getValueCheckboxes(profileList),
        onChange: onChangeCheckboxes,
        label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
          lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.profilesLabel
        }),
        required: true,
        feedback: feedback,
        message: message
      });
    }
  }
};
var ArtifactUri = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "ArtifactUri"
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    componentProps: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    onChangeProps: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    validate: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      componentProps: undefined,
      onChangeProps: undefined,
      validate: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    var _this3 = this,
        _this$props$errors5,
        _this$props$errors5$a,
        _this$props$errors6,
        _this$props$errors6$a;

    this._pendingValidation = false;
    this._debouncedOnChange = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.debounce(function (value) {
      _this3._onChangeDebounced(value);
    }, 500);
    return {
      feedback: ((_this$props$errors5 = this.props.errors) === null || _this$props$errors5 === void 0 ? void 0 : (_this$props$errors5$a = _this$props$errors5.artifactUri) === null || _this$props$errors5$a === void 0 ? void 0 : _this$props$errors5$a.feedback) || "initial",
      message: ((_this$props$errors6 = this.props.errors) === null || _this$props$errors6 === void 0 ? void 0 : (_this$props$errors6$a = _this$props$errors6.artifactUri) === null || _this$props$errors6$a === void 0 ? void 0 : _this$props$errors6$a.message) || undefined,
      value: this.props.componentProps.artifactUri
    };
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    var _nextProps$errors5, _nextProps$errors5$ar, _this$props$errors7, _this$props$errors7$a, _nextProps$errors6, _nextProps$errors6$ar, _this$props$errors8, _this$props$errors8$a;

    if (((_nextProps$errors5 = nextProps.errors) === null || _nextProps$errors5 === void 0 ? void 0 : (_nextProps$errors5$ar = _nextProps$errors5.artifactUri) === null || _nextProps$errors5$ar === void 0 ? void 0 : _nextProps$errors5$ar.feedback) !== ((_this$props$errors7 = this.props.errors) === null || _this$props$errors7 === void 0 ? void 0 : (_this$props$errors7$a = _this$props$errors7.artifactUri) === null || _this$props$errors7$a === void 0 ? void 0 : _this$props$errors7$a.feedback) || ((_nextProps$errors6 = nextProps.errors) === null || _nextProps$errors6 === void 0 ? void 0 : (_nextProps$errors6$ar = _nextProps$errors6.artifactUri) === null || _nextProps$errors6$ar === void 0 ? void 0 : _nextProps$errors6$ar.message) !== ((_this$props$errors8 = this.props.errors) === null || _this$props$errors8 === void 0 ? void 0 : (_this$props$errors8$a = _this$props$errors8.artifactUri) === null || _this$props$errors8$a === void 0 ? void 0 : _this$props$errors8$a.message)) {
      var _nextProps$errors7, _nextProps$errors7$ar, _nextProps$errors8, _nextProps$errors8$ar;

      this.setState({
        feedback: ((_nextProps$errors7 = nextProps.errors) === null || _nextProps$errors7 === void 0 ? void 0 : (_nextProps$errors7$ar = _nextProps$errors7.artifactUri) === null || _nextProps$errors7$ar === void 0 ? void 0 : _nextProps$errors7$ar.feedback) || "initial",
        message: ((_nextProps$errors8 = nextProps.errors) === null || _nextProps$errors8 === void 0 ? void 0 : (_nextProps$errors8$ar = _nextProps$errors8.artifactUri) === null || _nextProps$errors8$ar === void 0 ? void 0 : _nextProps$errors8$ar.message) || undefined
      });
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    this._debouncedOnChange.flush();
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _onChangeDebounced: function _onChangeDebounced(value) {
    this.setState({
      value: value
    });

    if (this._pendingValidation && this.props.validate) {
      this._validateValue(value);

      this._pendingValidation = false;
    }
  },
  _onChange: function _onChange(opt) {
    this._pendingValidation = true;
    this.props.onChangeProps({
      artifactUri: opt.value
    }, this.props.errors);
    this.setState(function (state) {
      return {
        value: opt.value,
        feedback: opt.value ? state.feedback : "initial",
        message: opt.value ? state.message : undefined
      };
    });

    this._debouncedOnChange(opt.value);
  },
  _onValidationFail: function _onValidationFail() {
    this._pendingValidation = false;
    var message = "artifactUriErrorInvalid";
    this.setState({
      feedback: "error",
      message: message
    });
    this.props.onChangeProps({}, {
      artifactUri: {
        feedback: "error",
        message: message
      }
    });
  },
  _onLoadPermission: function _onLoadPermission(data) {
    var profileList = data.profileList.map(function (profile) {
      return {
        name: profile.code,
        label: profile.name
      };
    });
    var showWarning = false;

    if (this.props.items) {
      var newItems = this.props.items.map(function (item) {
        var _itemProfiles;

        var itemProfiles = Object(_authorization_helpers__WEBPACK_IMPORTED_MODULE_5__["stringListToArray"])(item.props.profile);
        itemProfiles = (_itemProfiles = itemProfiles) === null || _itemProfiles === void 0 ? void 0 : _itemProfiles.filter(function (itemProfile) {
          if (!profileList.some(function (profile) {
            return profile.name === itemProfile;
          })) {
            showWarning = true;
            return false;
          } else {
            return true;
          }
        });
        var itemData = {
          id: item.id,
          props: _objectSpread(_objectSpread({}, item.props), {}, {
            profile: itemProfiles
          })
        };
        return itemData;
      });
      this.setState({
        feedback: showWarning ? "warning" : "initial",
        message: showWarning ? "artifactUriProfileChangedWarning" : undefined
      });
      this.props.onChangeItems(newItems, showWarning ? _objectSpread(_objectSpread({}, this.props.errors), {}, {
        artifactUri: {
          feedback: "warning",
          message: "artifactUriProfileChangedWarning"
        }
      }) : this.props.errors);
    }

    this.props.onDone(data);
  },
  _onValidationSuccess: function _onValidationSuccess(value) {
    this._pendingValidation = false;
    this.props.onChangeProps({
      artifactUri: value
    }, {
      artifactUri: {
        feedback: "success",
        message: undefined
      }
    });
    loadArtifactPermission(value, this.props.onLoad, this._onLoadPermission, this.props.onFail);
  },
  _validateValue: function _validateValue(value) {
    var _this4 = this;

    if (value) {
      var parsedUri;
      var commandUri;
      var commandData;

      try {
        parsedUri = uu_plus4u5g01__WEBPACK_IMPORTED_MODULE_2__["Common"].Url.parse(value);

        if (parsedUri.origin && parsedUri.product && parsedUri.workspace) {
          commandUri = parsedUri.origin + "/" + parsedUri.product + "/" + parsedUri.workspace + "/uuArtifactIfc/get";
          commandData = parsedUri.parameters;
        }
      } catch (e) {
        return this._onValidationFail();
      }

      if (commandUri && commandData) {
        this._pendingValidation = false;
        _calls_js__WEBPACK_IMPORTED_MODULE_3__["default"].uuArtifactIfcGet({
          data: {
            commandUri: commandUri,
            commandData: commandData
          },
          done: function done() {
            return _this4._onValidationSuccess(value);
          },
          fail: this._onValidationFail
        });
      }
    } else {
      this.props.onChangeProps({}, {
        artifactUri: {
          feedback: "initial",
          message: undefined
        }
      });
    }
  },
  _onBlur: function _onBlur(opt) {
    if (opt.value) {
      if (this.props.validate) {
        this._validateValue(opt.value);
      }
    } else {
      this.setState({
        value: "",
        feedback: "initial",
        message: undefined
      });
    }
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].TextButton, _extends({}, this.getMainPropsToPass(), {
      label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
        lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.artifactLabel
      }),
      value: this.state.value,
      onChange: this._onChange,
      onBlur: this._onBlur,
      feedback: this.state.feedback,
      message: this.state.message ? uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
        lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].artifactAuthorized[this.state.message]
      }) : undefined
    }));
  } //@@viewOff:render

});
var loadArtifactPermission = function loadArtifactPermission(artifactUri, onLoad, onLoadDone, onLoadFail) {
  var parsedUri;
  var commandUri;
  var commandData;

  try {
    parsedUri = uu_plus4u5g01__WEBPACK_IMPORTED_MODULE_2__["Common"].Url.parse(artifactUri);
    commandUri = parsedUri.origin + "/" + parsedUri.product + "/" + parsedUri.workspace + "/uuArtifactIfc/loadPermissions";
    commandData = parsedUri.parameters;
  } catch (e) {
    return onLoadFail();
  }

  if (commandData) {
    var cachedResult = _calls_js__WEBPACK_IMPORTED_MODULE_3__["default"].artifactLoadPermissions({
      data: {
        commandUri: commandUri,
        commandData: commandData
      },
      done: onLoadDone,
      fail: onLoadFail
    });

    if (!cachedResult) {
      onLoad();
    }
  } else {
    onLoadFail();
  }
};
var authorizedStates = ["authorized", "notAuthorized", "pending", "notAuthenticated", "default"];
function getAuthorizedItemLabel(item, profileList, simple) {
  var itemProps = item;
  if (item.props) itemProps = item.props;

  if (itemProps.name) {
    return itemProps.name;
  }

  var authorizedState = authorizedStates.find(function (stateItem) {
    return itemProps[stateItem];
  });
  var profiles;

  if (authorizedState === "authorized" && itemProps.profile) {
    profiles = Object(_authorization_helpers__WEBPACK_IMPORTED_MODULE_5__["stringListToArray"])(itemProps.profile).map(function (profile) {
      var profileListMatch = profileList === null || profileList === void 0 ? void 0 : profileList.find(function (profileListItem) {
        return profileListItem.name === profile;
      });

      if (profileListMatch) {
        return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Span, {
          content: profileListMatch.label
        });
      } else {
        var profileLsi = _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized[profile.toLowerCase()];
        return profileLsi ? uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
          key: profile,
          lsi: profileLsi
        }) : profile;
      }
    }).reduce(function (result, element, index, array) {
      result.push(element);

      if (index < array.length - 1) {
        result.push(", ");
      }

      return result;
    }, []);

    if (simple && profiles) {
      return profiles;
    }
  }

  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Fragment, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create("div", null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
    lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized[authorizedState]
  })), profiles ? uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create("div", null, profiles) : null);
}
var AuthorizedInlineEditation = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "AuthorizedInlineEditation",
    classNames: {
      switchSelector: _css_js__WEBPACK_IMPORTED_MODULE_4__["default"].css(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral(["\n        .uu5-bricks-switch-selector {\n          min-width: auto;\n        }\n      "])))
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    component: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.isRequired,
    getModal: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.isRequired,
    onMoreSettingsClick: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.isRequired,
    getItemLabel: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    return {
      activeItemIndex: 0
    };
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _registerEditToolbar: function _registerEditToolbar(toolbar) {
    this._editToolbar = toolbar;
  },
  _onEndEditation: function _onEndEditation() {
    this.props.component.endEditation();
  },
  _onChangeRenderedItem: function _onChangeRenderedItem(_ref4) {
    var value = _ref4.value;
    //EditationModal will use the content/children value of the component, but it's children can be already in edit mode, so their actual values can be lost, so endChildrenEditation and make sure that data are correct.
    this.props.component.endChildrenEditation();
    this.setState({
      activeItemIndex: value
    });
  },
  _getToolbarItems: function _getToolbarItems(allChildren) {
    var _this5 = this;

    if (Array.isArray(allChildren)) {
      return [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].SwitchSelector, {
        items: (allChildren || []).map(function (item, index) {
          return {
            value: index,
            content: _this5.props.getItemLabel(item.props),
            bgStyle: _this5.state.activeItemIndex === index ? "underline" : undefined,
            colorSchema: "primary"
          };
        }),
        onChange: this._onChangeRenderedItem,
        className: this.getClassName("switchSelector"),
        value: this.state.activeItemIndex,
        key: "switchSelector",
        bgStyle: "transparent",
        colorSchema: "custom",
        size: "l",
        spacing: 0
      })];
    } else {
      return null;
    }
  },
  _renderItem: function _renderItem(allChildren) {
    if (Array.isArray(allChildren)) {
      return allChildren[this.state.activeItemIndex];
    } else {
      return null;
    }
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var allChildren = this.props.component.getChildren();

    if (!Array.isArray(allChildren) && allChildren) {
      allChildren = [allChildren];
    }

    if (Array.isArray(allChildren)) {
      var _this$props$component;

      var childTagName = (_this$props$component = this.props.component.getDefault()) === null || _this$props$component === void 0 ? void 0 : _this$props$component.childTagName;
      allChildren = allChildren.filter(function (child) {
        return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.isValid(child) && child.type.tagName === childTagName;
      });

      if (allChildren.length === 0) {
        allChildren = null;
      }
    }

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, this.getMainPropsToPass(), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["BricksEditable"].Toolbar, {
      ref_: this._registerEditToolbar,
      items: this._getToolbarItems(allChildren),
      onClose: this._onEndEditation,
      onMoreSettingsClick: this.props.onMoreSettingsClick
    }, this._renderItem(allChildren)), this.props.getModal());
  } //@@viewOff:render

});
var InfoMessageClassNames = {
  message: function message() {
    return _css_js__WEBPACK_IMPORTED_MODULE_4__["default"].css(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral(["\n    font-size: 14px;\n    font-style: italic;\n    padding-top: 6px;\n    border-radius: 0.3em;\n    color: rgba(0, 0, 0, 0.34);\n  "])));
  }
};
var InfoMessage = function InfoMessage(props) {
  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Text, _extends({}, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.getAttrs(props, InfoMessageClassNames.message()), {
    content: props.message
  }));
};
var NameInput = function NameInput(props) {
  function onBlur(_ref5) {
    var value = _ref5.value;
    var newItems = props.items.map(function (item) {
      var itemData = {
        id: item.id
      };

      if (item.id === props.editedItem.id) {
        itemData.props = {
          name: value
        };
      }

      return itemData;
    });
    props.onChangeItems(newItems, props.errors);
  }

  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Text, {
    label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
      lsi: _editable_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].authorized.nameLabel
    }),
    value: props.editedItem.props.name,
    onBlur: onBlur
  });
};
var getRoleGroupInterfaceUriValue = function getRoleGroupInterfaceUriValue(roleGroupInterfaceUri) {
  var _roleGroupInterfaceUr;

  roleGroupInterfaceUri = (_roleGroupInterfaceUr = roleGroupInterfaceUri) === null || _roleGroupInterfaceUr === void 0 ? void 0 : _roleGroupInterfaceUr.value;

  if (roleGroupInterfaceUri && roleGroupInterfaceUri.tempValue && roleGroupInterfaceUri.indexOf(roleGroupInterfaceUri.tempValue) === -1) {
    roleGroupInterfaceUri.push(roleGroupInterfaceUri.tempValue);
  }

  return roleGroupInterfaceUri;
};

/***/ }),

/***/ 134:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditableLsi", function() { return EditableLsi; });
var EditableLsi = {
  common: {
    componentPropsLabel: {
      cs: "Hlavní vlastnosti komponenty",
      en: "Component Props"
    },
    additionalPropsLabel: {
      cs: "Vedlejší vlastnosti komponenty",
      en: "Additional Props"
    }
  },
  authorized: {
    modalHeader: {
      en: "Edit Authorized",
      cs: "Upravit Authorized"
    },
    artifactLabel: {
      en: "Artifact uri",
      cs: "Uri artefaktu"
    },
    useCaseLabel: {
      en: "Use case",
      cs: "Případ užití"
    },
    firstMatchLabel: {
      en: "Item rendering rules",
      cs: "Pravidla vykreslení položek"
    },
    firstMatchValueTrue: {
      en: "First only",
      cs: "Pouze první"
    },
    firstMatchValueFalse: {
      en: "All",
      cs: "Všechny"
    },
    firstMatchMessage: {
      en: "Defines whether it should be allowed to render multiple items which meet the defined requirements or only the first of these items should be rendered.",
      cs: "Určuje zda je povoleno vykreslit více položek splňujích příslušné požadavky nebo se má vykreslit pouze první z nich."
    },
    stateLabel: {
      en: "State",
      cs: "Stav"
    },
    profilesLabel: {
      en: "Profiles",
      cs: "Profily"
    },
    profilesNotAuthorizedMessage: {
      en: "Available profiles couldn't be loaded. You can choose your own profiles, but note that they might not be supported by the defined artifact.",
      cs: "Dostupné profily se nepodařilo načíst. Můžete si zvolit vlastní profily, ale je možné, že nebudou podporované na definovaném artefaktu."
    },
    authorities: {
      en: "Authorities"
    },
    executives: {
      en: "Executives"
    },
    readers: {
      en: "Readers"
    },
    guests: {
      en: "Guests"
    },
    authorized: {
      en: "Authorized",
      cs: "Autorizovaný"
    },
    notAuthorized: {
      en: "Unauthorized",
      cs: "Neautorizovaný"
    },
    pending: {
      en: "Pending",
      cs: "Načítání"
    },
    notAuthenticated: {
      en: "Unauthenticated",
      cs: "Nepřihlášený"
    },
    default: {
      en: "Default",
      cs: "Defaultní"
    },
    roleGroupInterfaceUriLabel: {
      en: "Role or group uri",
      cs: "Uri role nebo skupiny"
    },
    nameLabel: {
      en: "Name",
      cs: "Název"
    },
    nameMessage: {
      en: "Assign a name to each item for easier orientation among them.",
      cs: "Přiřaďte název každé položce pro snadnější orientaci mezi nimi."
    },
    profilesError: {
      en: "Please select atleast one of the profiles.",
      cs: "Vyberte prosím alespoň jeden profil."
    },
    roleGroupInterfaceUriErrorInvalid: {
      en: "This is not a valid role or group uri.",
      cs: "Toto není validní uri role nebo skupiny."
    },
    roleGroupInterfaceUriErrorDuplicit: {
      en: "This uri is already entered in the list.",
      cs: "Tato uri je již zadána v seznamu."
    }
  },
  artifactAuthorized: {
    modalHeader: {
      en: "Edit ArtifactAuthorized",
      cs: "Upravit ArtifactAuthorized"
    },
    artifactUriErrorInvalid: {
      en: "This is not a valid artifact uri.",
      cs: "Toto není validní uri artefaktu."
    },
    artifactUriProfileChangedWarning: {
      en: "Some profiles have been removed from some items because the newly defined artifact doesn't support them.",
      cs: "Některé profily byly odstraněny z položek, protože nově definovaný artefakt je nepodporuje."
    }
  },
  roleGroupAuthorized: {
    modalHeader: {
      en: "Edit RoleGroupAuthorized",
      cs: "Upravit RoleGroupAuthorized"
    },
    rolesLabel: {
      en: "Roles",
      cs: "Role"
    },
    rolesNoUrisMessage: {
      en: "There are no defined roles to choose from.",
      cs: "Nejsou definovány žádné role ze kterých by bylo možné vybírat."
    },
    rolesError: {
      en: "Please select atleast one of the roles.",
      cs: "Vyberte prosím alespoň jednu roli."
    },
    rolesRemoveWarning: {
      en: "This uri cannot be removed because it is selected in some authorized items.",
      cs: "Tuto uri nelze odebrat, jelikož je zvolená v některých autorizovaných položkách."
    }
  }
};
/* harmony default export */ __webpack_exports__["default"] = (EditableLsi);

/***/ })

}]);