/*!
 * UAF Licence for the uuPlus4U5 software.
 * 
 * Copyright (c) 2016-present, Unicorn a.s.
 * All rights reserved.
 * 
 * Definitions
 * -----------
 * This licence agreement is based on the original "BSD Licence" published by
 * the Regents of the University of California in 1990.
 * 
 * The term "Software" means the plus4u5 package, its modules, components,
 * all program files, source code, examples, media, and documentation which are part
 * of the Software package, as well as any portion of them. The term "Author" means
 * Unicorn a.s. and all its subsidiaries and/or affiliates.
 * 
 * Licence Agreement
 * -----------------
 * 
 * Redistribution and use of this Software in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 
 * 3. All derivative products containing user interface must display the following
 *    acknowledgement in the appropriate "About window" or website section accessible
 *    by all users of the product:
 * 
 *      This product includes following software developed by
 *      <a href="https://unicorn.com">Unicorn a.s.</a>:
 *      <a href="https://uuos9.plus4u.net/uu-bookkitg01-main/78462435-86b4d5a4a030400784764ebdb972bbda/book">UAF</a>,
 *      <a href="https://uuos9.plus4u.net/uu-bookkitg01-main/78462435-ed11ec379073476db0aa295ad6c00178/book">uu5</a>.
 * 
 * 4. All derivative products must not block the default plus4u5 browser console message containing
 *    Software version information and copyright notice of the Author.
 * 
 * 5. The use of any portion of this Software is not allowed in the products
 *    that fully or partially resemble the functionality of the Software
 *    or otherwise compete with the Software unless they are licenced under the same licence
 *    conditions and provided free of charge. Specific prior written permission is required otherwise.
 * 
 * 6. Neither the name of the Author nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 * 
 * Disclaimer
 * ----------
 * THIS SOFTWARE IS PROVIDED BY AUTHOR "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AUTHOR BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
(window.__webpack_jsonp_uu_plus4u5g01_4_19_2_uu_plus4u5g01_app=window.__webpack_jsonp_uu_plus4u5g01_4_19_2_uu_plus4u5g01_app||[]).push([[1],{61:function(e,t,r){"use strict";t.a={common:{
componentPropsLabel:{cs:"Hlavní vlastnosti komponenty",en:"Component Props"},additionalPropsLabel:{cs:"Vedlejší vlastnosti komponenty",en:"Additional Props"}},authorized:{modalHeader:{
en:"Edit Authorized",cs:"Upravit Authorized"},artifactLabel:{en:"Artifact uri",cs:"Uri artefaktu"},useCaseLabel:{en:"Use case",cs:"Případ užití"},firstMatchLabel:{en:"Item rendering rules",
cs:"Pravidla vykreslení položek"},firstMatchValueTrue:{en:"First only",cs:"Pouze první"},firstMatchValueFalse:{en:"All",cs:"Všechny"},firstMatchMessage:{
en:"Defines whether it should be allowed to render multiple items which meet the defined requirements or only the first of these items should be rendered.",
cs:"Určuje zda je povoleno vykreslit více položek splňujích příslušné požadavky nebo se má vykreslit pouze první z nich."},stateLabel:{en:"State",cs:"Stav"},profilesLabel:{en:"Profiles",cs:"Profily"},
profilesNotAuthorizedMessage:{en:"Available profiles couldn't be loaded. You can choose your own profiles, but note that they might not be supported by the defined artifact.",
cs:"Dostupné profily se nepodařilo načíst. Můžete si zvolit vlastní profily, ale je možné, že nebudou podporované na definovaném artefaktu."},authorities:{en:"Authorities"},executives:{en:"Executives"
},readers:{en:"Readers"},guests:{en:"Guests"},authorized:{en:"Authorized",cs:"Autorizovaný"},notAuthorized:{en:"Unauthorized",cs:"Neautorizovaný"},pending:{en:"Pending",cs:"Načítání"},
notAuthenticated:{en:"Unauthenticated",cs:"Nepřihlášený"},default:{en:"Default",cs:"Defaultní"},roleGroupInterfaceUriLabel:{en:"Role or group uri",cs:"Uri role nebo skupiny"},nameLabel:{en:"Name",
cs:"Název"},nameMessage:{en:"Assign a name to each item for easier orientation among them.",cs:"Přiřaďte název každé položce pro snadnější orientaci mezi nimi."},profilesError:{
en:"Please select atleast one of the profiles.",cs:"Vyberte prosím alespoň jeden profil."},roleGroupInterfaceUriErrorInvalid:{en:"This is not a valid role or group uri.",
cs:"Toto není validní uri role nebo skupiny."},roleGroupInterfaceUriErrorDuplicit:{en:"This uri is already entered in the list.",cs:"Tato uri je již zadána v seznamu."}},artifactAuthorized:{
modalHeader:{en:"Edit ArtifactAuthorized",cs:"Upravit ArtifactAuthorized"},artifactUriErrorInvalid:{en:"This is not a valid artifact uri.",cs:"Toto není validní uri artefaktu."},
artifactUriProfileChangedWarning:{en:"Some profiles have been removed from some items because the newly defined artifact doesn't support them.",
cs:"Některé profily byly odstraněny z položek, protože nově definovaný artefakt je nepodporuje."}},roleGroupAuthorized:{modalHeader:{en:"Edit RoleGroupAuthorized",cs:"Upravit RoleGroupAuthorized"},
rolesLabel:{en:"Roles",cs:"Role"},rolesNoUrisMessage:{en:"There are no defined roles to choose from.",cs:"Nejsou definovány žádné role ze kterých by bylo možné vybírat."},rolesError:{
en:"Please select atleast one of the roles.",cs:"Vyberte prosím alespoň jednu roli."},rolesRemoveWarning:{en:"This uri cannot be removed because it is selected in some authorized items.",
cs:"Tuto uri nelze odebrat, jelikož je zvolená v některých autorizovaných položkách."}}}},62:function(e,t,r){"use strict";r.d(t,"i",(function(){return _})),r.d(t,"g",(function(){return y})),
r.d(t,"c",(function(){return k})),r.d(t,"f",(function(){return I})),r.d(t,"a",(function(){return P})),r.d(t,"l",(function(){return U})),r.d(t,"h",(function(){return E})),r.d(t,"j",(function(){return z
})),r.d(t,"b",(function(){return A})),r.d(t,"d",(function(){return S})),r.d(t,"e",(function(){return j})),r.d(t,"k",(function(){return T}));var o,n,i,a,s=r(0),l=(r(4),
r(3)),u=r(9),c=r(1),p=r(5),d=r(61);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
;for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){
(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}
}))}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),
r.push.apply(r,o)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){C(e,t,r[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))
}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _={itemRoleCache:{},itemProfileCache:{},initialRoleList:[]
},y=s.Common.VisualComponent.create({mixins:[s.Common.BaseMixin],statics:{tagName:"RoleGroupInterfaceUriEditComponent",lsi:function(){return b(b({},d.a.authorized),d.a.roleGroupAuthorized)},
classNames:{item:function(){
return c.a.css(o||(o=v(["\n        display: flex;\n        align-items: center;\n        margin-top: 8px;\n        padding-right: 8px;\n        word-break: break-word;\n      "])))},button:function(){
return c.a.css(n||(n=v(["\n        margin-left: 16px;\n      "])))}}},propTypes:{componentProps:s.PropTypes.object,items:s.PropTypes.arrayOf(s.PropTypes.object),onChangeProps:s.PropTypes.func,
onChangeItems:s.PropTypes.func,editedItemId:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),validate:s.PropTypes.bool},getDefaultProps:function(){return{componentProps:void 0,
items:void 0,onChangeProps:void 0,onChangeItems:void 0,editedItemId:void 0,validate:!1}},getInitialState:function(){var e,t,r,o,n=this;this._pendingValidation=!1
;var i=this.props.componentProps.roleGroupInterfaceUri;return this._setValueData(i),this._debouncedOnChange=s.Common.Tools.debounce((function(e){n._onChangeDebounced(e)}),500),{
feedback:(null===(e=this.props.errors)||void 0===e||null===(t=e.roleGroupInterfaceUri)||void 0===t?void 0:t.feedback)||"initial",
message:(null===(r=this.props.errors)||void 0===r||null===(o=r.roleGroupInterfaceUri)||void 0===o?void 0:o.message)||void 0,value:""}},UNSAFE_componentWillReceiveProps:function(e){
var t,r,o,n,i,a,s,l,u,c,p,d
;(null===(t=e.errors)||void 0===t||null===(r=t.roleGroupInterfaceUri)||void 0===r?void 0:r.feedback)===(null===(o=this.props.errors)||void 0===o||null===(n=o.roleGroupInterfaceUri)||void 0===n?void 0:n.feedback)&&(null===(i=e.errors)||void 0===i||null===(a=i.roleGroupInterfaceUri)||void 0===a?void 0:a.message)===(null===(s=this.props.errors)||void 0===s||null===(l=s.roleGroupInterfaceUri)||void 0===l?void 0:l.message)||this.setState({
feedback:(null===(u=e.errors)||void 0===u||null===(c=u.roleGroupInterfaceUri)||void 0===c?void 0:c.feedback)||"initial",
message:(null===(p=e.errors)||void 0===p||null===(d=p.roleGroupInterfaceUri)||void 0===d?void 0:d.message)||void 0})},componentWillUnmount:function(){this._debouncedOnChange.flush()},
_registerInput:function(e){this._input=e},_setValueData:function(e){!(e=e||this.props.componentProps.roleGroupInterfaceUri)||"string"==typeof e||Array.isArray(e)?this._valueData={tempValue:"",
value:e&&!Array.isArray(e)?[e]:f(e)}:this._valueData=e},_onChangeDebounced:function(e){this._pendingValidation&&this.props.validate&&(this._validateValue(e),this._pendingValidation=!1),
e=b(b({},this._valueData||{}),{},{tempValue:e}),this._setValueData(e),this.props.onChangeProps({roleGroupInterfaceUri:e},this.props.errors)},_onChange:function(e){this._pendingValidation=!0,
this.setState((function(t){return{value:e.value,feedback:e.value?t.feedback:"initial",message:e.value?t.message:void 0}})),this._debouncedOnChange(e.value)},_onValidationFail:function(){
this._pendingValidation=!1;var e="roleGroupInterfaceUriErrorInvalid";this.setState({feedback:"error",message:e}),this.props.onChangeProps({},{roleGroupInterfaceUri:{feedback:"error",message:e}})},
_onValidationSuccess:function(){this._pendingValidation=!1,this.setState({feedback:"success",message:void 0}),this.props.onChangeProps({},{roleGroupInterfaceUri:{feedback:"success",message:void 0}})},
_validateValue:function(e){if(e)if(this._isUniqueValue(e)){var t,r,o;try{(t=l.Common.Url.parse(e)).origin&&t.product&&t.workspace&&(r=t.origin+"/"+t.product+"/"+t.workspace+"/uuRoleGroupIfc/get",
o=t.parameters)}catch(e){return this._onValidationFail()}r&&o&&(this._pendingValidation=!1,u.a.uuRoleGroupIfcGet({data:{commandUri:r,commandData:o},done:this._onValidationSuccess,
fail:this._onValidationFail}))}else this.props.onChangeProps({},{roleGroupInterfaceUri:{feedback:"error",message:"roleGroupInterfaceUriErrorDuplicit"}});else this.props.onChangeProps({},{
roleGroupInterfaceUri:{feedback:"initial",message:void 0}})},_onBlur:function(e){e.value?this.props.validate&&this._validateValue(e.value):this.setState({value:"",feedback:"initial",message:void 0})},
_isUniqueValue:function(e){return!(this._valueData.value||[]).some((function(t){return t===e}))},_onAddItem:function(){var e=this._input.getValue();e&&(this._isUniqueValue(e)?(this.setState({value:"",
feedback:"initial",message:void 0}),this._setValueData([].concat(f(this._valueData.value||[]),[e])),this.props.onChangeProps({roleGroupInterfaceUri:this._valueData},{roleGroupInterfaceUri:{
feedback:"initial",message:void 0}})):this.props.onChangeProps({},{roleGroupInterfaceUri:{feedback:"error",message:"roleGroupInterfaceUriErrorDuplicit"}}))},_onRemoveItem:function(e){
var t,r=this._valueData.value[e];if(null!==(t=this.props.items)&&void 0!==t&&t.some((function(e){var t
;return null===(t=Object(p.f)(e.props.roleGroupInterfaceUri))||void 0===t?void 0:t.some((function(e){return e===r}))})))this.props.onChangeProps({},{roleGroupInterfaceUri:{feedback:"warning",
message:"rolesRemoveWarning"}});else{var o;this._valueData.value.splice(e,1),0===this._valueData.value.length&&(this._valueData.value=void 0),
this.props.validate&&this._validateValue(this.state.value),this.props.onChangeProps({roleGroupInterfaceUri:this._valueData},this.props.errors)
;var n=!1,i=Object(p.f)(T(this.props.componentProps.roleGroupInterfaceUri)),a=null===(o=this.props.items)||void 0===o?void 0:o.map((function(e){var t={id:e.id,props:b({},e.props)
},r=e.props.roleGroupInterfaceUri;return(null==r?void 0:r.length)!==i.length||i.some((function(e){return!r.some((function(t){return e===t}))
}))||(_.itemRoleCache=b(b({},_.itemRoleCache),{},C({},e.id,i)),t.props.roleGroupInterfaceUri=void 0,n=!0),t}));n&&this.props.onChangeItems(a,this.props.errors)}},render:function(){
var e=this,t="success"!==this.state.feedback&&this.props.validate;return s.Common.Element.create("div",this.getMainAttrs(),s.Common.Element.create(s.Forms.TextButton,m({},this.getMainPropsToPass(),{
label:this.getLsiComponent("roleGroupInterfaceUriLabel"),value:this.state.value,onChange:this._onChange,onBlur:this._onBlur,ref_:this._registerInput,
disabled:this.props.componentProps.artifactUri||this.props.componentProps.useCase,feedback:this.state.feedback,message:this.state.message?this.getLsiComponent(this.state.message):void 0,buttons:[{
icon:"mdi-plus",onClick:this._onAddItem,colorSchema:"primary",disabled:t}]})),(this._valueData.value||[]).map((function(t,r){return s.Common.Element.create("div",{className:e.getClassName("item"),
key:t},t,s.Common.Element.create(s.Bricks.Button,{onClick:function(){return e._onRemoveItem(r)},bgStyle:"transparent",size:"s",className:e.getClassName("button")
},s.Common.Element.create(s.Bricks.Icon,{icon:"mdi-close"})))})))}}),k=function(e){var t=E.find((function(t){return!!e.editedItem.props[t]}));return s.Common.Element.create(s.Forms.SwitchSelector,{
label:s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.stateLabel}),items:[{content:s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.authorized}),value:"authorized"},{
content:s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.notAuthorized}),value:"notAuthorized"},{content:s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.pending}),value:"pending"},{
content:s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.notAuthenticated}),value:"notAuthenticated"},{content:s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.default}),
value:"default"}],value:t,onChange:function(t){var r=t.value,o=e.items.map((function(t){var o={id:t.id};return t.id===e.editedItem.id&&(o.props={},E.forEach((function(e){return e!==r&&(o.props[e]=!1)
})),o.props[r]=!0),o}));e.onChange(r,o)}})},I=function(e){var t,r,o=e.profileList
;return e.editedItem.props.authorized?"load"===e.profileListState?s.Common.Element.create(s.Bricks.Loading,null):o&&"fail"!==e.profileListState?(e.errors&&e.errors.profile&&(t="error",
r=s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.profilesError})),s.Common.Element.create(s.Forms.Checkboxes,{value:function(t){var r,o=Object(p.f)(e.editedItem.props.profile)
;return e.displayValue?o=e.displayValue:e.editedItem.isNew||null!==(r=o)&&void 0!==r&&r.length||(o=t.map((function(e){return e.name}))),t.map((function(e){return{name:e.name,
label:s.Common.Element.create(s.Bricks.Span,{content:e.label}),value:!(!o||!o.find((function(t){return t===e.name})))}}))}(o),onChange:function(t){
var r=t.value,o=!1,n=r,i=!0,a=e.items.map((function(t){var a={id:t.id};if(t.id===e.editedItem.id){var s=[];Object.keys(r).forEach((function(e){!0===r[e]&&(s.push(e),o=!0),r[e]||(i=!1)})),n=s,
0===s.length&&(s=void 0),i&&(s=void 0),a.props={profile:s}}return a}));_.itemProfileCache=b(b({},_.itemProfileCache),{},C({},e.editedItem.id,n)),e.onChangeItems(a,b(b({},e.errors),{},{profile:!o}))},
label:s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.profilesLabel}),required:!0,feedback:t,message:r
})):s.Common.Element.create(s.Common.Fragment,null,s.Common.Element.create(s.Forms.TagSelect,{value:Object(p.f)(e.editedItem.props.profile),onChange:function(t){
var r=t.value,o=e.items.map((function(t){var o={id:t.id};return t.id===e.editedItem.id&&(o.props={profile:[]},r.forEach((function(e){return o.props.profile.push(e)})),
0===o.props.profile.length&&(o.props.profile=void 0)),o}));e.onChangeItems(o,e.errors)},label:s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.profilesLabel}),allowCustomTags:!0,multiple:!0
}),s.Common.Element.create(S,{message:s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.profilesNotAuthorizedMessage})})):null},P=s.Common.VisualComponent.create({mixins:[s.Common.BaseMixin],
statics:{tagName:"ArtifactUri"},propTypes:{componentProps:s.PropTypes.object,onChangeProps:s.PropTypes.func,validate:s.PropTypes.bool},getDefaultProps:function(){return{componentProps:void 0,
onChangeProps:void 0,validate:!1}},getInitialState:function(){var e,t,r,o,n=this;return this._pendingValidation=!1,this._debouncedOnChange=s.Common.Tools.debounce((function(e){n._onChangeDebounced(e)
}),500),{feedback:(null===(e=this.props.errors)||void 0===e||null===(t=e.artifactUri)||void 0===t?void 0:t.feedback)||"initial",
message:(null===(r=this.props.errors)||void 0===r||null===(o=r.artifactUri)||void 0===o?void 0:o.message)||void 0,value:this.props.componentProps.artifactUri}},
UNSAFE_componentWillReceiveProps:function(e){var t,r,o,n,i,a,s,l,u,c,p,d
;(null===(t=e.errors)||void 0===t||null===(r=t.artifactUri)||void 0===r?void 0:r.feedback)===(null===(o=this.props.errors)||void 0===o||null===(n=o.artifactUri)||void 0===n?void 0:n.feedback)&&(null===(i=e.errors)||void 0===i||null===(a=i.artifactUri)||void 0===a?void 0:a.message)===(null===(s=this.props.errors)||void 0===s||null===(l=s.artifactUri)||void 0===l?void 0:l.message)||this.setState({
feedback:(null===(u=e.errors)||void 0===u||null===(c=u.artifactUri)||void 0===c?void 0:c.feedback)||"initial",
message:(null===(p=e.errors)||void 0===p||null===(d=p.artifactUri)||void 0===d?void 0:d.message)||void 0})},componentWillUnmount:function(){this._debouncedOnChange.flush()},
_onChangeDebounced:function(e){this.setState({value:e}),this._pendingValidation&&this.props.validate&&(this._validateValue(e),this._pendingValidation=!1)},_onChange:function(e){
this._pendingValidation=!0,this.props.onChangeProps({artifactUri:e.value},this.props.errors),this.setState((function(t){return{value:e.value,feedback:e.value?t.feedback:"initial",
message:e.value?t.message:void 0}})),this._debouncedOnChange(e.value)},_onValidationFail:function(){this._pendingValidation=!1;var e="artifactUriErrorInvalid";this.setState({feedback:"error",message:e
}),this.props.onChangeProps({},{artifactUri:{feedback:"error",message:e}})},_onLoadPermission:function(e){var t=e.profileList.map((function(e){return{name:e.code,label:e.name}})),r=!1
;if(this.props.items){var o=this.props.items.map((function(e){var o,n=Object(p.f)(e.props.profile);return n=null===(o=n)||void 0===o?void 0:o.filter((function(e){return!!t.some((function(t){
return t.name===e}))||(r=!0,!1)})),{id:e.id,props:b(b({},e.props),{},{profile:n})}}));this.setState({feedback:r?"warning":"initial",message:r?"artifactUriProfileChangedWarning":void 0}),
this.props.onChangeItems(o,r?b(b({},this.props.errors),{},{artifactUri:{feedback:"warning",message:"artifactUriProfileChangedWarning"}}):this.props.errors)}this.props.onDone(e)},
_onValidationSuccess:function(e){this._pendingValidation=!1,this.props.onChangeProps({artifactUri:e},{artifactUri:{feedback:"success",message:void 0}}),
U(e,this.props.onLoad,this._onLoadPermission,this.props.onFail)},_validateValue:function(e){var t=this;if(e){var r,o,n;try{
(r=l.Common.Url.parse(e)).origin&&r.product&&r.workspace&&(o=r.origin+"/"+r.product+"/"+r.workspace+"/uuArtifactIfc/get",n=r.parameters)}catch(e){return this._onValidationFail()}
o&&n&&(this._pendingValidation=!1,u.a.uuArtifactIfcGet({data:{commandUri:o,commandData:n},done:function(){return t._onValidationSuccess(e)},fail:this._onValidationFail}))
}else this.props.onChangeProps({},{artifactUri:{feedback:"initial",message:void 0}})},_onBlur:function(e){e.value?this.props.validate&&this._validateValue(e.value):this.setState({value:"",
feedback:"initial",message:void 0})},render:function(){return s.Common.Element.create(s.Forms.TextButton,m({},this.getMainPropsToPass(),{label:s.Common.Element.create(s.Bricks.Lsi,{
lsi:d.a.authorized.artifactLabel}),value:this.state.value,onChange:this._onChange,onBlur:this._onBlur,feedback:this.state.feedback,message:this.state.message?s.Common.Element.create(s.Bricks.Lsi,{
lsi:d.a.artifactAuthorized[this.state.message]}):void 0}))}}),U=function(e,t,r,o){var n,i,a;try{i=(n=l.Common.Url.parse(e)).origin+"/"+n.product+"/"+n.workspace+"/uuArtifactIfc/loadPermissions",
a=n.parameters}catch(e){return o()}a?u.a.artifactLoadPermissions({data:{commandUri:i,commandData:a},done:r,fail:o})||t():o()},E=["authorized","notAuthorized","pending","notAuthenticated","default"]
;function z(e,t,r){var o=e;if(e.props&&(o=e.props),o.name)return o.name;var n,i=E.find((function(e){return o[e]}));return"authorized"===i&&o.profile&&(n=Object(p.f)(o.profile).map((function(e){
var r=null==t?void 0:t.find((function(t){return t.name===e}));if(r)return s.Common.Element.create(s.Bricks.Span,{content:r.label});var o=d.a.authorized[e.toLowerCase()]
;return o?s.Common.Element.create(s.Bricks.Lsi,{key:e,lsi:o}):e})).reduce((function(e,t,r,o){return e.push(t),r<o.length-1&&e.push(", "),e}),[]),
r&&n)?n:s.Common.Element.create(s.Common.Fragment,null,s.Common.Element.create("div",null,s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized[i]})),n?s.Common.Element.create("div",null,n):null)}
var A=s.Common.VisualComponent.create({mixins:[s.Common.BaseMixin],statics:{tagName:"AuthorizedInlineEditation",classNames:{
switchSelector:c.a.css(i||(i=v(["\n        .uu5-bricks-switch-selector {\n          min-width: auto;\n        }\n      "])))}},propTypes:{component:s.PropTypes.object.isRequired,
getModal:s.PropTypes.func.isRequired,onMoreSettingsClick:s.PropTypes.func.isRequired,getItemLabel:s.PropTypes.func},getInitialState:function(){return{activeItemIndex:0}},
_registerEditToolbar:function(e){this._editToolbar=e},_onEndEditation:function(){this.props.component.endEditation()},_onChangeRenderedItem:function(e){var t=e.value
;this.props.component.endChildrenEditation(),this.setState({activeItemIndex:t})},_getToolbarItems:function(e){var t=this;return Array.isArray(e)?[s.Common.Element.create(s.Forms.SwitchSelector,{
items:(e||[]).map((function(e,r){return{value:r,content:t.props.getItemLabel(e.props),bgStyle:t.state.activeItemIndex===r?"underline":void 0,colorSchema:"primary"}})),
onChange:this._onChangeRenderedItem,className:this.getClassName("switchSelector"),value:this.state.activeItemIndex,key:"switchSelector",bgStyle:"transparent",colorSchema:"custom",size:"l",spacing:0
})]:null},_renderItem:function(e){return Array.isArray(e)?e[this.state.activeItemIndex]:null},render:function(){var e=this.props.component.getChildren();if(!Array.isArray(e)&&e&&(e=[e]),
Array.isArray(e)){var t,r=null===(t=this.props.component.getDefault())||void 0===t?void 0:t.childTagName;0===(e=e.filter((function(e){return s.Common.Element.isValid(e)&&e.type.tagName===r
}))).length&&(e=null)}return s.Common.Element.create(s.Bricks.Div,this.getMainPropsToPass(),s.Common.Element.create(s.BricksEditable.Toolbar,{ref_:this._registerEditToolbar,
items:this._getToolbarItems(e),onClose:this._onEndEditation,onMoreSettingsClick:this.props.onMoreSettingsClick},this._renderItem(e)),this.props.getModal())}}),V=function(){
return c.a.css(a||(a=v(["\n    font-size: 14px;\n    font-style: italic;\n    padding-top: 6px;\n    border-radius: 0.3em;\n    color: rgba(0, 0, 0, 0.34);\n  "])))},S=function(e){
return s.Common.Element.create(s.Bricks.Text,m({},s.Common.VisualComponent.getAttrs(e,V()),{content:e.message}))},j=function(e){return s.Common.Element.create(s.Forms.Text,{
label:s.Common.Element.create(s.Bricks.Lsi,{lsi:d.a.authorized.nameLabel}),value:e.editedItem.props.name,onBlur:function(t){var r=t.value,o=e.items.map((function(t){var o={id:t.id}
;return t.id===e.editedItem.id&&(o.props={name:r}),o}));e.onChangeItems(o,e.errors)}})},T=function(e){var t
;return(e=null===(t=e)||void 0===t?void 0:t.value)&&e.tempValue&&-1===e.indexOf(e.tempValue)&&e.push(e.tempValue),e}}}]);