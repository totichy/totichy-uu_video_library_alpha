/*!
 * UAF Licence for the uuPlus4U5 software.
 * 
 * Copyright (c) 2016-present, Unicorn a.s.
 * All rights reserved.
 * 
 * Definitions
 * -----------
 * This licence agreement is based on the original "BSD Licence" published by
 * the Regents of the University of California in 1990.
 * 
 * The term "Software" means the plus4u5 package, its modules, components,
 * all program files, source code, examples, media, and documentation which are part
 * of the Software package, as well as any portion of them. The term "Author" means
 * Unicorn a.s. and all its subsidiaries and/or affiliates.
 * 
 * Licence Agreement
 * -----------------
 * 
 * Redistribution and use of this Software in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 
 * 3. All derivative products containing user interface must display the following
 *    acknowledgement in the appropriate "About window" or website section accessible
 *    by all users of the product:
 * 
 *      This product includes following software developed by
 *      <a href="https://unicorn.com">Unicorn a.s.</a>:
 *      <a href="https://uuos9.plus4u.net/uu-bookkitg01-main/78462435-86b4d5a4a030400784764ebdb972bbda/book">UAF</a>,
 *      <a href="https://uuos9.plus4u.net/uu-bookkitg01-main/78462435-ed11ec379073476db0aa295ad6c00178/book">uu5</a>.
 * 
 * 4. All derivative products must not block the default plus4u5 browser console message containing
 *    Software version information and copyright notice of the Author.
 * 
 * 5. The use of any portion of this Software is not allowed in the products
 *    that fully or partially resemble the functionality of the Software
 *    or otherwise compete with the Software unless they are licenced under the same licence
 *    conditions and provided free of charge. Specific prior written permission is required otherwise.
 * 
 * 6. Neither the name of the Author nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 * 
 * Disclaimer
 * ----------
 * THIS SOFTWARE IS PROVIDED BY AUTHOR "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AUTHOR BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
(window.__webpack_jsonp_uu_plus4u5g01_4_19_2_uu_plus4u5g01_app=window.__webpack_jsonp_uu_plus4u5g01_4_19_2_uu_plus4u5g01_app||[]).push([[3],{63:function(e,t,n){var o=n(64)
;"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(7)()}};n(8)(o,r);o.locals&&(e.exports=o.locals)},64:function(e,t,n){
(t=n(6)(!1)).push([e.i,".plus4u5-app-authors-editable-tile-dnd-hoc-wrapper{display:flex;align-items:stretch;position:relative;height:100%}.plus4u5-app-authors-editable-tile-dnd-hoc-wrapper-dragging{opacity:.2}.plus4u5-app-authors-editable-tile-dnd-hoc-drop-indicator{display:none;position:absolute;left:0;top:0;bottom:8px;z-index:10;border:3px solid #2196f3;border-radius:3px;transform:translateX(-50%)}.plus4u5-app-authors-editable-tile-dnd-hoc-wrapper-indicate-after .plus4u5-app-authors-editable-tile-dnd-hoc-drop-indicator{left:auto;right:0;transform:translateX(50%)}.plus4u5-app-authors-editable-tile-dnd-hoc-wrapper-indicate .plus4u5-app-authors-editable-tile-dnd-hoc-drop-indicator{display:block}",""]),
e.exports=t},65:function(e,t,n){var o=n(66);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(7)()}};n(8)(o,r);o.locals&&(e.exports=o.locals)},
66:function(e,t,n){
(t=n(6)(!1)).push([e.i,".plus4u5-app-authors-editable-tile{position:relative;padding:16px;border:1px solid #ccc;border-radius:2px!important;overflow:hidden;flex:1 1 auto}.plus4u5-app-authors-editable-tile:hover .plus4u5-app-authors-editable-tile-controls{opacity:1}.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-controls{position:absolute;z-index:1;top:8px;right:8px;opacity:0}.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-controls .uu5-bricks-button:not(:last-child){margin-right:4px}.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-portrait{margin:0 auto 12px;-webkit-filter:grayscale(100%);filter:grayscale(100%)}.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-portrait .plus4u5-rich-image-img-container{margin:0 auto}.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-handle{position:absolute;z-index:1;top:0;left:0;width:40px;height:40px;background-color:#fafafa;display:flex;align-items:center;justify-content:center;cursor:move;font-size:28px;color:rgba(0,0,0,.54);border-right:1px solid #eee;border-bottom:1px solid #eee;border-bottom-right-radius:2px}.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-main-label,.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-secondary-label{min-height:23px;text-align:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-secondary-label{color:rgba(0,0,0,.54)}@media (min-width:769px){.plus4u5-app-authors-editable-tile:not(:hover) .plus4u5-app-authors-editable-tile-handle{border-bottom:1px solid transparent;border-right:1px solid transparent;background-color:transparent}}@media (max-width:768px){.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-controls{position:static;opacity:1;text-align:right;border-bottom:1px solid #eee;padding:0 16px 8px;margin:-8px -16px 8px}.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-controls .uu5-bricks-button:not(:last-child){margin-right:4px}.plus4u5-app-authors-editable-tile .plus4u5-app-authors-editable-tile-handle{width:48px;height:48px;border-bottom:none;border-bottom-right-radius:0}}",""]),
e.exports=t},67:function(e,t,n){var o=n(68);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(7)()}};n(8)(o,r);o.locals&&(e.exports=o.locals)},
68:function(e,t,n){
(t=n(6)(!1)).push([e.i,".plus4u5-app-text-language{margin-top:24px}.plus4u5-app-text-language>.uu5-bricks-column.plus4u5-app-text-language-label{padding:6px 16px;text-align:right;color:rgba(0,0,0,.54);font-size:14px}.plus4u5-app-text-language .plus4u5-app-text-language-input-row{display:flex;margin-top:0}.plus4u5-app-text-language .plus4u5-app-text-language-input-row:not(:first-child){margin-top:12px}.plus4u5-app-text-language .plus4u5-app-text-language-input-row>:not(:first-child){margin-left:8px;max-height:32px}.plus4u5-app-text-language .plus4u5-app-text-language-input-row .uu5-forms-input{margin-top:0;flex:1}.plus4u5-app-text-language .plus4u5-app-text-language-input-row .uu5-bricks-dropdown .uu5-bricks-dropdown-button{width:88px}.plus4u5-app-text-language .plus4u5-app-text-language-input-row .uu5-bricks-dropdown .uu5-bricks-dropdown-button .uu5-bricks-button-text{text-align:left;display:inline-block;width:46px}.plus4u5-app-text-language .plus4u5-app-text-language-input-row .uu5-bricks-dropdown .uu5-bricks-dropdown-button>.uu5-bricks-icon:last-child{margin-left:0}.plus4u5-app-text-language .plus4u5-app-text-language-input-row .uu5-bricks-dropdown .uu5-bricks-dropdown-menu{max-width:88px;min-width:88px}.plus4u5-app-text-language .plus4u5-app-text-language-link{display:inline-block;margin-top:8px}.plus4u5-app-text-language .plus4u5-app-text-language-link:first-child{margin-top:6px}.plus4u5-app-text-language>.uu5-bricks-column{padding:0}@media (max-width:768px){.plus4u5-app-text-language .plus4u5-app-text-language-input-row:first-child{margin-top:7px}.plus4u5-app-text-language .uu5-forms-input-wrapper{margin-top:0}}@media (max-width:480px){.plus4u5-app-text-language>.uu5-bricks-column.plus4u5-app-text-language-label{text-align:left;padding:0 0 8px}}",""]),
e.exports=t},69:function(e,t,n){var o=n(70);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(7)()}};n(8)(o,r);o.locals&&(e.exports=o.locals)},
70:function(e,t,n){(t=n(6)(!1)).push([e.i,"",""]),e.exports=t},71:function(e,t,n){var o=n(72);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(7)()}}
;n(8)(o,r);o.locals&&(e.exports=o.locals)},72:function(e,t,n){
(t=n(6)(!1)).push([e.i,".plus4u5-app-search-person{min-height:144px}.plus4u5-app-search-person .plus4u5-app-search-person-people-row{display:flex;margin:8px 0;border:1px solid #d6d6d6;border-radius:2px;cursor:pointer}.plus4u5-app-search-person .plus4u5-app-search-person-people-row:hover{box-shadow:0 0 0 0 transparent,0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12),0 1px 5px 0 rgba(0,0,0,.2)}.plus4u5-app-search-person .plus4u5-app-search-person-people-row .plus4u5-bricks-user-photo{margin:8px 16px 8px 24px}.plus4u5-app-search-person .plus4u5-app-search-person-people-row .plus4u5-app-search-person-people-row-attrs{padding:10px 0}",""]),
e.exports=t},73:function(e,t,n){var o=n(74);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(7)()}};n(8)(o,r);o.locals&&(e.exports=o.locals)},
74:function(e,t,n){
(t=n(6)(!1)).push([e.i,".plus4u5-app-authors-editable-inline-form{padding-top:1px}.plus4u5-app-authors-editable-inline-form .uu5-bricks-panel-header{display:none}.plus4u5-app-authors-editable-inline-form .uu5-bricks-panel-body-body{padding:0}",""]),
e.exports=t},75:function(e,t,n){var o=n(76);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(7)()}};n(8)(o,r);o.locals&&(e.exports=o.locals)},
76:function(e,t,n){
(t=n(6)(!1)).push([e.i,".plus4u5-app-about-delete-form .plus4u5-app-about-delete-form-content{padding:32px 0 24px;text-align:center}.plus4u5-app-about-delete-form .uu5-forms-controls .uu5-bricks-button>*{vertical-align:baseline}",""]),
e.exports=t},77:function(e,t,n){var o=n(78);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(7)()}};n(8)(o,r);o.locals&&(e.exports=o.locals)},
78:function(e,t,n){
(t=n(6)(!1)).push([e.i,".plus4u5-app-authors-editable .plus4u5-app-authors-editable-top-menu{text-align:right;padding:0 20px}.plus4u5-app-authors-editable .plus4u5-app-authors-editable-top-menu .uu5-bricks-button{font-family:ClearSans-Medium;margin:0 4px}.plus4u5-app-authors-editable .plus4u5-app-authors-editable-top-menu .uu5-bricks-button .uu5-bricks-icon{margin-left:-10px;margin-right:8px}.plus4u5-app-authors-editable .plus4u5-app-authors-editable-edit-form-panel .uu5-bricks-panel-header{display:none}.plus4u5-app-authors-editable .plus4u5-app-authors-editable-edit-form-panel .uu5-bricks-panel-body-body{padding:0}.plus4u5-app-authors-editable .plus4u5-app-authors-editable-edit-form{padding:0 24px}.plus4u5-app-authors-editable .plus4u5-app-authors-editable-edit-form .uu5-forms-text.uu5-forms-input-read-only input[type=text].uu5-forms-input-form-item{color:rgba(0,0,0,.54)}.plus4u5-app-authors-editable .plus4u5-app-authors-editable-edit-form .uu5-forms-controls{padding:12px 4px 24px}.plus4u5-app-authors-editable .ReactVirtualized__Grid.ReactVirtualized__List.uu5-tiles-list-virtualized{overflow:visible!important}.plus4u5-app-authors-editable-delete-form-body .plus4u5-app-authors-editable-delete-form-content{padding:32px 0 24px;text-align:center}.plus4u5-app-authors-editable-delete-form-body .uu5-forms-controls .uu5-bricks-button>*{vertical-align:baseline}@media screen and (max-width:768px){.plus4u5-app-authors-editable .uu5-tiles-tile-button-drag-wrapper{display:flex}}@media screen and (max-width:480px){.plus4u5-app-authors-editable .uu5-tiles-tile-button-drag{right:0;top:0;border-radius:0 0 16px 0}.plus4u5-app-authors-editable .uu5-tiles-tile{border:1px solid #d6d6d6}.plus4u5-app-authors-editable .uu5-tiles-list-controller-list-container{padding:0 24px}}",""]),
e.exports=t},82:function(e,t,n){"use strict";n.r(t),n.d(t,"EditableAuthors",(function(){return oe}));var o=n(0),r=n.n(o),a=(n(4),n(3)),i=n(1),s=n(2),l=n(12);n(63);function u(){
return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}
function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),
n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))
}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h,d,g=l.a["react-dnd"],f=g.DragSource,C=g.DropTarget,v={
dropAllowedOn:{},dragSourceComponent:null},b=function(e){var t=e.isDragOver,n=e.canDrop,o=e.component,r=v,a=r.dropAllowedOn,i=r.dragSourceComponent;t&&n?a[o.props.id]=!0:delete a[o.props.id],
i&&i.setDragIsOverDroppableTarget(Object.keys(a).length>0)},x=function(e){var t=e.isDragging,n=e.component;t?(v.dragSourceComponent=n,
v.dragSourceComponent.setDragIsOverDroppableTarget(Object.keys(v.dropAllowedOn).length>0)):n===v.dragSourceComponent&&(v.dragSourceComponent=null)},y={canDrag:function(e){return e.draggable},
beginDrag:function(e,t,n){return n&&"function"==typeof n.getDecoratedComponentInstance&&(n=n.getDecoratedComponentInstance()),v.dragSourceComponent=n,c({id:e.id},e.data)},endDrag:function(e,t){v={
dropAllowedOn:{},dragSourceComponent:null};var n=t.getDropResult();n&&n.component&&"function"==typeof n.component.props.onDrop&&n.component.props.onDrop(n)},isDragging:function(e,t){
return e.id===t.getItem().id}},_=function(e,t){return{_connectDragSource:e.dragSource(),_connectDragPreview:e.dragPreview(),_isDragging:t.isDragging(),_onDraggingChange:x}},S={canDrop:function(e,t){
return t.getItem().id!==e.id},hover:function(e,t,n){if(n){"function"==typeof n.getDecoratedComponentInstance&&(n=n.getDecoratedComponentInstance())
;var o=r.a.Common.DOM.findNode(n),a=o?o.lastChild:null;if(a){var i=a.getBoundingClientRect(),s=(i.right+i.left)/2,l=t.getClientOffset().x<s,u=0;if(l){
var p=(((o.parentNode||{}).previousSibling||{}).lastChild||{}).lastChild;u=p?(p.getBoundingClientRect().right-i.left)/2:(o.parentNode.getBoundingClientRect().left-i.left)/2,
u+=i.left-o.getBoundingClientRect().left}else{var c=(((o.parentNode||{}).nextSibling||{}).lastChild||{}).lastChild;c&&(u=(i.right-c.getBoundingClientRect().left)/2,
u+=o.getBoundingClientRect().right-i.right)}n.setDropIndicator(l,u)}}},drop:function(e,t,n){if(n&&"function"==typeof n.getDecoratedComponentInstance&&(n=n.getDecoratedComponentInstance()),
!t.didDrop())return{item:t.getItem(),component:n,before:n.getDropIndicator().before}}},D=function(e,t){return{_connectDropTarget:e.dropTarget(),_isDragOver:t.isOver(),_onDragOverChange:b,
_canDrop:t.isOver()&&t.canDrop()}},E=function(e,t){
var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=(e.classNames||{}).main||"",l=function(e){
return s.a.CSS+"authors-editable-tile-dnd-hoc"+(e?"-"+e:"")+(i?" "+i+(e?"-"+e:""):"")},p=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin],statics:{
tagName:s.a.TAG+"AuthorsEditableTileDndHoc",classNames:{main:l(),wrapper:l("wrapper"),dragOver:l("wrapper-drag-over"),dragging:l("wrapper-dragging"),indicate:l("wrapper-indicate"),
indicateAfter:l("wrapper-indicate-after"),dropIndicator:l("drop-indicator")},opt:{hoc:!0}},getInitialState:function(){return{dropIndicatorBefore:a,dropIndicatorOffset:0}},componentDidMount:function(){
this._fireDragOverChange(),this._fireDraggingChange()},componentWillUnmount:function(){this.props._isDragOver&&this._fireDragOverChange(c(c({},this.props),{},{_isDragOver:!1,_canDrop:!1})),
this.props._isDragging&&this._fireDraggingChange(c(c({},this.props),{},{_isDragging:!1}))},componentDidUpdate:function(e){if(e._isDragOver!==this.props._isDragOver&&this._fireDragOverChange(),
e._isDragging!==this.props._isDragging&&this._fireDraggingChange(),this._dropIndicator&&this._card){
var t=r.a.Common.DOM.findNode(this._rootNode).getBoundingClientRect(),n=r.a.Common.DOM.findNode(this._card).getBoundingClientRect(),o=r.a.Common.DOM.findNode(this._dropIndicator)
;o.style.top=t.top-n.top+"px",o.style.bottom=t.bottom-n.bottom+"px"}},setDropIndicator:function(e,t){a&&(e=!0),this.setState((function(n){var o
;return(n.dropIndicatorBefore!==e||Math.abs(t-n.dropIndicatorOffset)>.5)&&(o={dropIndicatorBefore:e,dropIndicatorOffset:t}),o}))},getDropIndicator:function(){return{
before:this.state.dropIndicatorBefore,offset:this.state.dropIndicatorOffset}},setDragIsOverDroppableTarget:function(e){this.setState((function(t){var n;return t.isOverDroppable!==e&&(n={
isOverDroppable:e}),n}))},_fireDragOverChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if("function"==typeof e._onDragOverChange){var t={
isDragOver:e._isDragOver,canDrop:e._canDrop,component:this};e._onDragOverChange(t)}},_fireDraggingChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props
;if("function"==typeof e._onDraggingChange){var t={isDragging:e._isDragging,component:this};e._onDraggingChange(t)}},_setCardRef:function(e){this._card=e},_setDropIndicatorRef:function(e){
this._dropIndicator=e},_setRootNodeRef:function(e){this._rootNode=e},render:function(){
var t,a=this.props,i=a._connectDragPreview,s=a._connectDropTarget,l=a._isDragging,p=a._isDragOver,c=a.draggable,h=this.state,d=h.dropIndicatorBefore,g=h.dropIndicatorOffset,f=h.isOverDroppable,C=[this.getClassName().wrapper]
;l&&C.push(this.getClassName().dragging),(p||l&&!f)&&(p||(d=!0),C.push(this.getClassName().dragOver),C.push(this.getClassName().indicate),d||C.push(this.getClassName().indicateAfter)),
t=r.a.Common.Element.create("div",{ref:this._setDropIndicatorRef,className:this.getClassName().dropIndicator,style:m({},d?"marginLeft":"marginRight",g)});var v=r.a.Common.Element.create("div",{
className:C.join(" "),style:this.props.wrapperStyle,ref:this._setRootNodeRef},t,r.a.Common.Element.create(e,u({},this.props,{_isOverDroppable:f,ref:this._setCardRef})));return c&&n&&(v=i(v)),
o&&(v=s(v)),v}});return n&&(p=f(t,y,_)(p)),o&&(p=C([t],S,D)(p)),p},A=n(9);n(65);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{
value:Object.freeze(t)}}))}var P=E(o.Common.VisualComponent.create({mixins:[o.Common.BaseMixin],statics:{tagName:s.a.TAG+"AuthorsEditableIconTile"},render:function(){
var e=this.props,t=e.elevation,n=e.elevationHover,r=e.onClick,a=e.icon,l=e.cardClassName,u=i.a.css(h||(h=I(["\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n    "]))),p=i.a.css(d||(d=I(["font-size: 96px; color: ",";"])),o.Environment.colors.common.darkIcon)
;return o.Common.Element.create(o.Bricks.Card,{className:s.a.CSS+"authors-editable-tile "+u+" "+(l||""),elevation:t,elevationHover:n,mainAttrs:{onClick:r}},o.Common.Element.create(o.Bricks.Icon,{
icon:a,className:p}))}}),"Plus4U5.App.AuthorsTile",!1,!0,!0),w=E(o.Common.VisualComponent.create({mixins:[o.Common.BaseMixin,o.Common.ElementaryMixin],statics:{tagName:s.a.TAG+"AuthorsEditableTile",
classNames:{main:s.a.CSS+"authors-editable-tile",handle:s.a.CSS+"authors-editable-tile-handle",portrait:s.a.CSS+"authors-editable-tile-portrait",mainLabel:s.a.CSS+"authors-editable-tile-main-label",
secondaryLabel:s.a.CSS+"authors-editable-tile-secondary-label",controls:s.a.CSS+"authors-editable-tile-controls"}},_onEditClick:function(){this.props.editAuthor(this.props.data)},
_onDeleteClick:function(){this.props.deleteAuthor(this.props.data)},_renderBody:function(e){var t=e.data,n=(e.isLoading,
null===this.props.elevationHover?this.props.elevation:this.props.elevationHover),r=this.props._connectDragSource,i=this.props.name;return!i&&t&&(i="".concat(t.first_name," ").concat(t.surname)),
o.Common.Element.create(o.Bricks.Card,O({},this.getMainPropsToPass(),{elevation:this.props.elevation,elevationHover:n}),r(o.Common.Element.create("div",{className:this.getClassName("handle")
},o.Common.Element.create(o.Bricks.Icon,{icon:"mdi-drag-vertical"}))),o.Common.Element.create(o.Bricks.Div,null,o.Common.Element.create(o.Bricks.Div,{className:this.getClassName("controls")
},o.Common.Element.create(o.Bricks.Button,{colorSchema:"primary",onClick:this._onEditClick},o.Common.Element.create(o.Bricks.Icon,{icon:"mdi-pencil"})),o.Common.Element.create(o.Bricks.Button,{
colorSchema:"danger",onClick:this._onDeleteClick},o.Common.Element.create(o.Bricks.Icon,{icon:"mdi-delete"}))),o.Common.Element.create(o.Bricks.Div,{className:this.getClassName("portrait")
},o.Common.Element.create(a.Bricks.UserPhoto,{type:"circle",width:this.props.small?80:100,src:this.props.src,uuIdentity:this.props.uuIdentity||(this.props.src?null:"0-0")
})),o.Common.Element.create(o.Bricks.Div,null,o.Common.Element.create(o.Bricks.Div,{className:this.getClassName("mainLabel")
},o.Common.Element.create(o.Bricks.Strong,null,i)),o.Common.Element.create(o.Bricks.Div,{className:this.getClassName("secondaryLabel"),content:this.props.role}),o.Common.Element.create(o.Bricks.Div,{
className:this.getClassName("secondaryLabel"),content:this.props.content}))))},render:function(){return o.Common.Element.create(o.Common.Loader,{onLoad:A.a.loadPersonInfoCached,
data:!this.props.name&&this.props.uuIdentity?{uuIdentity:this.props.uuIdentity}:void 0,authenticate:!0},this._renderBody)}}),"Plus4U5.App.AuthorsTile"),k=(n(67),o.Common.VisualComponent.create({
mixins:[o.Common.BaseMixin,o.Common.ElementaryMixin,o.Common.ScreenSizeMixin],statics:{tagName:s.a.TAG+"TextLanguage",classNames:{main:s.a.CSS+" "+s.a.CSS+"text-language",
label:s.a.CSS+"text-language-label",inputRow:s.a.CSS+"text-language-input-row",link:s.a.CSS+"text-language-link"},opt:{nestingLevelWrapper:!0},lsi:function(){return a.Environment.Lsi.App.authors}},
propTypes:{},getDefaultProps:function(){return{}},getInitialState:function(){return{value:this._lsiToArray(this.props.value)}},UNSAFE_componentWillReceiveProps:function(e){
var t=this._lsiToArray(e.value);this.setState({value:t})},setValue:function(e){var t=this._lsiToArray(e);this.setState({value:t})},getValue:function(){var e;if("obj"===this.props.export){e={}
;for(var t=0;t<this.state.value.length;t++)e[this.state.value[t].language]=this.state.value[t].content.replace(/\n/g,"<br/>")}else if(e="",this.state.value.length>0){e+="<uu5string/><UU5.Bricks.Lsi>"
;for(var n=0;n<this.state.value.length;n++)e+='<UU5.Bricks.Lsi.Item language="'+this.state.value[n].language+'">'+this.state.value[n].content.replace(/\n/g,"<br/>")+"</UU5.Bricks.Lsi.Item>"
;e+="</UU5.Bricks.Lsi>"}return e},_lsiToArray:function(e){var t=[];if("string"==typeof e){
if(e&&e.match(/^<uu5string\/>(\n|\s)*<UU5\.Bricks\.Lsi>.*<\/UU5\.Bricks\.Lsi>/))for(var n=e.match(/<UU5\.Bricks\.Lsi\.Item language=".{2}(-.{2})?">.*?<\/UU5\.Bricks\.Lsi\.Item>/g),r=0;r<n.length;r++){
var a=n[r].match(/<UU5\.Bricks\.Lsi\.Item language=".{2}(-.{2})?">/);a=(a=a[0].match(/language=".{2}(-.{2})?/))[0].replace('language="',"")
;var i=n[r].replace(/<UU5\.Bricks\.Lsi\.Item language=".{2}(-.{2})?">/,"");i=(i=i.replace(/<\/UU5\.Bricks\.Lsi\.Item>/,"")).replace(/<br\/>/g,"\n"),t.push({content:i,language:a})}else if(e){
var s=e.replace(/^<uu5string\/>/,"");t.push({content:s,language:o.Environment.languages[0].language})}}else for(var l in e)t.push({content:e[l],language:l});return t},_renderInput:function(e,t){
for(var n=this,r=[],a=function(a){r.push(o.Common.Element.create(o.Bricks.Dropdown.Item,{key:"lang_"+a,label:t[a],onClick:function(){var o=n.state.value;o[e].language=t[a],n.setState({value:o
},(function(){return n.props.onChange&&n.props.onChange({value:n.getValue()})}))},inputAttrs:{autoComplete:"off"}}))},i=0;i<t.length;i++)a(i);return o.Common.Element.create(o.Bricks.Div,{key:"row"+e,
className:this.getClassName("inputRow")},this.props.textArea?o.Common.Element.create(o.Forms.TextArea,{rows:1,autoResize:!0,value:this.state.value[e].content,onChange:function(t){var o=n.state.value
;o[e].content=t.value,n.setState({value:o})},onBlur:function(){return n.props.onChange&&n.props.onChange({value:n.getValue()})}}):o.Common.Element.create(o.Forms.Text,{
value:this.state.value[e].content,onChange:function(t){var o=n.state.value;o[e].content=t.value,n.setState({value:o})},onBlur:function(){return n.props.onChange&&n.props.onChange({value:n.getValue()})
}}),o.Common.Element.create(o.Bricks.Dropdown,{label:this.state.value[e].language,size:"m",disabled:0===t.length},r),o.Common.Element.create(o.Bricks.Button,{onClick:function(){var t=n.state.value
;t.splice(e,1),n.setState({value:t},(function(){return n.props.onChange&&n.props.onChange({value:n.getValue()})}))}},o.Common.Element.create(o.Bricks.Icon,{icon:"mdi-close"})))},
_renderInputs:function(e){for(var t=[],n=0;n<this.state.value.length;n++)t.push(this._renderInput(n,e));return t},render:function(){for(var e=this,t=[],n=0;n<this.props.languages.length;n++){
for(var r=!0,a=0;a<this.state.value.length;a++)this.props.languages[n]===this.state.value[a].language&&(r=!1);r&&t.push(this.props.languages[n])}
return o.Common.Element.create(o.Bricks.Row,this.getMainPropsToPass(),o.Common.Element.create(o.Bricks.Column,{colWidth:"xs12 s4",className:this.getClassName("label")
},o.Common.Element.create(o.Bricks.Span,{content:this.props.label})),o.Common.Element.create(o.Bricks.Column,{colWidth:"xs12 s7"},this._renderInputs(t),o.Common.Element.create(o.Bricks.Link,{
className:this.getClassName("link"),onClick:function(){var n=e.state.value,r=t.includes(o.Environment.languages[0].language)?o.Environment.languages[0].language:t[0];n.push({language:r,content:""}),
e.setState({value:n},(function(){return e.props.onChange&&e.props.onChange({value:e.getValue()})}))},disabled:this.props.languages.length<=this.state.value.length,
content:this.getLsiComponent("textLanguageAdd")})))}}));n(69);function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var B=o.Common.VisualComponent.create({mixins:[o.Common.BaseMixin,o.Common.ElementaryMixin],
statics:{tagName:s.a.TAG+"AuthorsEditableModalForm",classNames:{main:s.a.CSS+" "+s.a.CSS+"authors-editable-modal-form"},lsi:function(){return a.Environment.Lsi.App.authors}},propTypes:{},
getDefaultProps:function(){return{}},getAuthors:function(){return this.props.authorList},_onValidate:function(e){var t=e.component.getValues()
;return!(!t.name&&!t.uuId)||(this._authorName.setError(this.getLsiComponent("requiredText")),this._uuId.setError(this.getLsiComponent("requiredText")),!1)},_onChangeNameOrId:function(e){
this._authorName.setInitial(),this._uuId.setInitial(),e.component.onChangeDefault(e)},_onSave:function(e){this.props.onSave({id:this.props.author.id,uuId:this.props.author.uuId,
code:this.props.author.code,name:e.name,role:e.role,content:this._desc.getValue(),photo:e.photo},this._controls)},_onCancel:function(){var e=this.props.onCancel;"function"==typeof e&&e()},
_getChild:function(){var e=this;return o.Common.Element.create(o.Forms.Form,N({},this.getMainPropsToPass(),{onSave:function(t){var n=t.values;e._onSave(n)},onCancel:this._onCancel,
onValidate:this._onValidate}),o.Common.Element.create(o.Forms.Text,{value:this.props.author.name,name:"name",label:this.getLsiComponent("addAuthorName"),labelColWidth:"xs12 s12 m4 l4 xl4",
inputColWidth:"xs12 s12 m7 l7 xl7",inputAttrs:{autoComplete:"off"},pattern:"^.{0,4000}$",patternMessage:this.getLsiComponent("textTooLong4000"),ref_:function(t){return e._authorName=t},
onChange:this._onChangeNameOrId}),o.Common.Element.create(o.Forms.Text,{name:"uuId",value:this.props.author.uuId,label:this.getLsiComponent("addAuthorUuId"),labelColWidth:"xs12 s12 m4 l4 xl4",
inputColWidth:"xs12 s12 m7 l7 xl7",inputAttrs:{autoComplete:"off"},ref_:function(t){return e._uuId=t},onChange:this._onChangeNameOrId}),o.Common.Element.create(o.Forms.Text,{
value:this.props.author.role,name:"role",label:this.getLsiComponent("addAuthorRole"),labelColWidth:"xs12 s12 m4 l4 xl4",inputColWidth:"xs12 s12 m7 l7 xl7",inputAttrs:{autoComplete:"off"},
pattern:"^.{0,4000}$",patternMessage:this.getLsiComponent("textTooLong4000")}),o.Common.Element.create(k,{ref_:function(t){return e._desc=t},textArea:!0,label:this.getLsiComponent("addAuthorDesc"),
value:this.props.author.content,languages:this.props.languages}),o.Common.Element.create(o.Forms.File,{value:this.props.author.photo,name:"photo",label:this.getLsiComponent("addAuthorPhoto"),
labelColWidth:"xs12 s12 m4 l4 xl4",inputColWidth:"xs12 s12 m7 l7 xl7",onChange:function(t){
!t.value||t.value.type&&t.value.type.match(/image\//)?t.component.onChangeDefault(t):t.component.setFeedback("warning",e.getLsiComponent("authorsEditableInvalidImage"))}
}),o.Common.Element.create(o.Forms.Controls,{ref_:function(t){return e._controls=t},buttonCancelProps:{content:this.getLsiComponent("buttonCancel")},buttonSubmitProps:{
content:this.getLsiComponent("buttonSave")}}))},render:function(){return this._getChild()}}),L=(n(11),n(71),o.Common.VisualComponent.create({
mixins:[o.Common.BaseMixin,o.Common.CallsMixin,o.Common.ElementaryMixin],statics:{tagName:s.a.TAG+"SearchPerson",classNames:{main:s.a.CSS+" "+s.a.CSS+"search-person",
peopleRow:s.a.CSS+"search-person-people-row",peopleRowAttrs:s.a.CSS+"search-person-people-row-attrs"},opt:{nestingLevelWrapper:!0},calls:{getPersonalCardList:"getPersonalCardList"},lsi:function(){
return a.Environment.Lsi.App.authors}},propTypes:{},getDefaultProps:function(){return{}},getInitialState:function(){return{value:this.props.value}},UNSAFE_componentWillReceiveProps:function(e){
this.setState({value:e.value})},UNSAFE_componentWillMount:function(){this.setCalls(A.a)},componentDidMount:function(){var e=this;setTimeout((function(){return e._formNameOrID.focus()}),200),
this.props.value&&this.props.value.length>=3&&this._getPlus4PeopleList(this.props.value)},_getPlus4PeopleList:function(){this._formNameOrID.setLoading("",this._formNameOrID.getValue())
;var e=this._formNameOrID.getValue(),t=/\d*-\d*/.test(e)?{uuIdentity:e}:{name:e},n={done:this._getPlus4PeopleListDone,fail:this._getPlus4PeopleListFail,data:t};this.getCall("getPersonalCardList")(n)},
_getPlus4PeopleListDone:function(e){var t=this;0!==e.itemList.length?this.setState({value:this._formNameOrID.getValue(),isLoading:!1,plus4uPeopleData:e.itemList},(function(){
return t._formNameOrID.setInitial("",t._formNameOrID.getValue())})):(this.setState({value:this._formNameOrID.getValue(),isLoading:!1,plus4uPeopleData:null}),
this._formNameOrID.setFeedback("error",this.getLsiComponent("searchAuthorNoResult"),this._formNameOrID.getValue()))},_getPlus4PeopleListFail:function(){this.setState({
value:this._formNameOrID.getValue(),isLoading:!1}),this._formNameOrID.setFeedback("error",this.getLsiComponent("searchAuthorNoResult"),this._formNameOrID.getValue())},_getPeopleRow:function(e,t){
var n=this;return o.Common.Element.create(o.Bricks.Div,{key:t,className:this.getClassName("peopleRow"),mainAttrs:{onClick:function(){return n.props.onSelectPerson(e.p4u_id,e.name)}}
},o.Common.Element.create(a.Bricks.UserPhoto,{uuIdentity:e.p4u_id||"0-0",type:"circle"}),o.Common.Element.create(o.Bricks.Div,{className:this.getClassName("peopleRowAttrs")
},o.Common.Element.create(o.Bricks.Div,{content:e.name}),o.Common.Element.create(o.Bricks.Div,{content:e.p4u_id})))},_getPeopleRows:function(){
for(var e=[],t=0;t<this.state.plus4uPeopleData.length;t++)e.push(this._getPeopleRow(this.state.plus4uPeopleData[t],t));return o.Common.Element.create(o.Bricks.Div,null,e)},render:function(){var e=this
;return o.Common.Element.create(o.Bricks.Div,this.getMainPropsToPass(),o.Common.Element.create(o.Bricks.Row,null,o.Common.Element.create(o.Forms.TextButton,{ref_:function(t){return e._formNameOrID=t},
label:this.getLsiComponent("searchAuthorLabel"),name:"uuIdentity",value:this.state.value?this.state.value:"",buttons:[{icon:"mdi-magnify",onClick:function(t){
t.value.length>=3&&e._getPlus4PeopleList(t.value)}}],message:this.getLsiComponent("searchAuthorHint"),pattern:"^.{3,}$|^$",patternMessage:this.getLsiComponent("searchAuthorInvalidInput"),style:{
margin:"16px 0"},labelColWidth:"xs12 s12 m12 l12 xl12",inputColWidth:"xs12 s12 m12 l12 xl12",inputAttrs:{autoComplete:"off"}})),this.state.plus4uPeopleData&&this._getPeopleRows())}}));n(73)
;function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e
}).apply(this,arguments)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
;t%2?j(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
var F=o.Common.VisualComponent.create({mixins:[o.Common.BaseMixin,o.Common.CcrReaderMixin,o.Common.ElementaryMixin],statics:{tagName:s.a.TAG+"AuthorsEditableInlineForm",classNames:{
main:s.a.CSS+" "+s.a.CSS+"authors-editable-inline-form"},lsi:function(){return a.Environment.Lsi.App.authors}},propTypes:{},getDefaultProps:function(){return{}},shouldComponentUpdate:function(e,t){
return e.addFormActive!==this.props.addFormActive},_onValidate:function(e){var t=e.component.getValues();return!(!t.name&&!t.uuId)||(this._authorName.setError(this.getLsiComponent("requiredText")),
this._uuId.setError(this.getLsiComponent("requiredText")),!1)},_onChangeNameOrId:function(e){this._authorName.setInitial(),this._uuId.setInitial(),e.component.onChangeDefault(e)},
_openSearchPerson:function(){var e=this
;this.getCcrComponentByKey(o.Environment.CCRKEY_PAGE)&&this.getCcrComponentByKey(o.Environment.CCRKEY_PAGE).getModal()&&this.getCcrComponentByKey(o.Environment.CCRKEY_PAGE).getModal().open({
header:o.Common.Element.create(o.Bricks.Div,{content:this.getLsiComponent("addAuthorModalHeader")}),content:o.Common.Element.create(L,{id:o.Common.Tools.generateUUID(16),onSelectPerson:function(t,n){
e._uuId.setValue(t),
e._authorName.setValue(n),e.getCcrComponentByKey(o.Environment.CCRKEY_PAGE)&&e.getCcrComponentByKey(o.Environment.CCRKEY_PAGE).getModal()&&e.getCcrComponentByKey(o.Environment.CCRKEY_PAGE).getModal().close()
},value:this._authorName.getValue()||null}),className:this.getClassName("modal"),size:"m"})},_getChild:function(){var e=this
;return o.Common.Element.create(o.Bricks.Panel,T({},this.getMainPropsToPass(),{expanded:this.props.addFormActive}),o.Common.Element.create(o.Forms.Form,{onSave:function(t){var n=t.values;t.component
;e.props.onSave(R(R({},n),{},{desc:e._desc&&e._desc.getValue()}),e._controls)},onCancel:function(){e.props.onClose()},onValidate:this._onValidate},o.Common.Element.create(o.Forms.TextButton,{
name:"name",label:this.getLsiComponent("addAuthorName"),ref_:function(t){return e._authorName=t},labelColWidth:"xs12 s12 m4 l4 xl4",inputColWidth:"xs12 s12 m7 l7 xl7",pattern:"^.{0,4000}$",
patternMessage:this.getLsiComponent("textTooLong4000"),buttons:[{icon:"mdi-magnify",onClick:this._openSearchPerson}],inputAttrs:{autoComplete:"off"},onChange:this._onChangeNameOrId
}),o.Common.Element.create(o.Forms.Text,{ref_:function(t){return e._uuId=t},name:"uuId",label:this.getLsiComponent("addAuthorUuId"),labelColWidth:"xs12 s12 m4 l4 xl4",
inputColWidth:"xs12 s12 m7 l7 xl7",inputAttrs:{autoComplete:"off"},onChange:this._onChangeNameOrId}),o.Common.Element.create(o.Forms.Text,{name:"role",label:this.getLsiComponent("addAuthorRole"),
labelColWidth:"xs12 s12 m4 l4 xl4",inputColWidth:"xs12 s12 m7 l7 xl7",inputAttrs:{autoComplete:"off"},pattern:"^.{0,4000}$",patternMessage:this.getLsiComponent("textTooLong4000")
}),o.Common.Element.create(k,{ref_:function(t){return e._desc=t},textArea:!0,label:this.getLsiComponent("addAuthorDesc"),languages:this.props.languages}),o.Common.Element.create(o.Forms.File,{
name:"photo",label:this.getLsiComponent("addAuthorPhoto"),labelColWidth:"xs12 s12 m4 l4 xl4",inputColWidth:"xs12 s12 m7 l7 xl7",onChange:function(t){
!t.value||t.value.type&&t.value.type.match(/image\//)?t.component.onChangeDefault(t):t.component.setFeedback("warning",e.getLsiComponent("authorsEditableInvalidImage"))}
}),o.Common.Element.create(o.Forms.Controls,{ref_:function(t){return e._controls=t},buttonCancelProps:{content:this.getLsiComponent("buttonCancel")},buttonSubmitProps:{
content:this.getLsiComponent("buttonAdd")}})))},render:function(){return this._getChild()}});n(75);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var V,z=o.Common.VisualComponent.create({
mixins:[o.Common.BaseMixin,o.Common.ElementaryMixin],statics:{tagName:s.a.TAG+"AboutDeleteForm",classNames:{main:s.a.CSS+" "+s.a.CSS+"about-delete-form",content:s.a.CSS+"about-delete-form-content"},
opt:{nestingLevelWrapper:!0},lsi:function(){return a.Environment.Lsi.App.authors}},propTypes:{},getDefaultProps:function(){return{}},setSubmitDisabled:function(e){this.setState({submitDisabled:e})},
render:function(){return o.Common.Element.create(o.Forms.Form,U({},this.getMainPropsToPass(),{onSave:this.props.onSave,onCancel:this.props.onCancel}),o.Common.Element.create(o.Bricks.Div,{
content:this.props.content,className:this.getClassName("content")}),o.Common.Element.create(o.Forms.Controls,{disabled:this.state.submitDisabled,buttonCancelProps:{
content:this.getLsiComponent("buttonCancel")},buttonSubmitProps:{colorSchema:"danger",content:this.getLsiComponent("buttonDelete")}}))}});n(77);function W(e,t){if(null==e)return{}
;var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){
var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H(e){return function(e){
if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var $,q={0:{vertical:0,verticalBottom:0,horizontalHalf:0},1:{vertical:6,verticalBottom:4,
horizontalHalf:3},2:{vertical:11,verticalBottom:7,horizontalHalf:5},3:{vertical:18,verticalBottom:11,horizontalHalf:9},4:{vertical:23,verticalBottom:15,horizontalHalf:12},5:{vertical:55,
verticalBottom:35,horizontalHalf:27}},Y=o.Common.DnD.withContext((function(e){
var t=e.data,n=e.onDrop,r=e.tileMinWidth,a=e.tileMaxWidth,i=e.tileHeight,s=e.tileElevation,l=e.tileElevationHover,u=e.tileSpacing,p=e.rowSpacing,c=e.tile,m=q[Math.max(s,l)]||q[0]
;return o.Common.Element.create(o.Bricks.Resize,null,(function(e){var h=e.width,d=(e.height,Math.floor(h/a)||1),g=Math.floor(h/r)||1,f=d<g?d:g,C=Math.ceil(t.length/f)
;return new Array(C).fill(0).map((function(e,r){var a=100/f+"%",h={};return i&&(h.height=i),r<C-1&&"number"==typeof p&&(h.marginBottom=p-m.vertical),o.Common.Element.create(o.Bricks.Row,{key:r,
display:"flex",style:h,noSpacing:!0},new Array(f).fill(0).map((function(e,i){var p=t[r*f+i],h={};"number"==typeof u&&(h.paddingRight=u-2*m.horizontalHalf);var d=c
;return o.Common.Element.create(o.Bricks.Column,{key:p&&p.id||i,width:a,noSpacing:!0,style:h},o.Common.Element.create(d,K({id:p?p.id:void 0},p,{data:p,onDrop:n,elevation:s,elevationHover:l,
_index:r*f+i,_columnIndex:i,_list:t})))})))}))}))})),X=o.Common.VisualComponent.create({mixins:[o.Common.BaseMixin,o.Common.ScreenSizeMixin],statics:{tagName:s.a.TAG+"AuthorsEditableList",classNames:{
main:s.a.CSS+" "+s.a.CSS+"authors-editable",topMenu:s.a.CSS+"authors-editable-top-menu",deleteFormContent:s.a.CSS+"authors-editable-delete-form-content",
deleteFormBody:s.a.CSS+"authors-editable-delete-form-body",editForm:s.a.CSS+"authors-editable-edit-form",panel:s.a.CSS+"authors-editable-edit-form-panel",modal:s.a.CSS+"universal-modal"},
lsi:function(){return a.Environment.Lsi.App.authors}},propTypes:{},getDefaultProps:function(){return{}},getInitialState:function(){return{addFormActive:!1}},
UNSAFE_componentWillReceiveProps:function(e){},getAuthors:function(){return this.props.authors},_findAuthorIndex:function(e,t){return t.findIndex((function(t){
return t.uuIdentity&&t.uuIdentity===e.uuIdentity||!t.uuIdentity&&t.code&&t.code===e.code}))},_addAuthor:function(e,t){var n=this.props,r=n.onChange,a=n.authors,i={name:e.name,role:e.role,
content:e.content};e.photo&&(i.photoFile=e.photo,i.src=URL.createObjectURL(e.photo)),e.uuId?i.uuIdentity=e.uuId:i.code=o.Common.Tools.generateUUID(8);var s=Array.isArray(a)?[].concat(H(a),[i]):[i]
;"function"==typeof r&&r({authors:s}),this.setState({addFormActive:!1})},_onEditSave:function(e,t){var n=this.props,o=n.onChange,r=n.authors,a={name:e.name,role:e.role,content:e.content,
uuIdentity:e.uuId,code:e.code};e.photo instanceof Blob?(a.photoFile=e.photo,a.src=URL.createObjectURL(e.photo)):e.photo||(a.photoFile=null,a.src=null);var i=this._findAuthorIndex(a,r);if(-1!==i){
for(var s in r[i])s in a||(a[s]=r[i][s]);Object.keys(a).forEach((function(e){null==a[e]&&delete a[e]}));var l=H(r);l[i]=a,"function"==typeof o&&o({authors:l}),this._modalRef.close()}},
_onEditCancel:function(){this._modalRef.close()},_openDeleteAuthorModal:function(e){var t=this;this._modalRef.open({header:o.Common.Element.create(o.Bricks.Span,{
content:this.getLsiComponent("authorsEditableDeleteHeader")}),content:o.Common.Element.create(z,{ref_:function(e){return t._aboutDeleteForm=e},
content:this.getLsiComponent("authorsEditableDeleteText"),onSave:this._onDeleteSave.bind(this,e),onCancel:this._onDeleteCancel}),className:this.getClassName("modal"),size:"m"})},
_onDeleteSave:function(e){var t=this.props,n=t.onChange,o=t.authors,r=this._findAuthorIndex(e,o);if(-1!==r){var a=H(o);a.splice(r,1),"function"==typeof n&&n({authors:a})}this._modalRef.close()},
_onDeleteCancel:function(){this._modalRef.close()},_openAddAuthorForm:function(){this.setState({addFormActive:!0})},_onCloseAddAuthor:function(){this.setState({addFormActive:!1})},
_openEditAuthorForm:function(e){var t={name:e.name,role:e.role,content:e.content,uuId:e.uuIdentity,code:e.code,photo:e.photoFile||(e.src?{url:e.src}:void 0)};this._modalRef.open({
header:o.Common.Element.create(o.Bricks.Span,{content:this.getLsiComponent("authorsEditableEditHeader")}),content:o.Common.Element.create(B,{author:t,languages:this.props.languages,
onSave:this._onEditSave,onCancel:this._onEditCancel}),className:this.getClassName("modal"),size:"l",stickyBackground:!0})},_onListControllerChange:function(e){e.component.onChangeDefault(e)
;var t=this.props.onChange;"function"==typeof t&&t({authors:e.data})},_setModalRef:function(e){this._modalRef=e},_onTileDrop:function(e){
var t=e.item,n=e.before,o=e.component,r=this.props,a=r.onChange,i=r.authors;if("function"==typeof a){var s=o.props.data,l=t,u=s?this._findAuthorIndex(s,i):i.length;if(-1===u)return
;var p=this._findAuthorIndex(l,i),c=H(i),m=n?u:u+1;c.splice(m,0,l),-1!==p&&c.splice(m<=p?p+1:p,1),a({authors:c})}},_getTileListData:function(e){return e.forEach((function(e){
e.id||Object.defineProperty(e,"id",{get:function(){return e.uuIdentity||e.code},set:function(t){delete e.id,e.id=t},configurable:!0,enumerable:!1})})),[].concat(H(e),[null])},_getTile:function(e){
var t,n,r,a,s=e._index,l=e._columnIndex,u=e._list,p=W(e,["_index","_columnIndex","_list"]);u[s]||!u[s-1]&&0!==s?t=u[s]?o.Common.Element.create(w,K({},p,{draggable:!0,
editAuthor:this._openEditAuthorForm,deleteAuthor:this._openDeleteAuthorModal,small:this.props.small})):null:(0===l&&(n=i.a.css(V||(r=["min-height: ","px;"],a||(a=r.slice(0)),
V=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(a)}}))),this.isXs()||this.isS()?this.props.small?236:256:this.props.small?196:216)),t=o.Common.Element.create(P,K({},p,{
icon:"mdi-account-plus",onClick:this._openAddAuthorForm,small:this.props.small,cardClassName:n})));return t},_getChild:function(){
return o.Common.Element.create(o.Bricks.Div,this.getMainPropsToPass(),o.Common.Element.create(Y,{data:this._getTileListData(this.props.authors||[]),onDrop:this._onTileDrop,
tileMinWidth:this.props.small?150:200,tileMaxWidth:this.isXs()||this.isS()?400:this.props.small?200:264,tileElevation:this.isXs()||this.isS()?1:0,tileElevationHover:1,tileSpacing:8,rowSpacing:8,
tile:this._getTile}),o.Common.Element.create(F,{languages:this.props.languages,onClose:this._onCloseAddAuthor,onSave:this._addAuthor,addFormActive:this.state.addFormActive
}),o.Common.Element.create(o.Bricks.Modal,{controlled:!1,ref_:this._setModalRef}))},render:function(){return this._getChild()}});function J(e,t){var n
;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)
}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){
n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Q(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Z(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e)
;for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],
t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
;t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function te(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))
}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=o.Common.VisualComponent.create({
mixins:[o.Common.BaseMixin,o.Common.ElementaryMixin],statics:{tagName:"Plus4U5.App.Internal.EditableAuthors",lsi:function(){return a.Environment.Lsi.App.authors},classNames:{section:function(){
return i.a.css($||(e=["\n          & > .uu5-richtext-editor,\n          & > .uu5-bricks-loading,\n          & > .uu5-bricks-editable-editation-panel > div:first-child > button:last-of-type, // color-schema toolbar button\n          & > .uu5-bricks-editable-editation-panel > div:last-child > button:last-of-type { // settings button\n            display: none;\n          }\n          & .uu5-bricks-header input {\n            text-align: center;\n          }\n        "],
t||(t=e.slice(0)),$=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))));var e,t}}},propTypes:{leadingAuthors:o.PropTypes.arrayOf(o.PropTypes.shape({
name:o.PropTypes.string.isRequired,content:o.PropTypes.string,uuIdentity:o.PropTypes.string,signature:o.PropTypes.string,role:o.PropTypes.any.isRequired})),
otherAuthors:o.PropTypes.arrayOf(o.PropTypes.shape({name:o.PropTypes.string,content:o.PropTypes.string,uuIdentity:o.PropTypes.string,signature:o.PropTypes.string,role:o.PropTypes.any})),
header:o.PropTypes.any,underline:o.PropTypes.bool,level:o.PropTypes.oneOf(["0","1","2","3","4","5","6",0,1,2,3,4,5,6]),onEndEditation:o.PropTypes.func,getPhotoSrc:o.PropTypes.func},
getDefaultProps:function(){return{leadingAuthors:[],otherAuthors:null,header:null,underline:!1,onChange:null,getPhotoSrc:null}},getInitialState:function(){var e=this.props;return{editState:{
leadingAuthors:e.leadingAuthors,otherAuthors:e.otherAuthors}}},componentDidMount:function(){this._section.startEditation(this._onSectionEndEditation)},getEditationValues:function(){
var e=te({},this.state.editState);for(var t in e)(null==e[t]||Array.isArray(e[t])&&0===e[t].length)&&(e[t]=void 0);return e},_onSectionEndEditation:function(e,t){var n=this;this.setState((function(e){
return{editState:te(te({},e.editState),t)}}),(function(){n._endEditation()}))},_finalizeAuthor:function(e){var t=this.props.getPhotoSrc,n=(e.src,Z(e,["src"]));return"function"==typeof t&&(n.src=t(n)),
n},_endEditation:function(){var e=this.props.onEndEditation;if("function"==typeof e){var t=this.state.editState,n=t.leadingAuthors,o=t.otherAuthors,r=Z(t,["leadingAuthors","otherAuthors"])
;o=o.map(this._finalizeAuthor),e(te({leadingAuthors:n=n.map(this._finalizeAuthor),otherAuthors:o},r))}},_onLeadingAuthorsChange:function(e){var t=this,n=e.authors;this.setState((function(e){
var o=e.editState;return{editState:t._changeAuthors("leadingAuthors",n,o.otherAuthors)}}))},_onOtherAuthorsChange:function(e){var t=this,n=e.authors;this.setState((function(e){var o=e.editState
;return{editState:t._changeAuthors("otherAuthors",n,o.leadingAuthors)}}))},_changeAuthors:function(e,t,n){var o,r={},a=[];if(Array.isArray(t)){var i,s=J(t.reverse());try{for(s.s();!(i=s.n()).done;){
var l=i.value,u=l.uuIdentity||l.code;u in r||(r[u]=!0,a.unshift(l))}}catch(e){s.e(e)}finally{s.f()}}var p=[];if(Array.isArray(n)){var c,m=J(n.reverse());try{for(m.s();!(c=m.n()).done;){
var h=c.value,d=h.uuIdentity||h.code;d in r||(r[d]=!0,p.unshift(h))}}catch(e){m.e(e)}finally{m.f()}}var g="leadingAuthors"===e?"otherAuthors":"leadingAuthors";return ne(o={},e,a),ne(o,g,p),o},
_setSectionRef:function(e){this._section=e},render:function(){var e=this.props,t=e.header,n=e.level,r=e.underline,a=o.Environment.getPage(),i=a&&a.props&&a.props.displayedLanguages||["cs","en"]
;return o.Common.Element.create(o.Common.Fragment,null,o.Common.Element.create(o.Bricks.Section,{className:this.getClassName("section"),ref_:this._setSectionRef,header:t,underline:r,level:n
}),o.Common.Element.create(o.Bricks.Section,{header:this.getLsiComponent("leadingAuthors"),level:6},o.Common.Element.create(X,{key:"leading",authors:this.state.editState.leadingAuthors,
onChange:this._onLeadingAuthorsChange,languages:i})),o.Common.Element.create(o.Bricks.Section,{header:this.getLsiComponent("otherAuthors"),level:6},o.Common.Element.create(X,{key:"other",
authors:this.state.editState.otherAuthors,onChange:this._onOtherAuthorsChange,languages:i,small:!0})))}});t.default=oe}}]);