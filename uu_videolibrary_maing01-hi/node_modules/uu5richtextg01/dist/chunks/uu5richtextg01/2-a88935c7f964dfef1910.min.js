/*!
 * UAF Licence for the uu5 software.
 * 
 * Copyright (c) 2016-present, Unicorn a.s.
 * All rights reserved.
 * 
 * Definitions
 * -----------
 * This licence agreement is based on the original "BSD Licence" published by
 * the Regents of the University of California in 1990.
 * 
 * The term "Software" means the uu5 package, its modules, components,
 * all program files, source code, examples, media, and documentation which are part
 * of the Software package, as well as any portion of them. The term "Author" means
 * Unicorn a.s. and all its subsidiaries and/or affiliates.
 * 
 * Licence Agreement
 * -----------------
 * 
 * Redistribution and use of this Software in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 
 * 3. All derivative products containing user interface must display the following
 *    acknowledgement in the appropriate "About window" or website section accessible
 *    by all users of the product:
 * 
 *      This product includes following software developed by
 *      <a href="https://unicorn.com">Unicorn a.s.</a>:
 *      <a href="https://uuapp.plus4u.net/uu-bookkit-maing01/86b4d5a4a030400784764ebdb972bbda/book">UAF</a>,
 *      <a href="https://docs.plus4u.net/uaf/uuapp/uu5">uu5</a>.
 * 
 * 4. All derivative products must not block the default uu5 browser console message containing
 *    Software version information and copyright notice of the Author.
 * 
 * 5. The use of any portion of this Software is not allowed in the products
 *    that fully or partially resemble the functionality of the Software
 *    or otherwise compete with the Software unless they are licenced under the same licence
 *    conditions and provided free of charge. Specific prior written permission is required otherwise.
 * 
 * 6. Neither the name of the Author nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 * 
 * Disclaimer
 * ----------
 * THIS SOFTWARE IS PROVIDED BY AUTHOR "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AUTHOR BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
(window.__webpack_jsonp_uu5richtextg01_1_14_1_uu5richtextg01=window.__webpack_jsonp_uu5richtextg01_1_14_1_uu5richtextg01||[]).push([[2],{237:function(t,e,r){"use strict";r.r(e),
r.d(e,"Editor",(function(){return nt}));var n=r(0),o=r.n(n),a=(r(21),r(23)),i=r(14),s=r(50),l=r(6),c=r(250),p=r(243),f=r(31),u=r(119);function g(t){return function(t){if(Array.isArray(t))return h(t)
}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e)
;var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t)
;if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){
(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t)
;e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){
var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){m(t,e,r[e])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))
}return t}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){
return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){
return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v=function(){return{blocks:[{type:"unstyled",text:"",inlineStyleRanges:[],entityRanges:[],
depth:0,key:Object(a.genKey)()}],entityMap:{}}},O=function(t){return function(e){return"function"==typeof t?t(e):e}},S=function(t){
return t.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escapeXml:!0,preserveEnters:!1
},r=e.escapeXml,n=void 0===r||r,o=e.preserveEnters,a=void 0!==o&&o,i=t.replace(/[\u200b-\u200d]/g,"");return n&&(i=(i=i.replace(/&/g,"&amp;")).replace(/</g,"&lt;").replace(/>/g,"&gt;")),
a||(i=i.replace(/\n/g,"<br />")),i},E=function(t,e,r,n){return"br"===e.tag&&(!!r||0!==t.blocks.length&&n[t.blocks[t.blocks.length-1].key].artificial)},k=function(t,e,r,n){
return!t||n&&n.artificial?"":n&&n.isEmpty&&!r?"<".concat(t).concat(x(e),">​</").concat(t,">"):"<".concat(t).concat(x(e)).concat(r?" />":">")},C=function(t,e){
return!t||e&&e.artificial?"":"</".concat(t,">")},x=function(t){if(!t)return"";var e="";for(var r in t){var n=t[r],o=b(n)
;"number"!==o&&!1!==n?!0!==n?("object"===o&&n&&(n="<uu5json />".concat(JSON.stringify(n)),o="string"),
"string"===o&&(e+=" ".concat(r,'="').concat(n.replace(/(\\)*"/g,'$1$1\\"'),'"'))):e+=" ".concat(r):e+=" ".concat(r,"=").concat(n)}return e},_=function(t,e){
return t.offset!==e.offset?t.offset-e.offset:"closing"===t.type&&"opening"===e.type?-1:"closing"===e.type&&"opening"===t.type||t.isSelfClosing?1:e.isSelfClosing?-1:"opening"===t.type?t.startOffset===e.startOffset?"component"===t.componentType&&"style"===e.componentType?-1:"component"===e.componentType&&"style"===t.componentType?1:t.order!==e.order?e.order-t.order:e.endOffset===t.endOffset?t.index-e.index:e.endOffset-t.endOffset:t.startOffset-e.startOffset:t.endOffset===e.endOffset?"component"===t.componentType&&"style"===e.componentType?1:"component"===e.componentType&&"style"===t.componentType?-1:t.order!==e.order?t.order-e.order:e.startOffset===t.startOffset?e.index-t.index:e.startOffset-t.startOffset:t.endOffset-e.endOffset
},w={wrapper:4,block:3,entity:2,inline:1},j=function(t){return w[t]||w.entity},P=function(t,e,r,n,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"block",i=O(o),s=j(a),l=!0
;return r.forEach((function(r){if("string"!=typeof r){var o=r.props.toObject().content||r.children,a=r.cachedEditorItem||n(r.tag,i(r.props.toObject()),o,t,e);r.cachedEditorItem=a,
j(a.display)>=s&&(l=!1)}})),l},M=function(t,e,r,n,o,i,s){var l={key:Object(a.genKey)(),text:"",type:"unstyled",depth:s?s.depth+1:0,inlineStyleRanges:[],entityRanges:[]};return t.blocks.push(l),
e&&"block"===e.display?(l.type=e.type,n[l.key]=e.data):n[l.key]={artificial:!0},r&&(Array.isArray(r)||(r=[r]),N(t,e,r,n,o,i,s)),""},R=function(t,e,r,n,o,a){
var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=""
;if(!P(e.type,e.data?e.data.props:{},r,n,o,"entity"))throw"Unsupported structure of uu5string. Entity can contain only text or inline styles.";r.forEach((function(e){
return s+=U(t,e,null,n,o,a,i+s.length)}));var l=e.data,c={offset:a.text.length+i,length:s.length,key:t.entityArray.length};return a.entityRanges.push(c),t.entityArray.push({mutability:"MUTABLE",
type:e.type,data:l}),s||"​"},A=function(t,e,r,n,o,a){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=""
;if(!P(e.type,e.data?e.data.props:{},r,n,o,"block"))throw"Unsupported structure of uu5string. Inline styles cannot contain blocks or wrappers.";var l=a.text.length;r.forEach((function(e){
return s+=U(t,e,null,n,o,a,i+s.length)}));var c={offset:l+i,length:s.length,style:e.type};return a.inlineStyleRanges.push(c),s},N=function(t,e,r,n,o,a,i){var s=t.blocks[t.blocks.length-1]
;r.forEach((function(e){try{s.text+=U(t,e,n,o,a,s)}catch(n){var r,i=s.text.length,l=t.entityArray.length;if("string"==typeof e)r=e.length,s.text+=e;else{var c=Object(f.a)(e).toString();r=c.length,
s.text+=c,s.entityRanges&&(s.entityRanges=s.entityRanges.filter((function(e){var r=e.offset<i;return r||(t.entityarray[e.key]=void 0),r}))),
s.inlineStyleRanges&&(s.inlineStyleRanges=s.inlineStyleRanges.filter((function(t){return t.offset<i})))}s.entityRanges=s.entityRanges||[],s.entityRanges.push({offset:i,length:r,key:l}),
t.entityArray.push({type:"error",mutability:"MUTABLE"})}}))},D=function(t,e,r,n,o){var a=0===t.blocks.length?void 0:t.blocks[t.blocks.length-1],i=a?r[a.key]:void 0
;return i&&i.artificial||a&&a._uu5richTextDataCollector?("string"==typeof e?a.text+=e:N(t,void 0,[e],r,n,o,a),a):M(t,void 0,[e],r,n,o)},U=function t(e,r,o,a,i,s){
var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=O(i);if("string"==typeof r)return s?S(r):D(e,r,o,a,i);if(!s&&E(e,r,s,o))return D(e,"\n",o,a,i)
;var p=r.cachedEditorItem?r.cachedEditorItem.props:c(r.props.toObject());p||(p={});var f=p.content||r.children||[],u=!!p.content;Array.isArray(f)||(f=[f]),delete p.content,
(!f||Array.isArray(f)&&!f.length)&&p.tempContent&&(f="string"==typeof p.tempContent?p.tempContent:n.Common.BaseMixin.getLsiItem(p.tempContent));var g=r.cachedEditorItem
;if(g||(g=s?a(r.tag,p,f,s.type,(o[s.key]||{}).props):a(r.tag,p,f)),r.cachedEditorItem=g,s&&"wrapper"===s.display&&"inline"===g.display)return s.data=s.data||{},s.data.delimiters=s.data.delimiters||[],
s.data.delimiters.push(f),null;if("function"==typeof g.getChildren){var h=g.getChildren(r);g.children=h.children,u=h.useContent,delete g.getChildren}
if(g.children&&!Array.isArray(g.children)&&(g.children=[g.children]),g.children?f=g.children:g.children=f,g.data&&u&&(g.data.useContent=u),
"block"!==g.display&&"wrapper"!==g.display&&!s)return D(e,r,o,a,i);switch(g.display){case"wrapper":return g.depth=s?s.depth:-1,f.forEach((function(r){return t(e,r,o,a,i,g,l)})),"";case"block":
return M(e,g,f,o,a,i,s);case"entity":return R(e,g,f,a,i,s,l);case"inline":return A(e,g,f,a,i,s,l);default:return g.type=s?"unknown":"unstyled",g.display=s?"entity":"block",g.data=g.data||{},
g.data.tag=r.tag,s?R(e,g,n.Common.UU5String.contentToString(f),a,s,l):M(e,g,n.Common.UU5String.contentToString(f),a,s)}},I=function(t){if(!t||0===t.length)return{};for(var e,r={},n=0;n<t.length;n++){
var o=t[n].name;"class"===o&&(o="className"),"for"===o&&(o="htmlFor"),r[o]=t[n].value}if(r.style){for(var a={},i=r.style.split(";"),s=0;s<i.length;s++)if(i[s]){
var l=i[s].match(/^\s*(.*?):\s*(.*?)\s*$/);l&&(a[(e=l[1],e.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()})).trim())]=l[2])}r.style=a}return r},B=function(t,e,r,o,a){if(e){
var i,s,l=new n.Common.UU5String.Object,c={},p={style:!0,className:!0};if(t.props.style&&r)for(var f in t.props.style)t.props.style[f]===r[f]&&(c[f]=!0)
;for(var u=0;u<e.length;u++)if(!(s=e[u]).tagName||!0===s.tagName||s.tagName===t.tagName){if(s.className){if(!t.props.className)continue
;if("string"==typeof s.className&&s.className!==t.props.className)continue;if("object"===b(s.className)&&s.className instanceof RegExp&&!t.props.className.match(s.className))continue}var g={}
;if(s.style)if(!0===s.style){if(t.props&&t.props.style)for(var h in t.props.style)c[h]||(c[h]=!0,g[h]=t.props.style[h])}else{if(!t.props||!t.props.style)continue;var d=!0,y=t.props.style
;for(var m in s.style){if(c[m]){d=!1;break}var v=s.style[m];if(!y[m]){d=!1;break}if("object"===b(v)&&v instanceof RegExp){if(!y[m].match(v)){d=!1;break}g[m]=v}else{if(!0!==v&&v!==y[m]){d=!1;break}
g[m]=!0}}if(!d)continue}var O=l,S="function"==typeof s.result?s.result(t):s.result;if(S){if(!0!==s.tagName&&(s.final?l.tag=S.tagName:(O=new n.Common.UU5String.Object(S.tagName,void 0,l.children),
l.children=[O],i||(i=O))),S.props){var T=function(t){p[t]=!0;var e=O.props.props.find((function(e){return e.name===t})),r=S.props[t],n=b(r);e||(e={name:t},O.props.props.push(e)),
e.value="object"===n?"<uu5json />".concat(JSON.stringify(r)):r,e.valueType=n};for(var E in S.props)T(E)}if(S.style||!0===s.style){var k=O.props.props.find((function(t){return"style"===t.name}))
;k||(k={name:"style",valueType:"uu5json",value:{}},O.props.props.push(k));var C=S.style?S.style:g;for(var x in C){var _=C[x];!0===_&&(_=t.props.style[x]),k.value[x]=_}}for(var w in g){var j=g[w]
;!0===j?c[w]=!0:"object"===b(j)&&j instanceof RegExp&&(t.props.style[w]=t.props.style[w].replace(j,""),t.props.style[w].match(/^\s*$/)&&c[w])}if(s.final)break}}if(!l.tag&&i&&(l=l.children[0]),l.tag){
var P;for(var M in(i=i||l).children=t.childNodes.length?L.parseHtmlNodeListToUu5stringObject(t.childNodes,e,r,o,a):void 0,t.props)p[M]||l.props.props.push({name:M,value:t.props[M]})
;if(s.textChildOnly&&(null===(P=l.children)||void 0===P?void 0:P.length)>0&&"string"!=typeof l.children[0]){
for(var R,A=l,N=l=A.children[0];null!==(D=N)&&void 0!==D&&D.children&&N.children[0]&&"string"!=typeof N.children[0];){var D;N=N.children[0]}
null!==(R=N)&&void 0!==R&&R.children&&N.children[0]?(A.children=N.children,N.children=[A]):N.children=[A]}return l}return L.parseHtmlNodeListToUu5stringObject(t.childNodes,e,r,o,a)}},L={
editorStateToRaw:function(t){return Object(a.convertToRaw)(t.getCurrentContent())},editorStateToUU5String:function(t,e,r){for(var o=function(t){if(t)return r&&r(JSON.parse(JSON.stringify(t)))||t
},i=t.getCurrentContent(),s=Object(a.convertToRaw)(i),l=!0,c=0;c<s.blocks.length;c++){if(s.blocks[c].text){l=!1;break}}if(l)return""
;for(var p="<uu5string />",f=[],u=[],h=!1,d=[],m=0;m<s.blocks.length;m++){var v=s.blocks[m],O=i.getBlockForKey(v.key).getData().toJSON()
;O.artificial&&(O.artificial="unstyled"===v.type&&(!v.data||!v.data.props||!v.data.props.size)&&(0===m||!d[m-1].artificial)&&(!s.blocks[m+1]||s.blocks[m+1].text&&"unstyled"===s.blocks[m+1].type)&&(0===m||s.blocks[m-1].text&&"unstyled"===s.blocks[m-1].type)),
d.push(O)}for(var S=function(t){var r=s.blocks[t],a=t===s.blocks.length-1?null:s.blocks[t+1],i=d[t],l=i.props,c=f.length>0&&f[f.length-1]||{},m="error"===r.type?{tag:null,opts:{preserveEnters:!0}
}:e("block",r.type,l,c.tag,c.props,!r.text);m.opts=m.opts||{};for(var v=[],O=u.length-1;O>=0;O--){var S=u[O];if(S.depth<r.depth)break;u.pop(),v.push({tag:S.item.tag,depth:S.depth,blockData:S.blockData
})}for(var E=!1;f.length>0&&f[f.length-1].depth>=r.depth;){var x=f.pop();if(x.depth===r.depth&&x.tag===m.wrapper){E=!0,f.push(x);break}v.push({tag:x.tag,depth:x.depth-.5})}v.sort((function(t,e){
return e.depth-t.depth}));for(var w=0;w<v.length;w++)p+=C(v[w].tag,v[w].blockData);if(m.wrapper&&(E||(f.push({tag:m.wrapper,props:i.wrapperProps,depth:r.depth}),p+=k(m.wrapper,o(m.wrapperProps)))),
m.tag)if(m.isSelfClosed||0===T(r.text).length&&(!a||a.depth<=r.depth)&&(!r.entityRanges||0===r.entityRanges.length))i.isEmpty=!0,p+=k(m.tag,o(m.props),m.isSelfClosed,i);else{
p+=k(m.tag,o(m.props),!1,i),u.push({depth:r.depth,item:m,blockData:i});for(var j=[],P=[],M=0;M<r.inlineStyleRanges.length;M++){var R=r.inlineStyleRanges[M],A=e("inline",R.style,null);if(A){if(A.tag){
var N=A.isSelfClosed||0===T(r.text.substr(R.offset,R.length)).length,D=j.length;j.push({type:"opening",componentType:"style",offset:R.offset,startOffset:R.offset,endOffset:R.offset+R.length,
name:A.tag,props:A.props,isSelfClosing:N,index:D,order:A.order||50,getChildren:A.fn}),N||j.push({type:"closing",componentType:"style",offset:R.offset+R.length,startOffset:R.offset,
endOffset:R.offset+R.length,name:A.tag,props:A.props,index:D,order:A.order||50})}else if(A.replaceChar){var U=A.replaceChar(r.text.substring(R.offset,R.offset+R.length));U&&(U.offset+=R.offset,
U.length=R.length,P.push(U))}}else n.Common.Tools.warning("RichText - Unknown style definition",R.style)}for(var I=0;I<r.entityRanges.length;I++){var B=r.entityRanges[I],L=s.entityMap[B.key]
;if(L.type){var F="error"===L.type?{tag:null,opts:{preserveEnters:!0}}:e("entity",L.type,L.data.props);if(F){var K=F.isSelfClosed||L.data.useContent||0===T(r.text.substr(B.offset,B.length)).length
;if(!K&&F.props&&F.props.tempContent){var H=F.props.tempContent;"object"===b(H)&&(H=n.Common.BaseMixin.getLsiItem(H)),K=H===r.text.substr(B.offset,B.length)}
L.data.useContent&&(F.props?F.props.content=r.text.substring(B.offset,B.offset+B.length):F.props={content:r.text.substring(B.offset,B.length)});var V=j.length;j.push({type:"opening",
componentType:"component",offset:B.offset,startOffset:B.offset,endOffset:B.offset+B.length,name:F.tag,props:F.props,isSelfClosing:K,index:V,order:F.order||50,opts:F.opts}),K||j.push({type:"closing",
componentType:"component",offset:B.offset+B.length,startOffset:B.offset,endOffset:B.offset+B.length,name:F.tag,props:F.props,index:V,order:F.order||50,opts:F.opts})
}else n.Common.Tools.warning("RIchText - Unknown entity value.",L)}}j.sort(_),P.sort((function(t,e){return t.offset-e.offset}));for(var $=h?-1:-2,X=0;X<P.length;X++){var J=P[X]
;J.hidden&&J.offset!==$+1?0===J.offset?p.match(/\s{2,}(<[^>]*>)*$/)?(J.hidden=!1,$=J.offset):J.replace="":r.text.substring(0,J.offset).match(/\s{2,}(<[^>]*>)*$/)?(J.hidden=!1,
$=J.offset):J.replace="":$=J.offset}for(var z=r.text.length,G=P.length-1;G>=0;G--){var W=P[G];if(z-=W.length,h=W.offset===z,!W.hidden||!h)break}var q=0,Q=q===P.length,Y=[],Z=r.text,tt=0,et=0
;for(j.forEach((function(t){var e=t.offset;if(e!==tt)if(!Q&&e>P[q].offset){for(var r=tt;!Q&&r<e;){var n=P[q].offset;if(n>e)break;p+=T(Z.substring(r,n),y({escapeXml:0===et
},Y&&Y.length>0?Y[Y.length-1].opts:m.opts)),p+=P[q].replace,r=n+1,q++,Q=P.length===q}p+=T(Z.substring(r,e),y({escapeXml:0===et},Y&&Y.length>0?Y[Y.length-1].opts:m.opts))
}else p+=T(Z.substring(tt,e),y({escapeXml:0===et},Y&&Y.length>0?Y[Y.length-1].opts:m.opts));if(tt=e,"opening"===t.type){t.name||et++
;var a,i="component"===t.componentType&&Y.length&&!t.isSelfClosing&&t.name||"style"===t.componentType&&Y.length&&"style"===Y[Y.length-1].componentType&&Y[Y.length-1].order<t.order
;if(t.isSelfClosing&&(tt=t.endOffset),i){if("component"===t.componentType)a=[].concat(Y).reverse();else{a=[];for(var s=Y.length-1;s>=0;s--){var l=Y[s]
;if("component"===l.componentType||l.order>=t.order)break;a.push(l)}}a.forEach((function(t){p+=C(t.name),t.offset=e,t.startOffset=e})),Y.splice(Y.length-a.length,a.length)}
p+=k(t.name,o(t.props),t.isSelfClosing),t.isSelfClosing||Y.push(t),i&&(a.sort(_),a.forEach((function(t){p+=k(t.name,o(t.props)),Y.push(t)})))}else{if(t.alreadyClosed)return;t.name||et--
;for(var c=Y.length-1;c>=0;c--){if(Y[c].index===t.index)break}if(c===Y.length-1)p+=C(t.name),Y.pop();else{for(var f=function(e){var r=Y[e];(p+=C(r.name),r.endOffset===t.endOffset)&&(Y.splice(e,1),
j.find((function(t){return"closing"===t.type&&t.index===r.index})).alreadyClosed=!0)},u=Y.length-1;u>c;u--)f(u);p+=C(t.name);var h=Y.slice(c+1);h.forEach((function(t){t.offset=e,t.startOffset=e})),
h.sort(_),Y.splice.apply(Y,[c+1,h.length].concat(g(h)));for(var d=c+1;d<Y.length;d++){var b=Y[d];p+=k(b.name,o(b.props))}Y.splice(c,1)}}}));!Q;){var rt=P[q].offset;p+=T(Z.substring(tt,rt),y({
escapeXml:0===et},Y&&Y.length>0?Y[Y.length-1].opts:m.opts)),p+=P[q].replace,tt=rt+1,q++,Q=P.length===q}p+=T(Z.substring(tt),y({escapeXml:0===et},m.opts))}else p+=T(r.text,y({escapeXml:!1},m.opts))
},E=0;E<s.blocks.length;E++)S(E);for(var x=[],w=0;w<u.length;w++)x.push({depth:u[w].depth,tag:u[w].item.tag,blockData:u[w].blockData});for(var j=0;j<f.length;j++)x.push({depth:f[j].depth-.5,
tag:f[j].tag});x.sort((function(t,e){return e.depth-t.depth}));for(var P=0;P<x.length;P++)p+=C(x[P].tag,x[P].blockData);return p},uu5stringToRaw:function(t,e,r,o){if(!t)return v();var i;try{
i="string"==typeof t?n.Common.UU5String.parse(t.replace(/[\u200b-\u200d]/g,"")):t}catch(e){return{blocks:[{type:"error",text:t.replace(/^<uu5string\s*\/>/,""),inlineStyleRanges:[],entityRanges:[],
depth:0,key:Object(a.genKey)()}],entityMap:{}}}if(!i.length)return v();var s={blocks:[],entityArray:[]};return i.forEach((function(t){"UU5.RichText.EndBlock"!==t.tag?U(s,t,e,r,o):s.blocks.push({
key:Object(a.genKey)(),text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],_uu5richTextDataCollector:!0})})),s.entityMap={},s.entityArray.forEach((function(t,e){s.entityMap[e]=t})),
delete s.entityArray,s},uu5stringToEditorState:function(t){
var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=new a.CompositeDecorator(r),l=t&&("object"===b(t)||n.Common.REGEXP.uu5string.test(t))
;if(l){var c={};for(var p in e=a.EditorState.createWithContent(Object(a.convertFromRaw)(L.uu5stringToRaw(t,c,o,i)),s),c){var f=a.Modifier.setBlockData(e.getCurrentContent(),u.a.modifySelection(e,{
anchorKey:p,focusKey:p,anchorOffset:0,focusOffset:0}),c[p]);e=a.EditorState.push(e,f,"parse from uu5string")}
}else t?e=a.EditorState.createWithContent(a.ContentState.createFromText(t),s):a.EditorState.createEmpty(s);return e},parseHtmlNodeListToUu5stringObject:function(t,e,r){
var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=[],s="",l=!a;return t.forEach((function(a,c){var p;switch(a.nodeType){
case 1:if(c===t.length-1&&"br"===a.tagName.toLowerCase())break;s&&(i.push(s),s="");var f=a.tagName.toLowerCase();if(p=B({tagName:f,props:I(a.attributes),childNodes:a.childNodes},e,r,!0,!1),l=l||!!p,
!o&&"div"===f){var u=new n.Common.UU5String.Object;u.tag="UU5.RichText.EndBlock",i.push(u)}break;case 3:p=a.textContent,l||(p=p.replace(/^\s*/,""),l=!!p),p=p.replace(/\n/g,""),s+=p,p=null}
p&&(Array.isArray(p)?i=i.concat(p):i.push(p))})),s&&(a&&(s=s.replace(/\s*$/,"")),i.push(s)),i}},F=L,K=r(242),H=r(17),V=r(118);r(248);function $(t,e){var r=Object.keys(t)
;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function X(t){
for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(Object(r),!0).forEach((function(e){J(t,e,r[e])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))
}return t}function J(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z(t){return function(t){if(Array.isArray(t))return G(t)
}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return G(t,e)
;var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t)
;if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(t,e)}(t)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){
(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t
}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){var r;"string"==typeof t?(r=t,
t=o.a.RichText.plugins[t]):r=t.name,e[r]=t}var Q=V.a;if(o.a.Environment.uu5richtext){var Y=o.a.Environment.uu5richtext.pluginMap;for(var Z in Q={},V.a)if(Y[Z]){var tt=Y[Z]
;Array.isArray(tt)?tt.forEach((function(t){return q(t,Q)})):q(tt,Q)}else Q[Z]=V.a[Z]}
var et=navigator.userAgent.match("Trident"),rt=/^<uu5string\s*\/>$/,nt=Object(i.c)(o.a.Common.VisualComponent.create({mixins:[o.a.Common.BaseMixin],statics:{tagName:l.a.TAG+"Editor",classNames:{
main:function(t,e){
return l.a.CSS+"editor"+(e.customToolbar&&e.focused&&t.dynamicToolbar||!t.dynamicToolbar?" "+o.a.Common.Css.css("\n                .public-DraftEditor-content,\n                .public-DraftEditorPlaceholder-root {\n                  padding-top: 40px;\n                }\n\n                && .public-DraftEditor-content::before {\n                  width: calc(100% + 16px);\n                  ".concat(t.animatedToolbar?"transition-delay: 0.5s;":"","\n                }\n              ")):"")+" "+o.a.Common.Css.css("\n            .public-DraftEditorPlaceholder-root {\n              line-height: 1.5;\n            }\n\n            .public-DraftEditor-content {\n              ".concat(et?"\n                    overflow-x: hidden;\n                    overflow-y: auto;\n                  ":"\n                    display: flex;\n                    flex-direction: column;\n                    align-items: stretch;\n\n                    & > div {\n                      overflow-x: hidden;\n                      overflow-y: auto;\n                    }\n                  ","\n              height: ").concat("number"==typeof t.height?t.height+"px":t.height,";\n              min-height: ").concat("number"==typeof t.minHeight?t.minHeight+"px":t.minHeight,";\n              max-height: ").concat("number"==typeof t.maxHeight?t.maxHeight+"px":t.maxHeight,";\n            }\n          "))+(t.animatedToolbar?" "+o.a.Common.Css.css("\n                .public-DraftEditor-content,\n                .public-DraftEditorPlaceholder-root {\n                  transition: padding-top 0.5s;\n                }\n              "):"")+(t.readOnly?" "+o.a.Common.Css.css("\n                .public-DraftEditor-content {\n                  border-color: rgba(189, 189, 189, .24);\n                  background-color: rgba(255, 255, 255, .24);\n                }\n              "):"")
},bgstyleTransparent:l.a.CSS+"editor-transparent"},lsi:function(){return o.a.Environment.Lsi.RichText.editor}},propTypes:{value:o.a.PropTypes.string,
buttons:o.a.PropTypes.arrayOf(o.a.PropTypes.string),plugins:o.a.PropTypes.oneOfType([o.a.PropTypes.arrayOf(o.a.PropTypes.object),o.a.PropTypes.object]),readOnly:o.a.PropTypes.bool,
onChange:o.a.PropTypes.func,onBlur:o.a.PropTypes.func,onFocus:o.a.PropTypes.func,pluginExtensions:o.a.PropTypes.object,handleKeyCommand:o.a.PropTypes.bool,getToolbar:o.a.PropTypes.func,
placeholder:o.a.PropTypes.string,forceRenderModal:o.a.PropTypes.bool,bgStyle:o.a.PropTypes.oneOf(["outline","transparent"]),height:o.a.PropTypes.oneOfType([o.a.PropTypes.number,o.a.PropTypes.string]),
minHeight:o.a.PropTypes.oneOfType([o.a.PropTypes.number,o.a.PropTypes.string]),maxHeight:o.a.PropTypes.oneOfType([o.a.PropTypes.number,o.a.PropTypes.string]),animatedToolbar:o.a.PropTypes.bool,
dynamicToolbar:o.a.PropTypes.bool,inline:o.a.PropTypes.bool},getDefaultProps:function(){return{value:"",buttons:void 0,readOnly:void 0,onChange:null,onBlur:null,onFocus:null,plugins:null,
pluginExtensions:void 0,handleKeyCommand:!0,getToolbar:null,forceRenderModal:!1,bgStyle:"outline",height:"auto",minHeight:"106px",maxHeight:"none",animatedToolbar:!0,dynamicToolbar:!0,inline:!1}},
getInitialState:function(){this._plugins=K.a.mergePlugins(this.props,Q).map((function(t){return H.b.createPluginFromDefinition(t)})),this._plugins.sort((function(t,e){return e.order-t.order}))
;var t=K.a.processPlugins(this._plugins,this.props.pluginExtensions),e=t.buttonMap||{};this._areaConfig=t.areaConfig,this._htmlMappings=t.htmlMappings
;var r=void 0===this.props.buttons?s.a:this.props.buttons;return{areaLoaded:!1,buttons:r=r&&r.reduce((function(t,r){return e[r]&&t.push(e[r]),t}),[]),customToolbar:!1}},componentDidCatch:function(t){
var e=this.getArea().getEditorState();o.a.Common.Tools.error(t,{editorState:e}),this._errorEditorState=a.EditorState.redo(e),this._errorMsg=this.getLsiValue("editorError"),this.forceUpdate()},
setValue:function(t,e,r){var n,o,i=!1;switch(W(e)){case"object":e&&(i=void 0!==e.focus?e.focus:i,n=e.propsFormatter);break;case"function":n=e;break;case"boolean":i=e}
if(!t||rt.test(t))o=a.EditorState.createEmpty(new a.CompositeDecorator(this._areaConfig.decorators));else try{o=F.uu5stringToEditorState(t,this._areaConfig.decorators,this._getEditorItem,n)}catch(e){
this.setError(this.getLsiValue("uu5stringToEditorError"),{e:e,uu5string:t})}return this._area.setEditorState(o,i,r),o},getValue:function(){
var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._area.getEditorState(),e=arguments.length>1?arguments[1]:void 0;try{return F.editorStateToUU5String(t,this._getUU5Item,e)}catch(e){
this.setError(this.getLsiValue("editorStateToUu5stringError"),{editorState:t,e:e})}},getArea:function(){return this._area},focus:function(){this._focus()},setCursorPosition:function(t){this._focus(t)
},isMultiline:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._area.getEditorState();return nt.isMultiline(t,this._plugins)},setError:function(t,e){
this._alertBus&&this._alertBus.setAlert({content:t}),o.a.Common.Tools.error(t,e)},setInfo:function(t){this._alertBus&&this._alertBus.setAlert({content:t,colorSchema:"primary"})},_focus:function(){
var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";this.getArea().focus(),
"start"===t?this.getArea().setEditorState(u.a.moveSelectionToStart(this.getArea().getEditorState())):"end"===t&&this.getArea().setEditorState(u.a.moveSelectionToEnd(this.getArea().getEditorState()))},
_onChange:function(t,e){return"function"==typeof this.props.onChange&&(e=this.props.onChange(this,e)||e),e},_onBlur:function(t){if("function"==typeof this.props.onBlur&&this.props.onBlur(t,this),
"function"==typeof this.props.getToolbar){var e=this.props.getToolbar();e&&e.setItems(this,[])}else this.setState({focused:!1})},_registerToolbar:function(t){this._toolbar=t,
"function"!==this.props.getToolbar&&(this.props.dynamicToolbar||this._toolbar.setItems(this,this.state.buttons),this.setState({customToolbar:!0}))},_registerArea:function(t){if(this._area=t,
this._errorEditorState)this._areaConfig.editorState=this._errorEditorState,delete this._errorEditorState;else if(this.props.value)try{
this._areaConfig.editorState=F.uu5stringToEditorState(this.props.value,this._areaConfig.decorators,this._getEditorItem)}catch(t){this.setError(this.getLsiValue("uu5stringToEditorError"),{e:t,
value:this.props.value})}this._area.set(this._areaConfig),this.setState({areaLoaded:!0})},_registerAlertBus:function(t){this._alertBus=t,this._errorMsg&&(this._alertBus.setAlert({
content:this._errorMsg}),delete this._errorMsg)},_getArea:function(){return this._area},_getToolbar:function(){return"function"==typeof this.props.getToolbar?this.props.getToolbar():this._toolbar},
_getUU5Item:function(t,e,r,n,o,a){for(var i,s=0;s<this._plugins.length;s++){var l=this._plugins[s];if("function"==typeof l.toUU5Item&&(i=l.toUU5Item(t,e,r,n,o,a)))break}return i},
_getEditorItem:function(t,e,r,n,o){return nt._getEditorItem(this._plugins,t,e,r,n,o)},_handlePaste:function(t,e,r){var n;if(e){var i=document.createElement("html");i.innerHTML=e
;var s=i.getElementsByTagName("body")[0];if(s)try{var l=this.findDOMNode(),c=l&&l.querySelector(".public-DraftEditor-content")
;n=F.parseHtmlNodeListToUu5stringObject(s.childNodes,this._htmlMappings,l?getComputedStyle(c||l):null)}catch(t){this.setError(this.getLsiValue("htmlParseError"),{html:s,e:t})}
}else o.a.Common.UU5String.isValid(t)&&(n=t);if(n){var p,f,g={};try{f=F.uu5stringToRaw(n,g,this._getEditorItem)}catch(t){return void this.setError(this.getLsiValue("uu5stringToEditorError"),{
uu5string:n,e:t})}for(var h=[],d=0;d<f.blocks.length;d++){var y=f.blocks[d];!y.text&&y._uu5richTextDataCollector&&h.push(d)}for(var m=h.length-1;m>=0;m--){var b=h[m];f.blocks.splice(b,1)}
var v=r.getCurrentContent(),O=r.getSelection(),S=r.getUndoStack().push(v);r.getSelection().isCollapsed()||(v=a.Modifier.removeRange(v,O,O.isBackward?"backward":"forward"),O=u.a.collapseToStart(O))
;var T=!f.blocks.every((function(t){return"unstyled"===t.type&&!t._uu5richTextDataCollector&&!g[t.key]||g[t.key]&&g[t.key].artificial&&1===Object.keys(g[t.key]).length}));T||(g={}),
T&&v.getBlockForKey(O.getStartKey()).getText().length>O.getStartOffset()&&(v=a.Modifier.splitBlock(v,O));for(var E=Object(a.convertToRaw)(v),k=E.blocks.findIndex((function(t){
return t.key===O.anchorKey})),C=r.getDirectionMap(),x=C.get(O.anchorKey),_=Object.keys(E.entityMap).length,w=0;w<f.blocks.length;w++){for(var j=f.blocks[w],P=0;P<j.entityRanges.length;P++){
j.entityRanges[P].key+=_}T&&(C=C.set(j.key,x))}for(var M in f.entityMap)E.entityMap[parseInt(M)+_+""]=f.entityMap[M];if(T){var R,A
;if(E.blocks[k].text)(R=E.blocks).splice.apply(R,[k+1,0].concat(z(f.blocks)));else(A=E.blocks).splice.apply(A,[k,1].concat(z(f.blocks)));var N=f.blocks[f.blocks.length-1];p={startOffset:N.text.length,
endOffset:N.text.length,startKey:N.key,endKey:N.key}}else{var D,U=E.blocks[k],I=U.text.substring(0,O.anchorOffset),B=I.length,L=0,K=!1;f.blocks.forEach((function(t){return L+=t.text.length})),
U.entityRanges.forEach((function(t){t.offset>=B?t.offset+=L:t.offset+t.length>=B&&(K=!0,t.length+=L)}));for(var H=[],V=0;V<U.inlineStyleRanges.length;V++){var $=U.inlineStyleRanges[V]
;if($.offset>=B)$.offset+=L;else if($.offset+$.length>=B){var J=B-$.offset,G=$.length-J;$.length=J;var W=X({},$);W.offset=B+L,W.length=G,H.push(W)}}(D=U.inlineStyleRanges).push.apply(D,H)
;for(var q=0;q<f.blocks.length;q++){B=I.length;var Q=f.blocks[q];if(I+=Q.text,!K)for(var Y=0;Y<Q.entityRanges.length;Y++){var Z=Q.entityRanges[Y];Z.offset+=B,U.entityRanges.push(Z)}
for(var tt=0;tt<Q.inlineStyleRanges.length;tt++){var et=Q.inlineStyleRanges[tt];et.offset+=B,U.inlineStyleRanges.push(et)}}I+=U.text.substring(O.anchorOffset),U.text=I;var rt=O.getStartOffset()+L;p={
startOffset:rt,endOffset:rt,startKey:O.getStartKey(),endKey:O.getEndKey()}}if(v=Object(a.convertFromRaw)(E),p){var nt=u.a.updateSelection(r,p);p=nt.getSelection(),
v=(v=v.set("selectionBefore",r.getSelection())).set("selectionAfter",nt.getSelection())}var ot=a.EditorState.set(r,{currentContent:v,selection:p||O,directionMap:C,undoStack:S});for(var at in g){
var it=a.Modifier.setBlockData(ot.getCurrentContent(),u.a.modifySelection(r,{anchorKey:at,focusKey:at,anchorOffset:0,focusOffset:0}),g[at]);ot=a.EditorState.set(ot,{currentContent:it})}
var st=ot.getCurrentContent();return st=st.set("selectionAfter",ot.getSelection()),ot=a.EditorState.set(ot,{currentContent:r.getCurrentContent(),selection:r.getSelection()}),
ot=a.EditorState.push(ot,st,"paste uu5string"),this.getArea().setEditorState(ot),!0}return!1},_showToolbar:function(){return"function"!=typeof this.props.getToolbar},_handleFocus:function(t){
if("function"==typeof this.props.onFocus&&this.props.onFocus(t),"function"==typeof this.props.getToolbar){var e=this.props.getToolbar();e&&e.setItems(this,this.state.buttons)}else this.setState({
focused:!0})},render:function(){var t=this.getMainAttrs();return"transparent"===this.props.bgStyle&&(t.className+=" ".concat(this.getClassName("bgstyleTransparent"))),
o.a.Common.Element.create("div",t,o.a.Common.Element.create(o.a.Bricks.AlertBus,{ref_:this._registerAlertBus,colorSchema:"danger",closeTimer:5e3}),o.a.Common.Element.create(p.default,{
ref_:this._registerArea,onChange:this._onChange,onBlur:this._onBlur,onFocus:this._handleFocus,readOnly:this.props.readOnly,getToolbar:this._getToolbar,handleKeyCommand:this.props.handleKeyCommand,
onPaste:this._handlePaste,placeholder:this.props.placeholder,forceRenderModal:this.props.forceRenderModal,key:"area",id:"area"}),this._showToolbar()&&o.a.Common.Element.create(c.default,{
ref_:this._registerToolbar,className:this.getClassName("toolbar"),items:this.state.focused?this.state.buttons:void 0,getArea:this._getArea,disabled:!this.state.areaLoaded||this.props.readOnly,
key:"toolbar",id:"toolbar",animated:this.props.animatedToolbar,dynamic:this.props.dynamicToolbar}))}}));nt.isMultiline=function(t,e){if(!t||!e){
var r=o.a.Common.Tools.getLSIItemByLanguage(o.a.Environment.Lsi.RichText.editor.mandatoryMethodParams);throw o.a.Common.Tools.error(r,{uu5string:t?"OK":"Missing",plugins:e?"OK":"Missing"}),r}var n
;if("string"==typeof t){var a=K.a.mergePlugins({plugins:e},Q).map((function(t){return H.b.createPluginFromDefinition(t)}));a.sort((function(t,e){return e.order-t.order}));var i=K.a.processPlugins(a)
;try{n=F.uu5stringToEditorState(t,i.areaConfig.decorators,(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return nt._getEditorItem.apply(nt,[a].concat(e))}))
}catch(e){var s=o.a.Common.Tools.getLSIItemByLanguage(o.a.Environment.Lsi.RichText.editor.uu5stringToEditorError);throw o.a.Common.Tools.error(s,{e:e,uu5string:t}),s}}else n=t
;var l=n.getCurrentContent().getBlocksAsArray();return l.length>1||!!l[0].getText().match(/\n/)},nt._getEditorItem=function(t,e,r,n,o,a){for(var i,s={matchRate:0},l=0;l<t.length;l++){var c=t[l]
;if("function"==typeof c.toEditorItem){if((i=c.toEditorItem(e,r,n,o,a))&&void 0===i.matchRate)return i;if(i&&i.matchRate>s.matchRate&&1===(s=i).matchRate)break}}return s.matchRate?s:void 0}
;e.default=nt},242:function(t,e,r){"use strict";var n=r(0),o=r.n(n),a=r(239),i={createBlockRendererFn:function(t){return function(e){var r=e.getType(),o=e.getData().get("props");o=o?o.toJSON():{}
;var a=t[r];return"function"==typeof a?{component:a,props:o}:n.Common.Tools.merge({props:o},a)}}},s=r(59),l=r(51),c=r(117),p=r(52);function f(t,e){var r=Object.keys(t)
;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){
for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){g(t,e,r[e])
})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))
}return t}function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h={unstyled:l.a,error:c.a,whitespace:p.a
},d=100,y=10,m=2,b=-1,v=function(t){var e=0;return t.tagName&&(e+=d),t.classNames&&(Array.isArray(t.classNames)?e+=y*t.classNames.length:e+=y),t.style&&(e+=Object.keys(t.style).length*m),
t.final&&(e+=b),e},O=function(t,e){var r=t.order;r||(r=v(t),t.order=r);var n=e.order;return n||(n=v(e),e.order=n),n-r},S={processPlugins:function(t){
var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={buttonMap:{},htmlMappings:[],areaConfig:{commands:[],customStyleMap:{},blockRenderMap:{},getEditationFormMap:{},decorators:[],
entityOptions:{}}};return t.forEach((function(t){if(t.commands&&(n.areaConfig.commands=n.areaConfig.commands.concat(t.commands)),t.buttonMap){var l=t.buttonMap,c=r[t.name]
;if(c)for(var p in c)if("buttonMap"!==p)t[p]=c[p];else{var f=c.buttonMap;for(var g in f)if(l[g]){var h=l[g],d={};for(var y in h)d[y]=h[y];d.props=o.a.Common.Tools.merge(d.props,f[g]),l[g]=d}}
var m,b=Object.keys(l);if(Array.isArray(t.commands)&&0!==b.length){var v=t.commands.filter((function(t){return t.showInTooltip||t.buttonName}));if(1!==v.length||v[0].buttonName||1!==b.length){
if(0!==v.length){var O={};v.forEach((function(t){t.buttonName&&(O[t.buttonName]=t)})),m=function(t){return O[t]}}}else m=function(){return v[0]}}b.forEach((function(e){var r=l[e]
;r.getProps&&(r.getProps=r.getProps.bind(t)),"function"==typeof m&&(r.items&&(r.items=r.items.map((function(t,e){return u(u({},t),{},{shortcut:m(t.name)})}))),r.shortcut=m(e))})),
n.buttonMap=o.a.Common.Tools.merge(n.buttonMap,l)}if(t.customStyleMap&&(n.areaConfig.customStyleMap=o.a.Common.Tools.merge(n.areaConfig.customStyleMap,t.customStyleMap)),
t.blockMap)for(var S in t.blockMap){var T=t.blockMap[S];T.rendererFn&&((e=e||{})[S]=T.rendererFn),T.renderMap&&(n.areaConfig.blockRenderMap[S]=T.renderMap,
T.renderMap.wrapperName&&(n.areaConfig.blockRenderMap[S].wrapper=(s.a.wrapperMap||{})[T.renderMap.wrapperName]))}
if(t.getEditationFormMap)for(var E in t.getEditationFormMap)n.areaConfig.getEditationFormMap[E]=t.getEditationFormMap[E]
;t.entities&&(Array.isArray(t.entities)?t.entities:[t.entities]).forEach((function(e){n.areaConfig.decorators.push({component:e.component,strategy:e.strategy||a.a.getDefaultStrategy(e.name||t.name)})
}));t.toEditorItemDefs&&t.toEditorItemDefs.forEach((function(t){"entity"===t.type&&t.preserveEnters&&(n.areaConfig.entityOptions[t.name]={preserveEnters:t.preserveEnters})})),
t.htmlMappings&&(n.htmlMappings=n.htmlMappings.concat(Array.isArray(t.htmlMappings)?t.htmlMappings:[t.htmlMappings])),e&&(n.areaConfig.blockRendererFn=i.createBlockRendererFn(e))})),
n.htmlMappings.sort(O),n},mergePlugins:function(t,e){var r=[],n={},o={unstyled:!1,error:!1};if(t&&t.plugins){if(Array.isArray(t.plugins)){for(var a in t.plugins.forEach((function(t){r.push(t),
!1===o[t.name]&&(o[t.name]=!0)})),o)o[a]||r.push(e[a]||h[a]);return r}for(var i in t.plugins)r.push(t.plugins[i]),n[i]=!0}for(var s in e)n[s]||r.push(e[s]);return t.inline&&(r=r.filter((function(t){
var e=t.toJSON();return!!o.hasOwnProperty(e.name)||"block"!==e.type}))),r}};e.a=S},248:function(t,e,r){var n=r(249);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!1,transform:void 0,
insertInto:function(){return r(19)()}};r(20)(n,o);n.locals&&(t.exports=n.locals)},249:function(t,e,r){
(e=r(18)(!1)).push([t.i,'.uu5-richtext-editor{position:relative}.uu5-richtext-editor-transparent .public-DraftEditor-content{background:transparent}.uu5-richtext-editor .uu5-richtext-toolbar{border:none;border-radius:0;position:absolute;top:2px;left:2px;right:2px;height:33px}.uu5-richtext-editor .uu5-richtext-toolbar>div:after{content:"";display:block;height:0;position:absolute;left:-2px;width:calc(100% + 4px);border-bottom:1px solid #bdbdbd}.uu5-richtext-editor .public-DraftEditor-content{border-top-left-radius:0;border-top-right-radius:0}.uu5-richtext-editor .public-DraftEditor-content .uu5-bricks-ul>.uu5-bricks-li>div{display:inline-block}',""]),
t.exports=e}}]);